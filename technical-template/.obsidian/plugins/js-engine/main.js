/*
-------------------------------------------
JS Engine - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Sat, 08 Nov 2025 21:38:36 GMT
Version: 0.3.3
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2025 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var Ag=Object.create;var Fo=Object.defineProperty;var Pg=Object.getOwnPropertyDescriptor;var Og=Object.getOwnPropertyNames;var jg=Object.getPrototypeOf,Ng=Object.prototype.hasOwnProperty;var At=(t,e)=>{for(var r in e)Fo(t,r,{get:e[r],enumerable:!0})},Of=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Og(e))!Ng.call(t,i)&&i!==r&&Fo(t,i,{get:()=>e[i],enumerable:!(n=Pg(e,i))||n.enumerable});return t};var jf=(t,e,r)=>(r=t!=null?Ag(jg(t)):{},Of(e||!t||!t.__esModule?Fo(r,"default",{value:t,enumerable:!0}):r,t)),Cg=t=>Of(Fo({},"__esModule",{value:!0}),t);var jx={};At(jx,{default:()=>Ps});module.exports=Cg(jx);var Fn=class t{name;id;executionContext;constructor(e,r,n){this.name=e,this.id=r,this.executionContext=n}toString(){return`plugin:js-engine:${this.name}:${this.id}`}static create(e){return new t(e,self.crypto.randomUUID())}};typeof window<"u"&&((window.__svelte??={}).v??=new Set).add("5");var er={};var pe=Symbol(),ct=Symbol("filename"),Nf=Symbol("hmr"),Cf="http://www.w3.org/1999/xhtml";var Us="@attach";var Bo=!0;var Mf=globalThis.process?.env?.NODE_ENV,g=Mf&&!Mf.toLowerCase().startsWith("prod");var Pt=Array.isArray,Uf=Array.prototype.indexOf,Ai=Array.from,Ds=Object.keys,Be=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,Vo=Object.getOwnPropertyDescriptors,Jo=Object.prototype,Df=Array.prototype,Fr=Object.getPrototypeOf,Rs=Object.isExtensible;function Ls(t){return typeof t=="function"}var ft=()=>{};function Wo(t){for(var e=0;e<t.length;e++)t[e]()}function Go(){var t,e,r=new Promise((n,i)=>{t=n,e=i});return{promise:r,resolve:t,reject:e}}var je=Symbol("$state"),Pi=Symbol("legacy props"),Rf=Symbol(""),qo=Symbol("proxy path"),tr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};var Bn=3,Ye=8;function Oi(t){if(g){let e=new Error(`lifecycle_outside_component
\`${t}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Lf(){if(g){let t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Zs(){if(g){let t=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function Zf(){if(g){let t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ff(t){if(g){let e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Bf(){if(g){let t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vf(t){if(g){let e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Jf(){if(g){let t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wf(){if(g){let t=new Error("flush_sync_in_effect\nCannot use `flushSync` inside an effect\nhttps://svelte.dev/e/flush_sync_in_effect");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/flush_sync_in_effect")}function Gf(){if(g){let t=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/hydration_failed")}function qf(){if(g){let t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Yf(t){if(g){let e=new Error(`props_invalid_value
Cannot do \`bind:${t}={undefined}\` when \`${t}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/props_invalid_value")}function Hf(t){if(g){let e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Kf(){if(g){let t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xf(){if(g){let t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qf(){if(g){let t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ed(){if(g){let t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var rr="font-weight: bold",nr="font-weight: normal";function td(t,e){g?console.warn(`%c[svelte] await_waterfall
%cAn async derived, \`${t}\` (${e}) was not read immediately after it resolved. This often indicates an unnecessary waterfall, which can slow down your app
https://svelte.dev/e/await_waterfall`,rr,nr):console.warn("https://svelte.dev/e/await_waterfall")}function rd(t,e,r){g?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${t}\` attribute on \`${e}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,rr,nr):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function nd(t){g?console.warn(`%c[svelte] hydration_html_changed
%c${t?`The value of an \`{@html ...}\` block ${t} changed between server and client renders. The client value will be ignored in favour of the server value`:"The value of an `{@html ...}` block changed between server and client renders. The client value will be ignored in favour of the server value"}
https://svelte.dev/e/hydration_html_changed`,rr,nr):console.warn("https://svelte.dev/e/hydration_html_changed")}function Br(t){g?console.warn(`%c[svelte] hydration_mismatch
%c${t?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${t}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,rr,nr):console.warn("https://svelte.dev/e/hydration_mismatch")}function id(){g?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,rr,nr):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function od(){g?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",rr,nr):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Yo(t){g?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,rr,nr):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function ad(){g?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,rr,nr):console.warn("https://svelte.dev/e/state_proxy_unmount")}function sd(){g?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",rr,nr):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ud(t){g?console.warn(`%c[svelte] transition_slide_display
%cThe \`slide\` transition does not work correctly for elements with \`display: ${t}\`
https://svelte.dev/e/transition_slide_display`,rr,nr):console.warn("https://svelte.dev/e/transition_slide_display")}var P=!1;function Se(t){P=t}var B;function X(t){if(t===null)throw Br(),er;return B=t}function ze(){return X(Ne(B))}function U(t){if(P){if(Ne(B)!==null)throw Br(),er;B=t}}function dt(t=1){if(P){for(var e=t,r=B;e--;)r=Ne(r);B=r}}function ir(t=!0){for(var e=0,r=B;;){if(r.nodeType===Ye){var n=r.data;if(n==="]"){if(e===0)return r;e-=1}else(n==="["||n==="[!")&&(e+=1)}var i=Ne(r);t&&r.remove(),r=i}}function Ko(t){if(!t||t.nodeType!==Ye)throw Br(),er;return t.data}function Xo(t){return t===this.v}function Qo(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ea(t){return!Qo(t,this.v)}var He=!1,zr=!1,or=!1;var Dg="font-weight: bold",Rg="font-weight: normal";function Fs(t){g?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` \u2014 the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` \u2014 the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Dg,Rg):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}var Lg=[];function Jn(t,e=!1,r=!1){if(g&&!e){let n=[],i=ji(t,new Map,"",n,null,r);if(n.length===1&&n[0]==="")Fs();else if(n.length>0){let o=n.length>10?n.slice(0,7):n.slice(0,10),a=n.length-o.length,s=o.map(u=>`- <value>${u}`).join(`
`);a>0&&(s+=`
- ...and ${a} more`),Fs(s)}return i}return ji(t,new Map,"",Lg,null,r)}function ji(t,e,r,n,i=null,o=!1){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Pt(t)){var s=Array(t.length);e.set(t,s),i!==null&&e.set(i,s);for(var u=0;u<t.length;u+=1){var c=t[u];u in t&&(s[u]=ji(c,e,g?`${r}[${u}]`:r,n,null,o))}return s}if(Fr(t)===Jo){s={},e.set(t,s),i!==null&&e.set(i,s);for(var f in t)s[f]=ji(t[f],e,g?`${r}.${f}`:r,n,null,o);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!o)return ji(t.toJSON(),e,g?`${r}.toJSON()`:r,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return g&&n.push(r),t}}var Ni=null;function ar(t){let e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;let r=Error();Error.stackTraceLimit=e;let n=r.stack;if(!n)return null;let i=n.split(`
`),o=[`
`];for(let a=0;a<i.length;a++){let s=i[a],u=s.replaceAll("\\","/");if(s!=="Error"){if(s.includes("validate_each_keys"))return null;u.includes("svelte/src/internal")||u.includes("node_modules/.vite")||o.push(s)}}return o.length===1?null:(Be(r,"stack",{value:o.join(`
`)}),Be(r,"name",{value:t}),r)}function pt(t,e){return t.label=e,ta(t.v,e),t}function ta(t,e){return t?.[qo]?.(e),t}var G=null;function Ar(t){G=t}var sr=null;function Wn(t){sr=t}var bt=null;function ra(t){bt=t}function Te(t,e=!1,r){G={p:G,i:!1,c:null,e:null,s:t,x:null,l:zr&&!e?{s:null,u:null,$:[]}:null},g&&(G.function=r,bt=r)}function Ae(t){var e=G,r=e.e;if(r!==null){e.e=null;for(var n of r)Bs(n)}return t!==void 0&&(e.x=t),e.i=!0,G=e.p,g&&(bt=G?.function??null),t??{}}function ur(){return!zr||G!==null&&G.l===null}var gn=[];function ld(){var t=gn;gn=[],Wo(t)}function xe(t){if(gn.length===0&&!_n){var e=gn;queueMicrotask(()=>{e===gn&&ld()})}gn.push(t)}function fd(){for(;gn.length>0;)ld()}var Vs=new WeakMap;function na(t){var e=j;if(e===null)return L.f|=8388608,t;if(g&&t instanceof Error&&!Vs.has(t)&&Vs.set(t,Zg(t,e)),(e.f&32768)===0){if((e.f&128)===0)throw g&&!e.parent&&t instanceof Error&&dd(t),t;e.b.error(t)}else lr(t,e)}function lr(t,e){for(;e!==null;){if((e.f&128)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw g&&t instanceof Error&&dd(t),t}function Zg(t,e){let r=lt(t,"message");if(!(r&&!r.configurable)){for(var n=Ci?"  ":"	",i=`
${n}in ${e.fn?.name||"<unknown>"}`,o=e.ctx;o!==null;)i+=`
${n}in ${o.function?.[ct].split("/").pop()}`,o=o.p;return{message:t.message+`
${i}
`,stack:t.stack?.split(`
`).filter(a=>!a.includes("svelte/src/internal")).join(`
`)}}}function dd(t){let e=Vs.get(t);e&&(Be(t,"message",{value:e.message}),Be(t,"stack",{value:e.stack}))}var qn=new Set,H=null,Yn=null,Pe=null,fr=[],oa=null,Js=!1,_n=!1,Xe=class t{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#r=0;#n=0;#u=null;#a=[];#s=[];skipped_effects=new Set;is_fork=!1;process(e){fr=[],Yn=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(let n of e)this.#i(n,r);this.is_fork||this.#c(),this.#n>0||this.is_fork?(this.#o(r.effects),this.#o(r.render_effects),this.#o(r.block_effects)):(Yn=this,H=null,pd(r.render_effects),pd(r.effects),Yn=null,this.#u?.resolve()),Pe=null}#i(e,r){e.f^=1024;for(var n=e.first;n!==null;){var i=n.f,o=(i&96)!==0,a=o&&(i&1024)!==0,s=a||(i&8192)!==0||this.skipped_effects.has(n);if((n.f&128)!==0&&n.b?.is_pending()&&(r={parent:r,effect:n,effects:[],render_effects:[],block_effects:[]}),!s&&n.fn!==null){o?n.f^=1024:(i&4)!==0?r.effects.push(n):He&&(i&8)!==0?r.render_effects.push(n):Gr(n)&&((n.f&16)!==0&&r.block_effects.push(n),Jr(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)c===r.effect&&(this.#o(r.effects),this.#o(r.render_effects),this.#o(r.block_effects),r=r.parent),n=c.next,c=c.parent}}#o(e){for(let r of e)((r.f&2048)!==0?this.#a:this.#s).push(r),ge(r,1024)}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&8388608)===0&&(this.current.set(e,e.v),Pe?.set(e,e.v))}activate(){H=this,this.apply()}deactivate(){H=null,Pe=null}flush(){if(this.activate(),fr.length>0){if(Ws(),H!==null&&H!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(let e of this.#e)e(this);this.#e.clear()}#c(){if(this.#n===0){for(let e of this.#t)e();this.#t.clear()}this.#r===0&&this.#l()}#l(){if(qn.size>1){this.previous.clear();var e=Pe,r=!0,n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(let i of qn){if(i===this){r=!1;continue}let o=[];for(let[s,u]of this.current){if(i.current.has(s))if(r&&u!==i.current.get(s))i.current.set(s,u);else continue;o.push(s)}if(o.length===0)continue;let a=[...i.current.keys()].filter(s=>!this.current.has(s));if(a.length>0){let s=new Set,u=new Map;for(let c of o)md(c,a,s,u);if(fr.length>0){H=i,i.apply();for(let c of fr)i.#i(c,n);fr=[],i.deactivate()}}}H=null,Pe=e}this.committed=!0,qn.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(let e of this.#a)ge(e,2048),dr(e);for(let e of this.#s)ge(e,4096),dr(e);this.#a=[],this.#s=[],this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#u??=Go()).promise}static ensure(){if(H===null){let e=H=new t;qn.add(H),_n||t.enqueue(()=>{H===e&&e.flush()})}return H}static enqueue(e){xe(e)}apply(){if(!(!He||!this.is_fork&&qn.size===1)){Pe=new Map(this.current);for(let e of qn)if(e!==this)for(let[r,n]of e.previous)Pe.has(r)||Pe.set(r,n)}}};function yn(t){He&&j!==null&&Wf();var e=_n;_n=!0;try{var r;for(t&&(H!==null&&Ws(),r=t());;){if(fd(),fr.length===0&&(H?.flush(),fr.length===0))return oa=null,r;Ws()}}finally{_n=e}}function Ws(){var t=Wr;Js=!0;try{var e=0;for(Gs(!0);fr.length>0;){var r=Xe.ensure();if(e++>1e3){if(g){var n=new Map;for(let o of r.current.keys())for(let[a,s]of o.updated??[]){var i=n.get(a);i||(i={error:s.error,count:0},n.set(a,i)),i.count+=s.count}for(let o of n.values())console.error(o.error)}Fg()}r.process(fr),pr.clear()}}finally{Js=!1,Gs(t),oa=null}}function Fg(){try{Jf()}catch(t){g&&Be(t,"stack",{value:""}),lr(t,oa)}}var Ot=null;function pd(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&24576)===0&&Gr(n)&&(Ot=new Set,Jr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?qs(n):n.fn=null),Ot?.size>0)){pr.clear();for(let i of Ot){if((i.f&24576)!==0)continue;let o=[i],a=i.parent;for(;a!==null;)Ot.has(a)&&(Ot.delete(a),o.push(a)),a=a.parent;for(let s=o.length-1;s>=0;s--){let u=o[s];(u.f&24576)===0&&Jr(u)}}Ot.clear()}}Ot=null}}function md(t,e,r,n){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(let i of t.reactions){let o=i.f;(o&2)!==0?md(i,e,r,n):(o&4194320)!==0&&(o&2048)===0&&hd(i,e,n)&&(ge(i,2048),dr(i))}}function hd(t,e,r){let n=r.get(t);if(n!==void 0)return n;if(t.deps!==null)for(let i of t.deps){if(e.includes(i))return!0;if((i.f&2)!==0&&hd(i,e,r))return r.set(i,!0),!0}return r.set(t,!1),!1}function dr(t){for(var e=oa=t;e.parent!==null;){e=e.parent;var r=e.f;if(Js&&e===j&&(r&16)!==0&&(r&262144)===0)return;if((r&96)!==0){if((r&1024)===0)return;e.f^=1024}}fr.push(e)}function gd(t){let e=0,r=We(0),n;return g&&pt(r,"createSubscriber version"),()=>{Tr()&&(A(r),Ce(()=>(e===0&&(n=te(()=>t(()=>bn(r)))),e+=1,()=>{xe(()=>{e-=1,e===0&&(n?.(),n=void 0,bn(r))})})))}}var Vg=589952;function Hs(t,e,r){new Ys(t,e,r)}var Ys=class{parent;#t=!1;#e;#r=P?B:null;#n;#u;#a;#s=null;#i=null;#o=null;#c=null;#l=null;#p=0;#d=0;#m=!1;#f=null;#y=gd(()=>(this.#f=We(this.#p),g&&pt(this.#f,"$effect.pending()"),()=>{this.#f=null}));constructor(e,r,n){this.#e=e,this.#n=r,this.#u=n,this.parent=j.b,this.#t=!!this.#n.pending,this.#a=Ue(()=>{if(j.b=this,P){let o=this.#r;ze(),o.nodeType===Ye&&o.data==="[!"?this.#x():this.#b()}else{var i=this.#g();try{this.#s=we(()=>n(i))}catch(o){this.error(o)}this.#d>0?this.#v():this.#t=!1}return()=>{this.#l?.remove()}},Vg),P&&(this.#e=B)}#b(){try{this.#s=we(()=>this.#u(this.#e))}catch(e){this.error(e)}this.#t=!1}#x(){let e=this.#n.pending;e&&(this.#i=we(()=>e(this.#e)),Xe.enqueue(()=>{var r=this.#g();this.#s=this.#h(()=>(Xe.ensure(),we(()=>this.#u(r)))),this.#d>0?this.#v():(Pr(this.#i,()=>{this.#i=null}),this.#t=!1)}))}#g(){var e=this.#e;return this.#t&&(this.#l=ke(),this.#e.before(this.#l),e=this.#l),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(e){var r=j,n=L,i=G;Me(this.#a),_e(this.#a),Ar(this.#a.ctx);try{return e()}catch(o){return na(o),null}finally{Me(r),_e(n),Ar(i)}}#v(){let e=this.#n.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#l),ua(this.#s,this.#c)),this.#i===null&&(this.#i=we(()=>e(this.#e)))}#_(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(e);return}this.#d+=e,this.#d===0&&(this.#t=!1,this.#i&&Pr(this.#i,()=>{this.#i=null}),this.#c&&(this.#e.before(this.#c),this.#c=null))}update_pending_count(e){this.#_(e),this.#p+=e,this.#f&&Vt(this.#f,this.#p)}get_effect_pending(){return this.#y(),A(this.#f)}error(e){var r=this.#n.onerror;let n=this.#n.failed;if(this.#m||!r&&!n)throw e;this.#s&&(oe(this.#s),this.#s=null),this.#i&&(oe(this.#i),this.#i=null),this.#o&&(oe(this.#o),this.#o=null),P&&(X(this.#r),dt(),X(ir()));var i=!1,o=!1;let a=()=>{if(i){sd();return}i=!0,o&&ed(),Xe.ensure(),this.#p=0,this.#o!==null&&Pr(this.#o,()=>{this.#o=null}),this.#t=this.has_pending_snippet(),this.#s=this.#h(()=>(this.#m=!1,we(()=>this.#u(this.#e)))),this.#d>0?this.#v():this.#t=!1};var s=L;try{_e(null),o=!0,r?.(e,a),o=!1}catch(u){lr(u,this.#a&&this.#a.parent)}finally{_e(s)}n&&xe(()=>{this.#o=this.#h(()=>{Xe.ensure(),this.#m=!0;try{return we(()=>{n(this.#e,()=>e,()=>a)})}catch(u){return lr(u,this.#a.parent),null}finally{this.#m=!1}})})}};function Di(t,e,r,n){let i=ur()?xn:$n;if(r.length===0&&t.length===0){n(e.map(i));return}var o=H,a=j,s=_d();function u(){Promise.all(r.map(c=>Xs(c))).then(c=>{s();try{n([...e.map(i),...c])}catch(f){(a.f&16384)===0&&lr(f,a)}o?.deactivate(),Kn()}).catch(c=>{lr(c,a)})}t.length>0?Promise.all(t).then(()=>{s();try{return u()}finally{o?.deactivate(),Kn()}}):u()}function _d(){var t=j,e=L,r=G,n=H;if(g)var i=sr;return function(a=!0){Me(t),_e(e),Ar(r),a&&n?.activate(),g&&(Ks(null),Wn(i))}}function Kn(){Me(null),_e(null),Ar(null),g&&(Ks(null),Wn(null))}var Ri=null;function Ks(t){Ri=t}var Li=new Set;function xn(t){var e=2050,r=L!==null&&(L.f&2)!==0?L:null;j!==null&&(j.f|=524288);let n={ctx:G,deps:null,effects:null,equals:Xo,f:e,fn:t,reactions:null,rv:0,v:pe,wv:0,parent:r??j,ac:null};return g&&or&&(n.created=ar("created at")),n}function Xs(t,e){let r=j;r===null&&Lf();var n=r.b,i=void 0,o=We(pe),a=!L,s=new Map;return yd(()=>{g&&(Ri=j);var u=Go();i=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{c===H&&c.committed&&c.deactivate(),Kn()})}catch(l){u.reject(l),Kn()}g&&(Ri=null);var c=H;if(a){var f=!n.is_pending();n.update_pending_count(1),c.increment(f),s.get(c)?.reject(tr),s.delete(c),s.set(c,u)}let d=(l,p=void 0)=>{if(Ri=null,c.activate(),p)p!==tr&&(o.f|=8388608,Vt(o,p));else{(o.f&8388608)!==0&&(o.f^=8388608),Vt(o,l);for(let[m,v]of s){if(s.delete(m),m===c)break;v.reject(tr)}g&&e!==void 0&&(Li.add(o),setTimeout(()=>{Li.has(o)&&(td(o.label,e),Li.delete(o))}))}a&&(n.update_pending_count(-1),c.decrement(f))};u.promise.then(d,l=>d(null,l||"unknown"))}),Ge(()=>{for(let u of s.values())u.reject(tr)}),g&&(o.f|=4194304),new Promise(u=>{function c(f){function d(){f===i?u(o):c(i)}f.then(d,d)}c(i)})}function Zi(t){let e=xn(t);return He||fa(e),e}function $n(t){let e=xn(t);return e.equals=ea,e}function ca(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)oe(e[r])}}var Qs=[];function Gg(t){for(var e=t.parent;e!==null;){if((e.f&2)===0)return e;e=e.parent}return null}function Fi(t){var e,r=j;if(Me(Gg(t)),g){let n=wn;aa(new Set);try{Qs.includes(t)&&Zf(),Qs.push(t),t.f&=-32769,ca(t),e=la(t)}finally{Me(r),aa(n),Qs.pop()}}else try{t.f&=-32769,ca(t),e=la(t)}finally{Me(r)}return e}function eu(t){var e=Fi(t);if(t.equals(e)||(t.v=e,t.wv=Bi()),!Jt)if(Pe!==null)Tr()&&Pe.set(t,t.v);else{var r=(t.f&512)===0?4096:1024;ge(t,r)}}var wn=new Set,pr=new Map;function aa(t){wn=t}var tu=!1;function bd(){tu=!0}function We(t,e){var r={f:0,v:t,reactions:null,equals:Xo,rv:0,wv:0};return g&&or&&(r.created=e??ar("created at"),r.updated=null,r.set_during_effect=!1,r.trace=null),r}function De(t,e){let r=We(t,e);return fa(r),r}function kn(t,e=!1,r=!0){let n=We(t);return e||(n.equals=ea),zr&&r&&G!==null&&G.l!==null&&(G.l.s??=[]).push(n),n}function ae(t,e,r=!1){L!==null&&(!$t||(L.f&131072)!==0)&&ur()&&(L.f&4325394)!==0&&!mr?.includes(t)&&Qf();let n=r?tt(e):e;return g&&ta(n,t.label),Vt(t,n)}function Vt(t,e){if(!t.equals(e)){var r=t.v;Jt?pr.set(t,e):pr.set(t,r),t.v=e;var n=Xe.ensure();if(n.capture(t,r),g){if(or||j!==null){let i=ar("updated at");if(i!==null){t.updated??=new Map;let o=t.updated.get(i.stack);o||(o={error:i,count:0},t.updated.set(i.stack,o)),o.count++}}j!==null&&(t.set_during_effect=!0)}(t.f&2)!==0&&((t.f&2048)!==0&&Fi(t),ge(t,(t.f&512)!==0?1024:4096)),t.wv=Bi(),xd(t,2048),ur()&&j!==null&&(j.f&1024)!==0&&(j.f&96)===0&&(xt===null?$d([t]):xt.push(t)),!n.is_fork&&wn.size>0&&!tu&&sa()}return e}function sa(){tu=!1;let t=Array.from(wn);for(let e of t)(e.f&1024)!==0&&ge(e,4096),Gr(e)&&Jr(e);wn.clear()}function bn(t){ae(t,t.v+1)}function xd(t,e){var r=t.reactions;if(r!==null)for(var n=ur(),i=r.length,o=0;o<i;o++){var a=r[o],s=a.f;if(!(!n&&a===j)){if(g&&(s&131072)!==0){wn.add(a);continue}var u=(s&2048)===0;if(u&&ge(a,e),(s&2)!==0){var c=a;Pe?.delete(c),(s&32768)===0&&(s&512&&(a.f|=32768),xd(c,4096))}else u&&((s&16)!==0&&Ot!==null&&Ot.add(a),dr(a))}}}var qg=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function tt(t){if(typeof t!="object"||t===null||je in t)return t;let e=Fr(t);if(e!==Jo&&e!==Df)return t;var r=new Map,n=Pt(t),i=De(0),o=g&&or?ar("created at"):null,a=Yr,s=d=>{if(Yr===a)return d();var l=L,p=Yr;_e(null),ru(a);var m=d();return _e(l),ru(p),m};n&&(r.set("length",De(t.length,o)),g&&(t=Hg(t)));var u="";let c=!1;function f(d){if(!c){c=!0,u=d,pt(i,`${u} version`);for(let[l,p]of r)pt(p,En(u,l));c=!1}}return new Proxy(t,{defineProperty(d,l,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&Kf();var m=r.get(l);return m===void 0?m=s(()=>{var v=De(p.value,o);return r.set(l,v),g&&typeof l=="string"&&pt(v,En(u,l)),v}):ae(m,p.value,!0),!0},deleteProperty(d,l){var p=r.get(l);if(p===void 0){if(l in d){let m=s(()=>De(pe,o));r.set(l,m),bn(i),g&&pt(m,En(u,l))}}else ae(p,pe),bn(i);return!0},get(d,l,p){if(l===je)return t;if(g&&l===qo)return f;var m=r.get(l),v=l in d;if(m===void 0&&(!v||lt(d,l)?.writable)&&(m=s(()=>{var _=tt(v?d[l]:pe),x=De(_,o);return g&&pt(x,En(u,l)),x}),r.set(l,m)),m!==void 0){var b=A(m);return b===pe?void 0:b}return Reflect.get(d,l,p)},getOwnPropertyDescriptor(d,l){var p=Reflect.getOwnPropertyDescriptor(d,l);if(p&&"value"in p){var m=r.get(l);m&&(p.value=A(m))}else if(p===void 0){var v=r.get(l),b=v?.v;if(v!==void 0&&b!==pe)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return p},has(d,l){if(l===je)return!0;var p=r.get(l),m=p!==void 0&&p.v!==pe||Reflect.has(d,l);if(p!==void 0||j!==null&&(!m||lt(d,l)?.writable)){p===void 0&&(p=s(()=>{var b=m?tt(d[l]):pe,_=De(b,o);return g&&pt(_,En(u,l)),_}),r.set(l,p));var v=A(p);if(v===pe)return!1}return m},set(d,l,p,m){var v=r.get(l),b=l in d;if(n&&l==="length")for(var _=p;_<v.v;_+=1){var x=r.get(_+"");x!==void 0?ae(x,pe):_ in d&&(x=s(()=>De(pe,o)),r.set(_+"",x),g&&pt(x,En(u,_)))}if(v===void 0)(!b||lt(d,l)?.writable)&&(v=s(()=>De(void 0,o)),g&&pt(v,En(u,l)),ae(v,tt(p)),r.set(l,v));else{b=v.v!==pe;var E=s(()=>tt(p));ae(v,E)}var z=Reflect.getOwnPropertyDescriptor(d,l);if(z?.set&&z.set.call(m,p),!b){if(n&&typeof l=="string"){var R=r.get("length"),y=Number(l);Number.isInteger(y)&&y>=R.v&&ae(R,y+1)}bn(i)}return!0},ownKeys(d){A(i);var l=Reflect.ownKeys(d).filter(v=>{var b=r.get(v);return b===void 0||b.v!==pe});for(var[p,m]of r)m.v!==pe&&!(p in d)&&l.push(p);return l},setPrototypeOf(){Xf()}})}function En(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:qg.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Xn(t){try{if(t!==null&&typeof t=="object"&&je in t)return t[je]}catch{}return t}function nu(t,e){return Object.is(Xn(t),Xn(e))}var Yg=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Hg(t){return new Proxy(t,{get(e,r,n){var i=Reflect.get(e,r,n);return Yg.has(r)?function(...o){bd();var a=i.apply(this,o);return sa(),a}:i}})}function wd(){let t=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:r,lastIndexOf:n,includes:i}=t;t.indexOf=function(o,a){let s=r.call(this,o,a);if(s===-1){for(let u=a??0;u<this.length;u+=1)if(Xn(this[u])===o){Yo("array.indexOf(...)");break}}return s},t.lastIndexOf=function(o,a){let s=n.call(this,o,a??this.length-1);if(s===-1){for(let u=0;u<=(a??this.length-1);u+=1)if(Xn(this[u])===o){Yo("array.lastIndexOf(...)");break}}return s},t.includes=function(o,a){let s=i.call(this,o,a);if(!s){for(let u=0;u<this.length;u+=1)if(Xn(this[u])===o){Yo("array.includes(...)");break}}return s},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=n,t.includes=i}}var iu,kd,Ci,Ed,Id;function da(){if(iu===void 0){iu=window,kd=document,Ci=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Ed=lt(e,"firstChild").get,Id=lt(e,"nextSibling").get,Rs(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Rs(r)&&(r.__t=void 0),g&&(t.__svelte_meta=null,wd())}}function ke(t=""){return document.createTextNode(t)}function ye(t){return Ed.call(t)}function Ne(t){return Id.call(t)}function J(t,e){if(!P)return ye(t);var r=ye(B);if(r===null)r=B.appendChild(ke());else if(e&&r.nodeType!==Bn){var n=ke();return r?.before(n),X(n),n}return X(r),r}function rt(t,e=!1){if(!P){var r=ye(t);return r instanceof Comment&&r.data===""?Ne(r):r}if(e&&B?.nodeType!==Bn){var n=ke();return B?.before(n),X(n),n}return B}function W(t,e=1,r=!1){let n=P?B:t;for(var i;e--;)i=n,n=Ne(n);if(!P)return n;if(r&&n?.nodeType!==Bn){var o=ke();return n===null?i?.after(o):n.before(o),X(o),o}return X(n),n}function Qn(t){t.textContent=""}function pa(){if(!He||Ot!==null)return!1;var t=j.f;return(t&32768)!==0}function ou(t,e){if(e){let r=document.body;t.autofocus=!0,xe(()=>{document.activeElement===r&&t.focus()})}}function au(t){P&&ye(t)!==null&&Qn(t)}var Sd=!1;function ma(){Sd||(Sd=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(let e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Wt(t){var e=L,r=j;_e(null),Me(null);try{return t()}finally{_e(e),Me(r)}}function su(t,e,r,n=r){t.addEventListener(e,()=>Wt(r));let i=t.__on_r;i?t.__on_r=()=>{i(),n(!0)}:t.__on_r=()=>n(!0),ma()}function zd(t){j===null&&(L===null&&Vf(t),Bf()),Jt&&Ff(t)}function Xg(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function hr(t,e,r,n=!0){var i=j;if(g)for(;i!==null&&(i.f&131072)!==0;)i=i.parent;i!==null&&(i.f&8192)!==0&&(t|=8192);var o={ctx:G,deps:null,nodes_start:null,nodes_end:null,f:t|2048|512,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(g&&(o.component_function=bt),r)try{Jr(o),o.f|=32768}catch(u){throw oe(o),u}else e!==null&&dr(o);if(n){var a=o;if(r&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&524288)===0&&(a=a.first,(t&16)!==0&&(t&65536)!==0&&a!==null&&(a.f|=65536)),a!==null&&(a.parent=i,i!==null&&Xg(a,i),L!==null&&(L.f&2)!==0&&(t&64)===0)){var s=L;(s.effects??=[]).push(a)}}return o}function Tr(){return L!==null&&!$t}function Ge(t){let e=hr(8,null,!1);return ge(e,1024),e.teardown=t,e}function ei(t){zd("$effect"),g&&Be(t,"name",{value:"$effect"});var e=j.f,r=!L&&(e&32)!==0&&(e&32768)===0;if(r){var n=G;(n.e??=[]).push(t)}else return Bs(t)}function Bs(t){return hr(1048580,t,!1)}function cu(t){Xe.ensure();let e=hr(524352,t,!0);return()=>{oe(e)}}function Td(t){Xe.ensure();let e=hr(524352,t,!0);return(r={})=>new Promise(n=>{r.outro?Pr(e,()=>{oe(e),n(void 0)}):(oe(e),n(void 0))})}function qe(t){return hr(4,t,!1)}function yd(t){return hr(4718592,t,!0)}function Ce(t,e=0){return hr(8|e,t,!0)}function ue(t,e=[],r=[],n=[],i=!1){Di(n,e,r,o=>{hr(i?4:8,()=>t(...o.map(A)),!0)})}function Ue(t,e=0){var r=hr(16|e,t,!0);return g&&(r.dev_stack=sr),r}function we(t,e=!0){return hr(524320,t,!0,e)}function lu(t){var e=t.teardown;if(e!==null){let r=Jt,n=L;uu(!0),_e(null);try{e.call(null)}finally{uu(r),_e(n)}}}function fu(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){let i=r.ac;i!==null&&Wt(()=>{i.abort(tr)});var n=r.next;(r.f&64)!==0?r.parent=null:oe(r,e),r=n}}function Ad(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&32)===0&&oe(e),e=r}}function oe(t,e=!0){var r=!1;(e||(t.f&262144)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(du(t.nodes_start,t.nodes_end),r=!0),fu(t,e&&!r),Ji(t,0),ge(t,16384);var n=t.transitions;if(n!==null)for(let o of n)o.stop();lu(t);var i=t.parent;i!==null&&i.first!==null&&qs(t),g&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function du(t,e){for(;t!==null;){var r=t===e?null:Ne(t);t.remove(),t=r}}function qs(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Pr(t,e,r=!0){var n=[];ha(t,n,!0),pu(n,()=>{r&&oe(t),e&&e()})}function pu(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function ha(t,e,r){if((t.f&8192)===0){if(t.f^=8192,t.transitions!==null)for(let a of t.transitions)(a.is_global||r)&&e.push(a);for(var n=t.first;n!==null;){var i=n.next,o=(n.f&65536)!==0||(n.f&32)!==0&&(t.f&16)!==0;ha(n,e,o?r:!1),n=i}}}function Vi(t){Pd(t,!0)}function Pd(t,e){if((t.f&8192)!==0){t.f^=8192,(t.f&1024)===0&&(ge(t,2048),dr(t));for(var r=t.first;r!==null;){var n=r.next,i=(r.f&65536)!==0||(r.f&32)!==0;Pd(r,i?e:!1),r=n}if(t.transitions!==null)for(let o of t.transitions)(o.is_global||e)&&o.in()}}function ua(t,e){for(var r=t.nodes_start,n=t.nodes_end;r!==null;){var i=r===n?null:Ne(r);e.append(r),r=i}}var Od=null;var Wr=!1;function Gs(t){Wr=t}var Jt=!1;function uu(t){Jt=t}var L=null,$t=!1;function _e(t){L=t}var j=null;function Me(t){j=t}var mr=null;function fa(t){L!==null&&(!He||(L.f&2)!==0)&&(mr===null?mr=[t]:mr.push(t))}var nt=null,wt=0,xt=null;function $d(t){xt=t}var jd=1,Wi=0,Yr=Wi;function ru(t){Yr=t}function Bi(){return++jd}function Gr(t){var e=t.f;if((e&2048)!==0)return!0;if(e&2&&(t.f&=-32769),(e&4096)!==0){var r=t.deps;if(r!==null)for(var n=r.length,i=0;i<n;i++){var o=r[i];if(Gr(o)&&eu(o),o.wv>t.wv)return!0}(e&512)!==0&&Pe===null&&ge(t,1024)}return!1}function Nd(t,e,r=!0){var n=t.reactions;if(n!==null&&!(!He&&mr?.includes(t)))for(var i=0;i<n.length;i++){var o=n[i];(o.f&2)!==0?Nd(o,e,!1):e===o&&(r?ge(o,2048):(o.f&1024)!==0&&ge(o,4096),dr(o))}}function la(t){var e=nt,r=wt,n=xt,i=L,o=mr,a=G,s=$t,u=Yr,c=t.f;nt=null,wt=0,xt=null,L=(c&96)===0?t:null,mr=null,Ar(t.ctx),$t=!1,Yr=++Wi,t.ac!==null&&(Wt(()=>{t.ac.abort(tr)}),t.ac=null);try{t.f|=2097152;var f=t.fn,d=f(),l=t.deps;if(nt!==null){var p;if(Ji(t,wt),l!==null&&wt>0)for(l.length=wt+nt.length,p=0;p<nt.length;p++)l[wt+p]=nt[p];else t.deps=l=nt;if(Wr&&Tr()&&(t.f&512)!==0)for(p=wt;p<l.length;p++)(l[p].reactions??=[]).push(t)}else l!==null&&wt<l.length&&(Ji(t,wt),l.length=wt);if(ur()&&xt!==null&&!$t&&l!==null&&(t.f&6146)===0)for(p=0;p<xt.length;p++)Nd(xt[p],t);return i!==null&&i!==t&&(Wi++,xt!==null&&(n===null?n=xt:n.push(...xt))),(t.f&8388608)!==0&&(t.f^=8388608),d}catch(m){return na(m)}finally{t.f^=2097152,nt=e,wt=r,xt=n,L=i,mr=o,Ar(a),$t=s,Yr=u}}function Qg(t,e){let r=e.reactions;if(r!==null){var n=Uf.call(r,t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(e.f&2)!==0&&(nt===null||!nt.includes(e))&&(ge(e,4096),(e.f&512)!==0&&(e.f^=512,e.f&=-32769),ca(e),Ji(e,0))}function Ji(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)Qg(t,r[n])}function Jr(t){var e=t.f;if((e&16384)===0){ge(t,1024);var r=j,n=Wr;if(j=t,Wr=!0,g){var i=bt;ra(t.component_function);var o=sr;Wn(t.dev_stack??sr)}try{(e&16)!==0?Ad(t):fu(t),lu(t);var a=la(t);if(t.teardown=typeof a=="function"?a:null,t.wv=jd,g&&or&&(t.f&2048)!==0&&t.deps!==null)for(var s of t.deps)s.set_during_effect&&(s.wv=Bi(),s.set_during_effect=!1)}finally{Wr=n,j=r,g&&(ra(i),Wn(o))}}}async function ga(){if(He)return new Promise(t=>{requestAnimationFrame(()=>t()),setTimeout(()=>t())});await Promise.resolve(),yn()}function A(t){var e=t.f,r=(e&2)!==0;if(Od?.add(t),L!==null&&!$t){var n=j!==null&&(j.f&16384)!==0;if(!n&&!mr?.includes(t)){var i=L.deps;if((L.f&2097152)!==0)t.rv<Wi&&(t.rv=Wi,nt===null&&i!==null&&i[wt]===t?wt++:nt===null?nt=[t]:nt.includes(t)||nt.push(t));else{(L.deps??=[]).push(t);var o=t.reactions;o===null?t.reactions=[L]:o.includes(L)||o.push(L)}}}if(g&&(Li.delete(t),or&&!$t&&Ni!==null&&L!==null&&Ni.reaction===L))if(t.trace)t.trace();else{var a=ar("traced at");if(a){var s=Ni.entries.get(t);s===void 0&&(s={traces:[]},Ni.entries.set(t,s));var u=s.traces[s.traces.length-1];a.stack!==u?.stack&&s.traces.push(a)}}if(Jt){if(pr.has(t))return pr.get(t);if(r){var c=t,f=c.v;return((c.f&1024)===0&&c.reactions!==null||Md(c))&&(f=Fi(c)),pr.set(c,f),f}}else if(r){if(c=t,Pe?.has(c))return Pe.get(c);Gr(c)&&eu(c),Wr&&Tr()&&(c.f&512)===0&&Cd(c)}else if(Pe?.has(t))return Pe.get(t);if((t.f&8388608)!==0)throw t.v;return t.v}function Cd(t){if(t.deps!==null){t.f^=512;for(let e of t.deps)(e.reactions??=[]).push(t),(e.f&2)!==0&&(e.f&512)===0&&Cd(e)}}function Md(t){if(t.v===pe)return!0;if(t.deps===null)return!1;for(let e of t.deps)if(pr.has(e)||(e.f&2)!==0&&Md(e))return!0;return!1}function te(t){var e=$t;try{return $t=!0,t()}finally{$t=e}}var e_=-7169;function ge(t,e){t.f=t.f&e_|e}function _a(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(je in t)va(t);else if(!Array.isArray(t))for(let e in t){let r=t[e];typeof r=="object"&&r&&je in r&&va(r)}}}function va(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{va(t[n],e)}catch{}let r=Fr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Vo(r);for(let i in n){let o=n[i].get;if(o)try{o.call(t)}catch{}}}}}var hu=new Set,ya=new Set;function Dd(t,e,r,n={}){function i(o){if(n.capture||ti.call(e,o),!o.cancelBubble)return Wt(()=>r?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?xe(()=>{e.addEventListener(t,i,n)}):e.addEventListener(t,i,n),i}function In(t){for(var e=0;e<t.length;e++)hu.add(t[e]);for(var r of ya)r(t)}var Ud=null;function ti(t){var e=this,r=e.ownerDocument,n=t.type,i=t.composedPath?.()||[],o=i[0]||t.target;Ud=t;var a=0,s=Ud===t&&t.__root;if(s){var u=i.indexOf(s);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var c=i.indexOf(e);if(c===-1)return;u<=c&&(a=u)}if(o=i[a]||t.target,o!==e){Be(t,"currentTarget",{configurable:!0,get(){return o||r}});var f=L,d=j;_e(null),Me(null);try{for(var l,p=[];o!==null;){var m=o.assignedSlot||o.parentNode||o.host||null;try{var v=o["__"+n];v!=null&&(!o.disabled||t.target===o)&&v.call(o,t)}catch(b){l?p.push(b):l=b}if(t.cancelBubble||m===e||m===null)break;o=m}if(l){for(let b of p)queueMicrotask(()=>{throw b});throw l}}finally{t.__root=e,delete t.currentTarget,_e(f),Me(d)}}}function Gi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function vt(t,e){var r=j;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function q(t,e){var r=(e&1)!==0,n=(e&2)!==0,i,o=!t.startsWith("<!>");return()=>{if(P)return vt(B,null),B;i===void 0&&(i=Gi(o?t:"<!>"+t),r||(i=ye(i)));var a=n||Ci?document.importNode(i,!0):i.cloneNode(!0);if(r){var s=ye(a),u=a.lastChild;vt(s,u)}else vt(a,a);return a}}function Nt(t=""){if(!P){var e=ke(t+"");return vt(e,e),e}var r=B;return r.nodeType!==Bn&&(r.before(r=ke()),X(r)),vt(r,r),r}function qi(){if(P)return vt(B,null),B;var t=document.createDocumentFragment(),e=document.createComment(""),r=ke();return t.append(e,r),vt(e,r),t}function Z(t,e){if(P){var r=j;((r.f&32768)===0||r.nodes_end===null)&&(r.nodes_end=B),ze();return}t!==null&&t.before(e)}var i_=/\r/g;function Ld(t){t=t.replace(i_,"");let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return(e>>>0).toString(36)}function Zd(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}var o_=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Fd(t){return o_.includes(t)}var a_=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var s_={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Bd(t){return t=t.toLowerCase(),s_[t]??t}var jE=[...a_,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var u_=["touchstart","touchmove"];function Vd(t){return u_.includes(t)}var c_=["$state","$state.raw","$derived","$derived.by"],NE=[...c_,"$state.eager","$state.snapshot","$props","$props.id","$bindable","$effect","$effect.pre","$effect.tracking","$effect.root","$effect.pending","$inspect","$inspect().with","$inspect.trace","$host"];function ba(t){return t?.replace(/\//g,"/\u200B")}var xa=!0;function ce(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function Ze(t,e){return Jd(t,e)}function gu(t,e){da(),e.intro=e.intro??!1;let r=e.target,n=P,i=B;try{for(var o=ye(r);o&&(o.nodeType!==Ye||o.data!=="[");)o=Ne(o);if(!o)throw er;Se(!0),X(o);let a=Jd(t,{...e,anchor:o});return Se(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(s=>s.startsWith("https://svelte.dev/e/")))throw a;return a!==er&&console.warn("Failed to hydrate: ",a),e.recover===!1&&Gf(),da(),Qn(r),Se(!1),Ze(t,e)}finally{Se(n),X(i)}}var ri=new Map;function Jd(t,{target:e,anchor:r,props:n={},events:i,context:o,intro:a=!0}){da();var s=new Set,u=d=>{for(var l=0;l<d.length;l++){var p=d[l];if(!s.has(p)){s.add(p);var m=Vd(p);e.addEventListener(p,ti,{passive:m});var v=ri.get(p);v===void 0?(document.addEventListener(p,ti,{passive:m}),ri.set(p,1)):ri.set(p,v+1)}}};u(Ai(hu)),ya.add(u);var c=void 0,f=Td(()=>{var d=r??e.appendChild(ke());return Hs(d,{pending:()=>{}},l=>{if(o){Te({});var p=G;p.c=o}if(i&&(n.$$events=i),P&&vt(l,null),xa=a,c=t(l,n)||{},xa=!0,P&&(j.nodes_end=B,B===null||B.nodeType!==Ye||B.data!=="]"))throw Br(),er;o&&Ae()}),()=>{for(var l of s){e.removeEventListener(l,ti);var p=ri.get(l);--p===0?(document.removeEventListener(l,ti),ri.delete(l)):ri.set(l,p)}ya.delete(u),d!==r&&d.parentNode?.removeChild(d)}});return vu.set(c,f),c}var vu=new WeakMap;function it(t,e){let r=vu.get(t);return r?(vu.delete(t),r(e)):(g&&(je in t?ad():id()),Promise.resolve())}var vr=class{anchor;#t=new Map;#e=new Map;#r=new Map;#n=!0;constructor(e,r=!0){this.anchor=e,this.#n=r}#u=()=>{var e=H;if(this.#t.has(e)){var r=this.#t.get(e),n=this.#e.get(r);if(n)Vi(n);else{var i=this.#r.get(r);i&&(this.#e.set(r,i.effect),this.#r.delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),n=i.effect)}for(let[o,a]of this.#t){if(this.#t.delete(o),o===e)break;let s=this.#r.get(a);s&&(oe(s.effect),this.#r.delete(a))}for(let[o,a]of this.#e){if(o===r)continue;let s=()=>{if(Array.from(this.#t.values()).includes(o)){var c=document.createDocumentFragment();ua(a,c),c.append(ke()),this.#r.set(o,{effect:a,fragment:c})}else oe(a);this.#e.delete(o)};this.#n||!n?Pr(a,s,!1):s()}}};#a=e=>{this.#t.delete(e);let r=Array.from(this.#t.values());for(let[n,i]of this.#r)r.includes(n)||(oe(i.effect),this.#r.delete(n))};ensure(e,r){var n=H,i=pa();if(r&&!this.#e.has(e)&&!this.#r.has(e))if(i){var o=document.createDocumentFragment(),a=ke();o.append(a),this.#r.set(e,{effect:we(()=>r(a)),fragment:o})}else this.#e.set(e,we(()=>r(this.anchor)));if(this.#t.set(n,e),i){for(let[s,u]of this.#e)s===e?n.skipped_effects.delete(u):n.skipped_effects.add(u);for(let[s,u]of this.#r)s===e?n.skipped_effects.delete(u.effect):n.skipped_effects.add(u.effect);n.oncommit(this.#u),n.ondiscard(this.#a)}else P&&(this.anchor=B),this.#u()}};function Yi(t,e,...r){var n=new vr(t);Ue(()=>{let i=e()??null;g&&i==null&&qf(),n.ensure(i,i&&(o=>i(o,...r)))},65536)}if(g){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Hf(e)},set:n=>{r=n}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function _u(t){G===null&&Oi("onMount"),zr&&G.l!==null?d_(G).m.push(t):ei(()=>{let e=te(t);if(typeof e=="function")return e})}function Gd(t){G===null&&Oi("onDestroy"),_u(()=>()=>te(t))}function d_(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}function ot(t,e,r=!1){P&&ze();var n=new vr(t),i=r?65536:0;function o(a,s){if(P){let c=Ko(t)==="[!";if(a===c){var u=ir();X(u),n.anchor=u,Se(!1),n.ensure(a,s),Se(!0);return}}n.ensure(a,s)}Ue(()=>{var a=!1;e((s,u=!0)=>{a=!0,o(u,s)}),a||o(!1,null)},i)}var Hi=null;function Sn(t,e){return e}function v_(t,e,r){for(var n=t.items,i=[],o=e.length,a=0;a<o;a++)ha(e[a].e,i,!0);var s=o>0&&i.length===0&&r!==null;if(s){var u=r.parentNode;Qn(u),u.append(r),n.clear(),gr(t,e[0].prev,e[o-1].next)}pu(i,()=>{for(var c=0;c<o;c++){var f=e[c];s||(n.delete(f.k),gr(t,f.prev,f.next)),oe(f.e,!s)}})}function _r(t,e,r,n,i,o=null){var a=t,s={flags:e,items:new Map,first:null},u=(e&4)!==0;if(u){var c=t;a=P?X(ye(c)):c.appendChild(ke())}P&&ze();var f=null,d=!1,l=new Map,p=$n(()=>{var _=r();return Pt(_)?_:_==null?[]:Ai(_)}),m,v;function b(){g_(v,m,s,l,a,i,e,n,r),o!==null&&(m.length===0?f?Vi(f):f=we(()=>o(a)):f!==null&&Pr(f,()=>{f=null}))}Ue(()=>{v??=j,m=A(p);var _=m.length;if(d&&_===0)return;d=_===0;let x=!1;if(P){var E=Ko(a)==="[!";E!==(_===0)&&(a=ir(),X(a),Se(!1),x=!0)}if(P){for(var z=null,R,y=0;y<_;y++){if(B.nodeType===Ye&&B.data==="]"){a=B,x=!0,Se(!1);break}var k=m[y],T=n(k,y);R=bu(B,s,z,null,k,T,y,i,e,r),s.items.set(T,R),z=R}_>0&&X(ir())}if(P)_===0&&o&&(f=we(()=>o(a)));else if(pa()){var ie=new Set,de=H;for(y=0;y<_;y+=1){k=m[y],T=n(k,y);var Zt=s.items.get(T)??l.get(T);Zt?(e&3)!==0&&Yd(Zt,k,y,e):(R=bu(null,s,null,null,k,T,y,i,e,r,!0),l.set(T,R)),ie.add(T)}for(let[ut,Ln]of s.items)ie.has(ut)||de.skipped_effects.add(Ln.e);de.oncommit(b)}else b();x&&Se(!0),A(p)}),P&&(a=B)}function g_(t,e,r,n,i,o,a,s,u){var c=(a&8)!==0,f=(a&3)!==0,d=e.length,l=r.items,p=r.first,m=p,v,b=null,_,x=[],E=[],z,R,y,k;if(c)for(k=0;k<d;k+=1)z=e[k],R=s(z,k),y=l.get(R),y!==void 0&&(y.a?.measure(),(_??=new Set).add(y));for(k=0;k<d;k+=1){if(z=e[k],R=s(z,k),y=l.get(R),y===void 0){var T=n.get(R);if(T!==void 0){n.delete(R),l.set(R,T);var ie=b?b.next:m;gr(r,b,T),gr(r,T,ie),yu(T,ie,i),b=T}else{var de=m?m.e.nodes_start:i;b=bu(de,r,b,b===null?r.first:b.next,z,R,k,o,a,u)}l.set(R,b),x=[],E=[],m=b.next;continue}if(f&&Yd(y,z,k,a),(y.e.f&8192)!==0&&(Vi(y.e),c&&(y.a?.unfix(),(_??=new Set).delete(y))),y!==m){if(v!==void 0&&v.has(y)){if(x.length<E.length){var Zt=E[0],ut;b=Zt.prev;var Ln=x[0],Ir=x[x.length-1];for(ut=0;ut<x.length;ut+=1)yu(x[ut],Zt,i);for(ut=0;ut<E.length;ut+=1)v.delete(E[ut]);gr(r,Ln.prev,Ir.next),gr(r,b,Ln),gr(r,Ir,Zt),m=Zt,b=Ir,k-=1,x=[],E=[]}else v.delete(y),yu(y,m,i),gr(r,y.prev,y.next),gr(r,y,b===null?r.first:b.next),gr(r,b,y),b=y;continue}for(x=[],E=[];m!==null&&m.k!==R;)(m.e.f&8192)===0&&(v??=new Set).add(m),E.push(m),m=m.next;if(m===null)continue;y=m}x.push(y),b=y,m=y.next}if(m!==null||v!==void 0){for(var Tt=v===void 0?[]:Ai(v);m!==null;)(m.e.f&8192)===0&&Tt.push(m),m=m.next;var Zn=Tt.length;if(Zn>0){var Ti=(a&4)!==0&&d===0?i:null;if(c){for(k=0;k<Zn;k+=1)Tt[k].a?.measure();for(k=0;k<Zn;k+=1)Tt[k].a?.fix()}v_(r,Tt,Ti)}}c&&xe(()=>{if(_!==void 0)for(y of _)y.a?.apply()}),t.first=r.first&&r.first.e,t.last=b&&b.e;for(var Os of n.values())oe(Os.e);n.clear()}function Yd(t,e,r,n){(n&1)!==0&&Vt(t.v,e),(n&2)!==0?Vt(t.i,r):t.i=r}function bu(t,e,r,n,i,o,a,s,u,c,f){var d=Hi,l=(u&1)!==0,p=(u&16)===0,m=l?p?kn(i,!1,!1):We(i):i,v=(u&2)===0?a:We(a);g&&l&&(m.trace=()=>{var x=typeof v=="number"?a:v.v;c()[x]});var b={i:v,v:m,k:o,a:null,e:null,prev:r,next:n};Hi=b;try{if(t===null){var _=document.createDocumentFragment();_.append(t=ke())}return b.e=we(()=>s(t,m,v,c),P),b.e.prev=r&&r.e,b.e.next=n&&n.e,r===null?f||(e.first=b):(r.next=b,r.e.next=b.e),n!==null&&(n.prev=b,n.e.prev=b.e),b}finally{Hi=d}}function yu(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==null&&o!==n;){var a=Ne(o);i.before(o),o=a}}function gr(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function __(t,e,r){if(!e||e===Ld(String(r??"")))return;let n,i=t.__svelte_meta?.loc;i?n=`near ${i.file}:${i.line}:${i.column}`:bt?.[ct]&&(n=`in ${bt[ct]}`),nd(ba(n))}function xu(t,e,r=!1,n=!1,i=!1){var o=t,a="";ue(()=>{var s=j;if(a===(a=e()??"")){P&&ze();return}if(s.nodes_start!==null&&(du(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),a!==""){if(P){for(var u=B.data,c=ze(),f=c;c!==null&&(c.nodeType!==Ye||c.data!=="");)f=c,c=Ne(c);if(c===null)throw Br(),er;g&&!i&&__(c.parentNode,u,a),vt(B,f),o=X(c);return}var d=a+"";r?d=`<svg>${d}</svg>`:n&&(d=`<math>${d}</math>`);var l=Gi(d);if((r||n)&&(l=ye(l)),vt(ye(l),l.lastChild),r||n)for(;ye(l);)o.before(ye(l));else o.before(l)}})}function Ki(t,e,r){qe(()=>{var n=te(()=>e(t,r?.())||{});if(r&&n?.update){var i=!1,o={};Ce(()=>{var a=r();_a(a),i&&Qo(o,a)&&(o=a,n.update(a))}),i=!0}if(n?.destroy)return()=>n.destroy()})}function $u(t,e){var r=void 0,n;Ue(()=>{r!==(r=e())&&(n&&(oe(n),n=null),r&&(n=we(()=>{qe(()=>r(t))})))})}function Hd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Hd(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Kd(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Hd(t))&&(n&&(n+=" "),n+=e);return n}function ku(t){return typeof t=="object"?Kd(t):t??""}var Xd=[...` 	
\r\f\xA0\v\uFEFF`];function ep(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var o=i.length,a=0;(a=n.indexOf(i,a))>=0;){var s=a+o;(a===0||Xd.includes(n[a-1]))&&(s===n.length||Xd.includes(n[s]))?n=(a===0?"":n.substring(0,a))+n.substring(s+1):a=s}}return n===""?null:n}function Qd(t,e=!1){var r=e?" !important;":";",n="";for(var i in t){var o=t[i];o!=null&&o!==""&&(n+=" "+i+": "+o+r)}return n}function wu(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function tp(t,e){if(e){var r="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,a=0,s=!1,u=[];n&&u.push(...Object.keys(n).map(wu)),i&&u.push(...Object.keys(i).map(wu));var c=0,f=-1;let v=t.length;for(var d=0;d<v;d++){var l=t[d];if(s?l==="/"&&t[d-1]==="*"&&(s=!1):o?o===l&&(o=!1):l==="/"&&t[d+1]==="*"?s=!0:l==='"'||l==="'"?o=l:l==="("?a++:l===")"&&a--,!s&&o===!1&&a===0){if(l===":"&&f===-1)f=d;else if(l===";"||d===v-1){if(f!==-1){var p=wu(t.substring(c,f).trim());if(!u.includes(p)){l!==";"&&d++;var m=t.substring(c,d).trim();r+=" "+m+";"}}c=d+1,f=-1}}}}return n&&(r+=Qd(n)),i&&(r+=Qd(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Xi(t,e,r,n,i,o){var a=t.__className;if(P||a!==r||a===void 0){var s=ep(r,n,o);(!P||s!==t.getAttribute("class"))&&(s==null?t.removeAttribute("class"):e?t.className=s:t.setAttribute("class",s)),t.__className=r}else if(o&&i!==o)for(var u in o){var c=!!o[u];(i==null||c!==!!i[u])&&t.classList.toggle(u,c)}return o}function Eu(t,e={},r,n){for(var i in r){var o=r[i];e[i]!==o&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,o,n))}}function Iu(t,e,r,n){var i=t.__style;if(P||i!==e){var o=tp(e,n);(!P||o!==t.getAttribute("style"))&&(o==null?t.removeAttribute("style"):t.style.cssText=o),t.__style=e}else n&&(Array.isArray(n)?(Eu(t,r?.[0],n[0]),Eu(t,r?.[1],n[1],"important")):Eu(t,r,n));return n}function Qi(t,e,r=!1){if(t.multiple){if(e==null)return;if(!Pt(e))return od();for(var n of t.options)n.selected=e.includes(rp(n));return}for(n of t.options){var i=rp(n);if(nu(i,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Su(t){var e=new MutationObserver(()=>{Qi(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ge(()=>{e.disconnect()})}function rp(t){return"__value"in t?t.__value:t.value}var Hr=Symbol("class"),ni=Symbol("style"),op=Symbol("is custom element"),ap=Symbol("is html");function eo(t){if(P){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;Ct(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;Ct(t,"checked",null),t.checked=i}}};t.__on_r=r,xe(r),ma()}}function sp(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Ct(t,e,r,n){var i=up(t);if(P&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")){n||b_(t,e,r??"");return}i[e]!==(i[e]=r)&&(e==="loading"&&(t[Rf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&cp(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function y_(t,e,r,n,i=!1,o=!1){if(P&&i&&t.tagName==="INPUT"){var a=t,s=a.type==="checkbox"?"defaultChecked":"defaultValue";s in r||eo(a)}var u=up(t),c=u[op],f=!u[ap];let d=P&&c;d&&Se(!1);var l=e||{},p=t.tagName==="OPTION";for(var m in e)m in r||(r[m]=null);r.class?r.class=ku(r.class):(n||r[Hr])&&(r.class=null),r[ni]&&(r.style??=null);var v=cp(t);for(let y in r){let k=r[y];if(p&&y==="value"&&k==null){t.value=t.__value="",l[y]=k;continue}if(y==="class"){var b=t.namespaceURI==="http://www.w3.org/1999/xhtml";Xi(t,b,k,n,e?.[Hr],r[Hr]),l[y]=k,l[Hr]=r[Hr];continue}if(y==="style"){Iu(t,k,e?.[ni],r[ni]),l[y]=k,l[ni]=r[ni];continue}var _=l[y];if(!(k===_&&!(k===void 0&&t.hasAttribute(y)))){l[y]=k;var x=y[0]+y[1];if(x!=="$$")if(x==="on"){let T={},ie="$$"+y,de=y.slice(2);var E=Fd(de);if(Zd(de)&&(de=de.slice(0,-7),T.capture=!0),!E&&_){if(k!=null)continue;t.removeEventListener(de,l[ie],T),l[ie]=null}if(k!=null)if(E)t[`__${de}`]=k,In([de]);else{let Zt=function(ut){l[y].call(this,ut)};l[ie]=Dd(de,t,Zt,T)}else E&&(t[`__${de}`]=void 0)}else if(y==="style")Ct(t,y,k);else if(y==="autofocus")ou(t,!!k);else if(!c&&(y==="__value"||y==="value"&&k!=null))t.value=t.__value=k;else if(y==="selected"&&p)sp(t,k);else{var z=y;f||(z=Bd(z));var R=z==="defaultValue"||z==="defaultChecked";if(k==null&&!c&&!R)if(u[y]=null,z==="value"||z==="checked"){let T=t,ie=e===void 0;if(z==="value"){let de=T.defaultValue;T.removeAttribute(z),T.defaultValue=de,T.value=T.__value=ie?de:null}else{let de=T.defaultChecked;T.removeAttribute(z),T.defaultChecked=de,T.checked=ie?de:!1}}else t.removeAttribute(y);else R||v.includes(z)&&(c||typeof k!="string")?(t[z]=k,z in u&&(u[z]=pe)):typeof k!="function"&&Ct(t,z,k,o)}}}return d&&Se(!0),l}function Tu(t,e,r=[],n=[],i=[],o,a=!1,s=!1){Di(i,r,n,u=>{var c=void 0,f={},d=t.nodeName==="SELECT",l=!1;if(Ue(()=>{var m=e(...u.map(A)),v=y_(t,c,m,o,a,s);l&&d&&"value"in m&&Qi(t,m.value);for(let _ of Object.getOwnPropertySymbols(f))m[_]||oe(f[_]);for(let _ of Object.getOwnPropertySymbols(m)){var b=m[_];_.description===Us&&(!c||b!==c[_])&&(f[_]&&oe(f[_]),f[_]=we(()=>$u(t,()=>b))),v[_]=b}c=v}),d){var p=t;qe(()=>{Qi(p,c.value,!0),Su(p)})}l=!0})}function up(t){return t.__attributes??={[op]:t.nodeName.includes("-"),[ap]:t.namespaceURI===Cf}}var np=new Map;function cp(t){var e=t.getAttribute("is")||t.nodeName,r=np.get(e);if(r)return r;np.set(e,r=[]);for(var n,i=t,o=Element.prototype;o!==i;){n=Vo(i);for(var a in n)n[a].set&&r.push(a);i=Fr(i)}return r}function b_(t,e,r){g&&(e==="srcset"&&x_(t,r)||zu(t.getAttribute(e)??"",r)||rd(e,t.outerHTML.replace(t.innerHTML,t.innerHTML&&"..."),String(r)))}function zu(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function ip(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function x_(t,e){var r=ip(t.srcset),n=ip(e);return n.length===r.length&&n.every(([i,o],a)=>o===r[a][1]&&(zu(r[a][0],i)||zu(i,r[a][0])))}var $_=Bo?()=>performance.now():()=>Date.now(),Gt={tick:t=>(Bo?requestAnimationFrame:ft)(t),now:()=>$_(),tasks:new Set};function lp(){let t=Gt.now();Gt.tasks.forEach(e=>{e.c(t)||(Gt.tasks.delete(e),e.f())}),Gt.tasks.size!==0&&Gt.tick(lp)}function fp(t){let e;return Gt.tasks.size===0&&Gt.tick(lp),{promise:new Promise(r=>{Gt.tasks.add(e={c:t,f:r})}),abort(){Gt.tasks.delete(e)}}}function ka(t,e){Wt(()=>{t.dispatchEvent(new CustomEvent(e))})}function I_(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;let e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function dp(t){let e={},r=t.split(";");for(let n of r){let[i,o]=n.split(":");if(!i||o===void 0)break;let a=I_(i.trim());e[a]=o.trim()}return e}var S_=t=>t;function Pu(t,e,r,n){var i=(t&1)!==0,o=(t&2)!==0,a=i&&o,s=(t&4)!==0,u=a?"both":i?"in":"out",c,f=e.inert,d=e.style.overflow,l,p;function m(){return Wt(()=>c??=r()(e,n?.()??{},{direction:u}))}var v={is_global:s,in(){if(e.inert=f,!i){p?.abort(),p?.reset?.();return}o||l?.abort(),ka(e,"introstart"),l=Au(e,m(),p,1,()=>{ka(e,"introend"),l?.abort(),l=c=void 0,e.style.overflow=d})},out(E){if(!o){E?.(),c=void 0;return}e.inert=!0,ka(e,"outrostart"),p=Au(e,m(),l,0,()=>{ka(e,"outroend"),E?.()})},stop:()=>{l?.abort(),p?.abort()}},b=j;if((b.transitions??=[]).push(v),i&&xa){var _=s;if(!_){for(var x=b.parent;x&&(x.f&65536)!==0;)for(;(x=x.parent)&&(x.f&16)===0;);_=!x||(x.f&32768)!==0}_&&qe(()=>{te(()=>v.in())})}}function Au(t,e,r,n,i){var o=n===1;if(Ls(e)){var a,s=!1;return xe(()=>{if(!s){var b=e({direction:o?"in":"out"});a=Au(t,b,r,n,i)}}),{abort:()=>{s=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r?.deactivate(),!e?.duration)return i(),{abort:ft,deactivate:ft,reset:ft,t:()=>n};let{delay:u=0,css:c,tick:f,easing:d=S_}=e;var l=[];if(o&&r===void 0&&(f&&f(0,1),c)){var p=dp(c(0,1));l.push(p,p)}var m=()=>1-n,v=t.animate(l,{duration:u,fill:"forwards"});return v.onfinish=()=>{v.cancel();var b=r?.t()??1-n;r?.abort();var _=n-b,x=e.duration*Math.abs(_),E=[];if(x>0){var z=!1;if(c)for(var R=Math.ceil(x/16.666666666666668),y=0;y<=R;y+=1){var k=b+_*d(y/R),T=dp(c(k,1-k));E.push(T),z||=T.overflow==="hidden"}z&&(t.style.overflow="hidden"),m=()=>{var ie=v.currentTime;return b+_*d(ie/x)},f&&fp(()=>{if(v.playState!=="running")return!1;var ie=m();return f(ie,1-ie),!0})}v=t.animate(E,{duration:x,fill:"forwards"}),v.onfinish=()=>{m=()=>n,f?.(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=ft)},deactivate:()=>{i=ft},reset:()=>{n===0&&f?.(1,0)},t:()=>m()}}function to(t,e,r=e){var n=new WeakSet;su(t,"input",async i=>{g&&t.type==="checkbox"&&Zs();var o=i?t.defaultValue:t.value;if(o=Ou(t)?ju(o):o,r(o),H!==null&&n.add(H),await ga(),o!==(o=e())){var a=t.selectionStart,s=t.selectionEnd,u=t.value.length;if(t.value=o??"",s!==null){var c=t.value.length;a===s&&s===u&&c>u?(t.selectionStart=c,t.selectionEnd=c):(t.selectionStart=a,t.selectionEnd=Math.min(s,c))}}}),(P&&t.defaultValue!==t.value||te(e)==null&&t.value)&&(r(Ou(t)?ju(t.value):t.value),H!==null&&n.add(H)),Ce(()=>{g&&t.type==="checkbox"&&Zs();var i=e();if(t===document.activeElement){var o=Yn??H;if(n.has(o))return}Ou(t)&&i===ju(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Ou(t){var e=t.type;return e==="number"||e==="range"}function ju(t){return t===""?null:+t}function pp(t,e){return t===e||t?.[je]===e}function ro(t={},e,r,n){return qe(()=>{var i,o;return Ce(()=>{i=o,o=n?.()||[],te(()=>{t!==r(...o)&&(e(t,...o),i&&pp(r(...i),t)&&e(null,...i))})}),()=>{xe(()=>{o&&pp(r(...o),t)&&e(null,...o)})}}),t}var Ia=!1,RP=Symbol();function Cu(t){var e=Ia;try{return Ia=!1,[t(),Ia]}finally{Ia=e}}function Mt(t,e,r,n){var i=!zr||(r&2)!==0,o=(r&8)!==0,a=(r&16)!==0,s=n,u=!0,c=()=>(u&&(u=!1,s=a?te(n):n),s),f;if(o){var d=je in t||Pi in t;f=lt(t,e)?.set??(d&&e in t?E=>t[e]=E:void 0)}var l,p=!1;o?[l,p]=Cu(()=>t[e]):l=t[e],l===void 0&&n!==void 0&&(l=c(),f&&(i&&Yf(e),f(l)));var m;if(i?m=()=>{var E=t[e];return E===void 0?c():(u=!0,E)}:m=()=>{var E=t[e];return E!==void 0&&(s=void 0),E===void 0?s:E},i&&(r&4)===0)return m;if(f){var v=t.$$legacy;return(function(E,z){return arguments.length>0?((!i||!z||v||p)&&f(z?m():E),E):m()})}var b=!1,_=((r&1)!==0?xn:$n)(()=>(b=!1,m()));g&&(_.label=e),o&&A(_);var x=j;return(function(E,z){if(arguments.length>0){let R=z?A(_):i&&o?tt(E):E;return ae(_,R),b=!0,s!==void 0&&(s=R),E}return Jt&&b||(x.f&16384)!==0?_.v:A(_)})}function mp(t){return new Mu(t)}var Mu=class{#t;#e;constructor(e){var r=new Map,n=(o,a)=>{var s=kn(a,!1,!1);return r.set(o,s),s};let i=new Proxy({...e.props||{},$$events:{}},{get(o,a){return A(r.get(a)??n(a,Reflect.get(o,a)))},has(o,a){return a===Pi?!0:(A(r.get(a)??n(a,Reflect.get(o,a))),Reflect.has(o,a))},set(o,a,s){return ae(r.get(a)??n(a,s),s),Reflect.set(o,a,s)}});this.#e=(e.hydrate?gu:Ze)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),!He&&(!e?.props?.$$host||e.sync===!1)&&yn(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||Be(this,o,{get(){return this.#e[o]},set(a){this.#e[o]=a},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{it(this.#e)}}$set(e){this.#e.$set(e)}$on(e,r){this.#t[e]=this.#t[e]||[];let n=(...i)=>r.call(this,...i);return this.#t[e].push(n),()=>{this.#t[e]=this.#t[e].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var Z_;typeof HTMLElement=="function"&&(Z_=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(t,e,r){super(),this.$$ctor=t,this.$$s=e,r&&this.attachShadow({mode:"open"})}addEventListener(t,e,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){let n=this.$$c.$on(t,e);this.$$l_u.set(e,n)}super.addEventListener(t,e,r)}removeEventListener(t,e,r){if(super.removeEventListener(t,e,r),this.$$c){let n=this.$$l_u.get(e);n&&(n(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(n){return i=>{let o=document.createElement("slot");n!=="default"&&(o.name=n),Z(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},r=F_(this);for(let n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=t(n),e.default=!0):e[n]=t(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=Uu(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=mp({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=cu(()=>{Ce(()=>{this.$$r=!0;for(let n of Ds(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=Uu(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1})});for(let n in this.$$l)for(let i of this.$$l[n]){let o=this.$$c.$on(n,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(t,e,r){this.$$r||(t=this.$$g_p(t),this.$$d[t]=Uu(t,r,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Ds(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});function Uu(t,e,r,n){let i=r[t]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function F_(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var Du=require("obsidian");function Sa(t,e){return(0,Du.setIcon)(t,e),{update(r){(0,Du.setIcon)(t,r)}}}function B_(t){let e=t-1;return e*e*e+1}var Ru=!1;function hp(t,{delay:e=0,duration:r=400,easing:n=B_,axis:i="y"}={}){let o=getComputedStyle(t);g&&!Ru&&/(contents|inline|table)/.test(o.display)&&(Ru=!0,Promise.resolve().then(()=>Ru=!1),ud(o.display));let a=+o.opacity,s=i==="y"?"height":"width",u=parseFloat(o[s]),c=i==="y"?["top","bottom"]:["left","right"],f=c.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),d=parseFloat(o[`padding${f[0]}`]),l=parseFloat(o[`padding${f[1]}`]),p=parseFloat(o[`margin${f[0]}`]),m=parseFloat(o[`margin${f[1]}`]),v=parseFloat(o[`border${f[0]}Width`]),b=parseFloat(o[`border${f[1]}Width`]);return{delay:e,duration:r,easing:n,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*a};${s}: ${_*u}px;padding-${c[0]}: ${_*d}px;padding-${c[1]}: ${_*l}px;margin-${c[0]}: ${_*p}px;margin-${c[1]}: ${_*m}px;border-${c[0]}-width: ${_*v}px;border-${c[1]}-width: ${_*b}px;min-${s}: 0`}}var V_=q('<div class="js-engine-message-delete-icon callout-icon" aria-label="remove" role="button" tabindex="0"></div>'),J_=q("<p> </p>"),W_=q('<pre class="language-none"><code> </code></pre>'),G_=q("<p> </p>"),q_=q("<p> </p>"),Y_=q("<p> </p> <!> <!>",1),H_=q("<p> </p> <p> </p> <!>",1),K_=q('<div class="js-engine-message-detail-content"><p> </p> <p> </p> <!></div>'),X_=q('<div><div class="js-engine-message-header callout-title"><div class="js-engine-message-icon callout-icon"></div> <span class="js-engine-message-title"> </span> <!></div> <div class="js-engine-message-content callout-content"><!> <!> <div class="js-engine-message-detail"><div class="js-engine-message-detail-row" role="button" tabindex="0"><span>Details</span> <div class="js-engine-message-icon"></div></div> <!></div></div></div>');function zn(t,e){Te(e,!0);let r=Mt(e,"showDeleteButton",3,!0),n=Mt(e,"showMessageSource",3,!0);console.log(e.messageWrapper.source.executionContext);let i=De(!1);var o=X_(),a=J(o),s=J(a);Ki(s,(y,k)=>Sa?.(y,k),()=>gp(e.messageWrapper.message.type));var u=W(s,2),c=J(u,!0);U(u);var f=W(u,2);{var d=y=>{var k=V_();k.__click=()=>e.messageManager.removeMessage(e.messageWrapper.uuid),k.__keydown=T=>T.key===" "?e.messageManager.removeMessage(e.messageWrapper.uuid):void 0,Ki(k,(T,ie)=>Sa?.(T,ie),()=>"x"),Z(y,k)};ot(f,y=>{r()&&y(d)})}U(a);var l=W(a,2),p=J(l);{var m=y=>{var k=J_(),T=J(k,!0);U(k),ue(()=>ce(T,e.messageWrapper.message.content)),Z(y,k)};ot(p,y=>{e.messageWrapper.message.content&&y(m)})}var v=W(p,2);{var b=y=>{var k=W_(),T=J(k),ie=J(T,!0);U(T),U(k),ue(()=>ce(ie,e.messageWrapper.message.code)),Z(y,k)};ot(v,y=>{e.messageWrapper.message.code&&y(b)})}var _=W(v,2),x=J(_);x.__click=()=>ae(i,!A(i)),x.__keydown=y=>y.key===" "?ae(i,!A(i)):void 0;var E=W(J(x),2);Ki(E,(y,k)=>Sa?.(y,k),()=>A(i)?"chevron-down":"chevron-right"),U(x);var z=W(x,2);{var R=y=>{var k=K_(),T=J(k),ie=J(T);U(T);var de=W(T,2),Zt=J(de);U(de);var ut=W(de,2);{var Ln=Ir=>{let Tt=Zi(()=>e.messageWrapper.source.executionContext);var Zn=H_(),Ti=rt(Zn),Os=J(Ti);U(Ti);var js=W(Ti,2),wg=J(js);U(js);var kg=W(js,2);{var Eg=Ns=>{var Af=Y_(),Cs=rt(Af),Ig=J(Cs);U(Cs);var Pf=W(Cs,2);{var Sg=hn=>{var vn=G_(),Ms=J(vn);U(vn),ue(()=>ce(Ms,`Execution File: ${A(Tt).file?.path??"none"??""}`)),Z(hn,vn)};ot(Pf,hn=>{"file"in A(Tt)&&hn(Sg)})}var zg=W(Pf,2);{var Tg=hn=>{var vn=q_(),Ms=J(vn);U(vn),ue(()=>ce(Ms,`Execution JS File: ${A(Tt).jsFile?.path??"none"??""}`)),Z(hn,vn)};ot(zg,hn=>{"jsFile"in A(Tt)&&hn(Tg)})}ue(()=>ce(Ig,`Execution Type: ${A(Tt).executionSource??""}`)),Z(Ns,Af)};ot(kg,Ns=>{A(Tt)&&Ns(Eg)})}ue(()=>{ce(Os,`Source Name: ${e.messageWrapper.source.name??""}`),ce(wg,`Source ID: ${e.messageWrapper.source.id??""}`)}),Z(Ir,Zn)};ot(ut,Ir=>{n()&&Ir(Ln)})}U(k),ue(Ir=>{ce(ie,`Type: ${e.messageWrapper.message.type??""}`),ce(Zt,`Time: ${Ir??""}`)},[()=>e.messageWrapper.time.toISOString()]),Pu(3,k,()=>hp,()=>({duration:100})),Z(y,k)};ot(z,y=>{A(i)&&y(R)})}U(_),U(l),U(o),ue(y=>{Xi(o,1,`js-engine-message callout ${y??""}`),Ct(o,"data-callout",e.messageWrapper.message.type),ce(c,e.messageWrapper.message.title),Ct(x,"aria-expanded",A(i)?"true":"false")},[()=>vp(e.messageWrapper.message.type)]),Z(t,o),Ae()}In(["click","keydown"]);function _p(t){return[...t]}var Nr=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(Nr||{});function yp(t,e){return(t%e+e)%e}var Q_=q("<button><!></button>");function kt(t,e){Te(e,!0);let r=Mt(e,"variant",19,()=>"default"),n=Mt(e,"disabled",3,!1),i=Mt(e,"tooltip",3,""),o=Mt(e,"other",19,()=>({})),a=Mt(e,"onclick",3,()=>{});var s=Q_();Tu(s,()=>({class:"js-engine-button","aria-label":i(),onclick:a(),disabled:n(),...o(),[Hr]:{"mod-cta":r()==="primary","mod-warning":r()==="destructive","mod-plain":r()==="plain",disabled:n()}}));var u=J(s);Yi(u,()=>e.children),U(s),Z(t,s),Ae()}var ey=q("<p>None</p>"),ty=q("<h2>Messages</h2> <!> <div></div>",1);function Lu(t,e){Te(e,!0);let r=De(tt(e.messageManager.messages.get())),n;_u(()=>{n=e.messageManager.messages.registerListener({callback:s=>{console.log("Messages updated",s),ae(r,s,!0)}})}),Gd(()=>{e.messageManager.messages.unregisterListener(n)});var i=ty(),o=W(rt(i),2);kt(o,{get variant(){return"destructive"},onclick:()=>e.messageManager.removeAllMessages(),children:(s,u)=>{dt();var c=Nt("Clear All Messages");Z(s,c)},$$slots:{default:!0}});var a=W(o,2);_r(a,21,()=>A(r),s=>s.uuid,(s,u)=>{zn(s,{get messageWrapper(){return A(u)},get messageManager(){return e.messageManager}})},s=>{var u=ey();Z(s,u)}),U(a),Z(t,i),Ae()}var bp=require("obsidian");var za=class extends bp.Modal{plugin;component;constructor(e,r){super(e),this.plugin=r}onOpen(){this.contentEl.empty(),this.component&&it(this.component),this.component=Ze(Lu,{target:this.contentEl,props:{messageManager:this.plugin.messageManager}})}onClose(){this.contentEl.empty(),this.component&&it(this.component)}};var Zu=class{listeners;constructor(){this.listeners=[]}registerListener(e){let r=e;return r.uuid=self.crypto.randomUUID(),this.listeners.push(r),r}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(r=>r.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let r of this.listeners)try{r.callback(e)}catch(n){let i=n instanceof Error?n:String(n);console.error(new Error(`Error while notifying listener with UUID ${r.uuid}.`),i)}}},Ta=class extends Zu{value;constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}update(e){this.set(e(this.get()))}};var Oa=require("obsidian"),no=(o=>(o.INFO="info",o.TIP="tip",o.SUCCESS="success",o.WANING="warning",o.ERROR="error",o))(no||{}),ry=["error","warning","success","tip","info"];function vp(t){return`js-engine-message-mod-${t}`}function gp(t){let e=new Map;return e.set("error","zap"),e.set("warning","alert-triangle"),e.set("success","check"),e.set("tip","flame"),e.set("info","info"),e.get(t)??"info"}function ny(t){return`js-engine-message-indicator-mod-${t}`}var Aa=class{type;title;content;code;constructor(e,r,n,i){this.type=e,this.title=r,this.content=n,this.code=i}},ii=class{uuid;source;message;time;constructor(e,r){this.message=e,this.source=r,this.uuid=self.crypto.randomUUID(),this.time=(0,Oa.moment)()}},Pa=class{app;plugin;messages;statusBarItem;messageDisplay;constructor(e,r){this.app=e,this.plugin=r,this.messages=new Ta([])}initStatusBarItem(){console.trace("Initializing MessageManager status bar item"),this.messageDisplay=new za(this.app,this.plugin),this.statusBarItem=this.plugin.addStatusBarItem(),this.statusBarItem.addClass("mod-clickable"),this.statusBarItem.addEventListener("click",()=>{this.messageDisplay?.open()}),this.updateStatusBarItem(),this.messages.registerListener({callback:()=>{this.updateStatusBarItem()}})}removeStatusBarItem(){this.statusBarItem?.remove(),this.statusBarItem=void 0}addMessage(e,r){let n=new ii(e,r);return this.messages.update(i=>(i.push(n),i.length>100&&i.shift(),i)),n}removeMessage(e){this.messages.update(r=>r.filter(n=>n.uuid!==e))}removeAllMessages(){this.messages.set([])}updateStatusBarItem(){if(!this.statusBarItem)return;this.statusBarItem.empty();let e=this.statusBarItem.createEl("div");(0,Oa.setIcon)(e,"message-square");let r=this.statusBarItem.createEl("span");r.addClass("js-engine-message-counter"),r.innerText=this.messages.get().length.toString();let n=new Set(Array.from(this.messages.get().values()).map(i=>i.message.type));for(let i of ry)if(n.has(i)){r.addClass(ny(i));break}n.size===0&&r.addClass("js-engine-message-indicator-mod-info")}getMessagesFromSource(e){let r=this.messages.get();return _p(r.values()).filter(n=>n.source.id===e.id)}};var ja=class{app;plugin;context;apiInstance;messages;func;globals;uuid;code;result;functionBuildError;functionRunError;functionBuildTime;functionRunTime;constructor(e){this.app=e.app,this.plugin=e.plugin,this.code=e.code,this.context={...e.context,...e.contextOverrides},this.uuid=self.crypto.randomUUID(),this.apiInstance=new Kr(this.app,this.plugin,new Fn("JS_EXECUTION",this.uuid,e.context)),this.messages=[],this.func=void 0,this.globals=this.apiInstance.internal.createExecutionGlobals({component:e.component,context:this.context,container:e.container})}buildFunction(){let e=performance.now();try{this.func=window.eval(`(async function anonymous(${Object.keys(this.globals).join(", ")}) {

${this.code}

})
 //# sourceURL=${encodeURIComponent(this.apiInstance.instanceId.toString())}`)}catch(r){console.warn("failed to parse JS",r),r instanceof Error&&(this.functionBuildError=r,this.result=this.plugin.api?.message.createMessage("error","Failed to parse JS",`Failed to parse JS during execution "${this.uuid}"`,r.stack))}this.functionBuildTime=performance.now()-e}async runFunction(){if(this.functionBuildError)throw new Error("can not run function, function construction failed");if(!this.func)throw new Error("can not run function, function has not been constructed yet");let e=performance.now();try{this.result=await Promise.resolve(this.func(...Object.values(this.globals)))}catch(r){console.warn("failed to execute JS",r),r instanceof Error&&(this.functionRunError=r,this.result=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during execution "${this.uuid}"`,r.stack))}this.messages=this.apiInstance.message.getMessagesForInstance(),this.functionRunTime=performance.now()-e}isSuccessful(){return!this.functionBuildError&&!this.functionRunError}getMessages(){return this.messages}openStatsModal(){this.plugin.jsEngine.openExecutionStatsModal(this)}};var Fu=class extends Error{errorLevel;effect;cause;tip;docs;context;positionContext;constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}};var Na=class extends Fu{getErrorType(){return"JSE_VALIDATION"}};var ts=require("obsidian");var DC=Object.freeze({status:"aborted"});function h(t,e,r){function n(s,u){var c;Object.defineProperty(s,"_zod",{value:s._zod??{},enumerable:!1}),(c=s._zod).traits??(c.traits=new Set),s._zod.traits.add(t),e(s,u);for(let f in a.prototype)f in s||Object.defineProperty(s,f,{value:a.prototype[f].bind(s)});s._zod.constr=a,s._zod.def=u}let i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function a(s){var u;let c=r?.Parent?new o:this;n(c,s),(u=c._zod).deferred??(u.deferred=[]);for(let f of c._zod.deferred)f();return c}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?!0:s?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}var RC=Symbol("zod_brand"),yr=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},oi=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},Ca={};function br(t){return t&&Object.assign(Ca,t),Ca}var S={};At(S,{BIGINT_FORMAT_RANGES:()=>kp,Class:()=>Vu,NUMBER_FORMAT_RANGES:()=>Yu,aborted:()=>tn,allowsEval:()=>Wu,assert:()=>cy,assertEqual:()=>oy,assertIs:()=>sy,assertNever:()=>uy,assertNotEqual:()=>ay,assignProp:()=>Xr,base64ToUint8Array:()=>Ip,base64urlToUint8Array:()=>Iy,cached:()=>si,captureStackTrace:()=>Da,cleanEnum:()=>Ey,cleanRegex:()=>ao,clone:()=>qt,cloneDef:()=>fy,createTransparentProxy:()=>gy,defineLazy:()=>re,esc:()=>Ua,escapeRegex:()=>Cr,extend:()=>by,finalizeIssue:()=>Yt,floatSafeRemainder:()=>Ju,getElementAtPath:()=>dy,getEnumValues:()=>Ma,getLengthableOrigin:()=>so,getParsedType:()=>vy,getSizableOrigin:()=>Ep,hexToUint8Array:()=>zy,isObject:()=>Tn,isPlainObject:()=>en,issue:()=>ui,joinValues:()=>V,jsonStringifyReplacer:()=>ai,merge:()=>$y,mergeDefs:()=>Qr,normalizeParams:()=>C,nullish:()=>oo,numKeys:()=>hy,objectClone:()=>ly,omit:()=>yy,optionalKeys:()=>qu,partial:()=>wy,pick:()=>_y,prefixIssues:()=>xr,primitiveTypes:()=>wp,promiseAllObject:()=>py,propertyKeyTypes:()=>Gu,randomString:()=>my,required:()=>ky,safeExtend:()=>xy,shallowClone:()=>$p,stringifyPrimitive:()=>F,uint8ArrayToBase64:()=>Sp,uint8ArrayToBase64url:()=>Sy,uint8ArrayToHex:()=>Ty,unwrapMessage:()=>io});function oy(t){return t}function ay(t){return t}function sy(t){}function uy(t){throw new Error}function cy(t){}function Ma(t){let e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function V(t,e="|"){return t.map(r=>F(r)).join(e)}function ai(t,e){return typeof e=="bigint"?e.toString():e}function si(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function oo(t){return t==null}function ao(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function Ju(t,e){let r=(t.toString().split(".")[1]||"").length,n=e.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let u=n.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}let o=r>i?r:i,a=Number.parseInt(t.toFixed(o).replace(".","")),s=Number.parseInt(e.toFixed(o).replace(".",""));return a%s/10**o}var xp=Symbol("evaluating");function re(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==xp)return n===void 0&&(n=xp,n=r()),n},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function ly(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Xr(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Qr(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function fy(t){return Qr(t._zod.def)}function dy(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function py(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<e.length;o++)i[e[o]]=n[o];return i})}function my(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function Ua(t){return JSON.stringify(t)}var Da="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Tn(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var Wu=si(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function en(t){if(Tn(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(Tn(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function $p(t){return en(t)?{...t}:Array.isArray(t)?[...t]:t}function hy(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var vy=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},Gu=new Set(["string","number","symbol"]),wp=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Cr(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qt(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function C(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function gy(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,o){return e??(e=t()),Reflect.set(e,n,i,o)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function F(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function qu(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var Yu={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},kp={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function _y(t,e){let r=t._zod.def,n=Qr(t._zod.def,{get shape(){let i={};for(let o in e){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&(i[o]=r.shape[o])}return Xr(this,"shape",i),i},checks:[]});return qt(t,n)}function yy(t,e){let r=t._zod.def,n=Qr(t._zod.def,{get shape(){let i={...t._zod.def.shape};for(let o in e){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&delete i[o]}return Xr(this,"shape",i),i},checks:[]});return qt(t,n)}function by(t,e){if(!en(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=Qr(t._zod.def,{get shape(){let o={...t._zod.def.shape,...e};return Xr(this,"shape",o),o},checks:[]});return qt(t,i)}function xy(t,e){if(!en(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r={...t._zod.def,get shape(){let n={...t._zod.def.shape,...e};return Xr(this,"shape",n),n},checks:t._zod.def.checks};return qt(t,r)}function $y(t,e){let r=Qr(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e._zod.def.shape};return Xr(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return qt(t,r)}function wy(t,e,r){let n=Qr(e._zod.def,{get shape(){let i=e._zod.def.shape,o={...i};if(r)for(let a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(let a in i)o[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return Xr(this,"shape",o),o},checks:[]});return qt(e,n)}function ky(t,e,r){let n=Qr(e._zod.def,{get shape(){let i=e._zod.def.shape,o={...i};if(r)for(let a in r){if(!(a in o))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(let a in i)o[a]=new t({type:"nonoptional",innerType:i[a]});return Xr(this,"shape",o),o},checks:[]});return qt(e,n)}function tn(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function xr(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function io(t){return typeof t=="string"?t:t?.message}function Yt(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=io(t.inst?._zod.def?.error?.(t))??io(e?.error?.(t))??io(r.customError?.(t))??io(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Ep(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function so(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ui(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function Ey(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function Ip(t){let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function Sp(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Iy(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return Ip(e+r)}function Sy(t){return Sp(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function zy(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n/2]=Number.parseInt(e.slice(n,n+2),16);return r}function Ty(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var Vu=class{constructor(...e){}};var zp=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,ai,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Ra=h("$ZodError",zp),uo=h("$ZodError",zp,{Parent:Error});function Tp(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function Ap(t,e=r=>r.message){let r={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>n({issues:a}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(e(o));else{let a=r,s=0;for(;s<o.path.length;){let u=o.path[s];s===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(o))):a[u]=a[u]||{_errors:[]},a=a[u],s++}}};return n(t),r}var co=t=>(e,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},a=e._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new yr;if(a.issues.length){let s=new(i?.Err??t)(a.issues.map(u=>Yt(u,o,br())));throw Da(s,i?.callee),s}return a.value},Hu=co(uo),lo=t=>async(e,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},a=e._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){let s=new(i?.Err??t)(a.issues.map(u=>Yt(u,o,br())));throw Da(s,i?.callee),s}return a.value},Ku=lo(uo),fo=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new yr;return o.issues.length?{success:!1,error:new(t??Ra)(o.issues.map(a=>Yt(a,i,br())))}:{success:!0,data:o.value}},Pp=fo(uo),po=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(a=>Yt(a,i,br())))}:{success:!0,data:o.value}},Op=po(uo),jp=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return co(t)(e,r,i)};var Np=t=>(e,r,n)=>co(t)(e,r,n);var Cp=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return lo(t)(e,r,i)};var Mp=t=>async(e,r,n)=>lo(t)(e,r,n);var Up=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return fo(t)(e,r,i)};var Dp=t=>(e,r,n)=>fo(t)(e,r,n);var Rp=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return po(t)(e,r,i)};var Lp=t=>async(e,r,n)=>po(t)(e,r,n);var Zp=/^[cC][^\s-]{8,}$/,Fp=/^[0-9a-z]+$/,Bp=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Vp=/^[0-9a-vA-V]{20}$/,Jp=/^[A-Za-z0-9]{27}$/,Wp=/^[a-zA-Z0-9_-]{21}$/,Gp=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;var qp=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xu=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;var Yp=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var Py="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Hp(){return new RegExp(Py,"u")}var Kp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xp=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Qp=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,em=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tm=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Qu=/^[A-Za-z0-9_-]*$/,rm=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/;var nm=/^\+(?:[0-9]){6,14}[0-9]$/,im="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",om=new RegExp(`^${im}$`);function am(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function sm(t){return new RegExp(`^${am(t)}$`)}function um(t){let e=am({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${im}T(?:${n})$`)}var cm=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)};var lm=/^-?\d+$/,fm=/^-?\d+(?:\.\d+)?/,dm=/^(?:true|false)$/i,pm=/^null$/i;var mm=/^undefined$/i;var hm=/^[^A-Z]*$/,vm=/^[^a-z]*$/;var Fe=h("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),gm={number:"number",bigint:"bigint",object:"date"},ec=h("$ZodCheckLessThan",(t,e)=>{Fe.init(t,e);let r=gm[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),tc=h("$ZodCheckGreaterThan",(t,e)=>{Fe.init(t,e);let r=gm[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),_m=h("$ZodCheckMultipleOf",(t,e)=>{Fe.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):Ju(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),ym=h("$ZodCheckNumberFormat",(t,e)=>{Fe.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,o]=Yu[e.format];t._zod.onattach.push(a=>{let s=a._zod.bag;s.format=e.format,s.minimum=i,s.maximum=o,r&&(s.pattern=lm)}),t._zod.check=a=>{let s=a.value;if(r){if(!Number.isInteger(s)){a.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}s<i&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),s>o&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:t})}});var bm=h("$ZodCheckMaxLength",(t,e)=>{var r;Fe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!oo(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;if(i.length<=e.maximum)return;let a=so(i);n.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),xm=h("$ZodCheckMinLength",(t,e)=>{var r;Fe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!oo(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;if(i.length>=e.minimum)return;let a=so(i);n.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),$m=h("$ZodCheckLengthEquals",(t,e)=>{var r;Fe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!oo(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=n=>{let i=n.value,o=i.length;if(o===e.length)return;let a=so(i),s=o>e.length;n.issues.push({origin:a,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),mo=h("$ZodCheckStringFormat",(t,e)=>{var r,n;Fe.init(t,e),t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),wm=h("$ZodCheckRegex",(t,e)=>{mo.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),km=h("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=hm),mo.init(t,e)}),Em=h("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=vm),mo.init(t,e)}),Im=h("$ZodCheckIncludes",(t,e)=>{Fe.init(t,e);let r=Cr(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),Sm=h("$ZodCheckStartsWith",(t,e)=>{Fe.init(t,e);let r=new RegExp(`^${Cr(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),zm=h("$ZodCheckEndsWith",(t,e)=>{Fe.init(t,e);let r=new RegExp(`.*${Cr(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});var Tm=h("$ZodCheckOverwrite",(t,e)=>{Fe.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var Za=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let n=e.split(`
`).filter(a=>a),i=Math.min(...n.map(a=>a.length-a.trimStart().length)),o=n.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(let a of o)this.content.push(a)}compile(){let e=Function,r=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,i.join(`
`))}};var Pm={major:4,minor:1,patch:12};var K=h("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Pm;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let o of i._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(a,s,u)=>{let c=tn(a),f;for(let d of s){if(d._zod.def.when){if(!d._zod.def.when(a))continue}else if(c)continue;let l=a.issues.length,p=d._zod.check(a);if(p instanceof Promise&&u?.async===!1)throw new yr;if(f||p instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await p,a.issues.length!==l&&(c||(c=tn(a,l)))});else{if(a.issues.length===l)continue;c||(c=tn(a,l))}}return f?f.then(()=>a):a},o=(a,s,u)=>{if(tn(a))return a.aborted=!0,a;let c=i(s,n,u);if(c instanceof Promise){if(u.async===!1)throw new yr;return c.then(f=>t._zod.parse(f,u))}return t._zod.parse(c,u)};t._zod.run=(a,s)=>{if(s.skipChecks)return t._zod.parse(a,s);if(s.direction==="backward"){let c=t._zod.parse({value:a.value,issues:[]},{...s,skipChecks:!0});return c instanceof Promise?c.then(f=>o(f,a,s)):o(c,a,s)}let u=t._zod.parse(a,s);if(u instanceof Promise){if(s.async===!1)throw new yr;return u.then(c=>i(c,n,s))}return i(u,n,s)}}t["~standard"]={validate:i=>{try{let o=Pp(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Op(t,i).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),ho=h("$ZodString",(t,e)=>{K.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??cm(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),le=h("$ZodStringFormat",(t,e)=>{mo.init(t,e),ho.init(t,e)}),Lm=h("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=qp),le.init(t,e)}),Zm=h("$ZodUUID",(t,e)=>{if(e.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Xu(n))}else e.pattern??(e.pattern=Xu());le.init(t,e)}),Fm=h("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Yp),le.init(t,e)}),Bm=h("$ZodURL",(t,e)=>{le.init(t,e),t._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:rm.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),Vm=h("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Hp()),le.init(t,e)}),Jm=h("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Wp),le.init(t,e)}),Wm=h("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Zp),le.init(t,e)}),Gm=h("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Fp),le.init(t,e)}),qm=h("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Bp),le.init(t,e)}),Ym=h("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Vp),le.init(t,e)}),Hm=h("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Jp),le.init(t,e)}),Km=h("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=um(e)),le.init(t,e)}),Xm=h("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=om),le.init(t,e)}),Qm=h("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=sm(e)),le.init(t,e)}),eh=h("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Gp),le.init(t,e)}),th=h("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Kp),le.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),rh=h("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Xp),le.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),nh=h("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Qp),le.init(t,e)}),ih=h("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=em),le.init(t,e),t._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[i,o]=n;if(!o)throw new Error;let a=Number(o);if(`${a}`!==o)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function oh(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var ah=h("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=tm),le.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{oh(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function Oy(t){if(!Qu.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return oh(r)}var sh=h("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Qu),le.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{Oy(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),uh=h("$ZodE164",(t,e)=>{e.pattern??(e.pattern=nm),le.init(t,e)});function jy(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var ch=h("$ZodJWT",(t,e)=>{le.init(t,e),t._zod.check=r=>{jy(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}});var nc=h("$ZodNumber",(t,e)=>{K.init(t,e),t._zod.pattern=t._zod.bag.pattern??fm,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),r}}),lh=h("$ZodNumber",(t,e)=>{ym.init(t,e),nc.init(t,e)}),ic=h("$ZodBoolean",(t,e)=>{K.init(t,e),t._zod.pattern=dm,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}});var fh=h("$ZodUndefined",(t,e)=>{K.init(t,e),t._zod.pattern=mm,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),r}}),dh=h("$ZodNull",(t,e)=>{K.init(t,e),t._zod.pattern=pm,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),ph=h("$ZodAny",(t,e)=>{K.init(t,e),t._zod.parse=r=>r}),mh=h("$ZodUnknown",(t,e)=>{K.init(t,e),t._zod.parse=r=>r}),hh=h("$ZodNever",(t,e)=>{K.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Om(t,e,r){t.issues.length&&e.issues.push(...xr(r,t.issues)),e.value[r]=t.value}var vh=h("$ZodArray",(t,e)=>{K.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let o=[];for(let a=0;a<i.length;a++){let s=i[a],u=e.element._zod.run({value:s,issues:[]},n);u instanceof Promise?o.push(u.then(c=>Om(c,r,a))):Om(u,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function Va(t,e,r,n){t.issues.length&&e.issues.push(...xr(r,t.issues)),t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}function gh(t){let e=Object.keys(t.shape);for(let n of e)if(!t.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=qu(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function _h(t,e,r,n,i,o){let a=[],s=i.keySet,u=i.catchall._zod,c=u.def.type;for(let f of Object.keys(e)){if(s.has(f))continue;if(c==="never"){a.push(f);continue}let d=u.run({value:e[f],issues:[]},n);d instanceof Promise?t.push(d.then(l=>Va(l,r,f,e))):Va(d,r,f,e)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:o}),t.length?Promise.all(t).then(()=>r):r}var Ny=h("$ZodObject",(t,e)=>{if(K.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let s=e.shape;Object.defineProperty(e,"shape",{get:()=>{let u={...s};return Object.defineProperty(e,"shape",{value:u}),u}})}let n=si(()=>gh(e));re(t._zod,"propValues",()=>{let s=e.shape,u={};for(let c in s){let f=s[c]._zod;if(f.values){u[c]??(u[c]=new Set);for(let d of f.values)u[c].add(d)}}return u});let i=Tn,o=e.catchall,a;t._zod.parse=(s,u)=>{a??(a=n.value);let c=s.value;if(!i(c))return s.issues.push({expected:"object",code:"invalid_type",input:c,inst:t}),s;s.value={};let f=[],d=a.shape;for(let l of a.keys){let m=d[l]._zod.run({value:c[l],issues:[]},u);m instanceof Promise?f.push(m.then(v=>Va(v,s,l,c))):Va(m,s,l,c)}return o?_h(f,c,s,u,n.value,t):f.length?Promise.all(f).then(()=>s):s}}),yh=h("$ZodObjectJIT",(t,e)=>{Ny.init(t,e);let r=t._zod.parse,n=si(()=>gh(e)),i=l=>{let p=new Za(["shape","payload","ctx"]),m=n.value,v=E=>{let z=Ua(E);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};p.write("const input = payload.value;");let b=Object.create(null),_=0;for(let E of m.keys)b[E]=`key_${_++}`;p.write("const newResult = {};");for(let E of m.keys){let z=b[E],R=Ua(E);p.write(`const ${z} = ${v(E)};`),p.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        
        if (${z}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${z}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");let x=p.compile();return(E,z)=>x(l,E,z)},o,a=Tn,s=!Ca.jitless,c=s&&Wu.value,f=e.catchall,d;t._zod.parse=(l,p)=>{d??(d=n.value);let m=l.value;return a(m)?s&&c&&p?.async===!1&&p.jitless!==!0?(o||(o=i(e.shape)),l=o(l,p),f?_h([],m,l,p,d,t):l):r(l,p):(l.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),l)}});function jm(t,e,r,n){for(let o of t)if(o.issues.length===0)return e.value=o.value,e;let i=t.filter(o=>!tn(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(a=>Yt(a,n,br())))}),e)}var oc=h("$ZodUnion",(t,e)=>{K.init(t,e),re(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),re(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),re(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),re(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){let i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>ao(o.source)).join("|")})$`)}});let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let a=!1,s=[];for(let u of e.options){let c=u._zod.run({value:i.value,issues:[]},o);if(c instanceof Promise)s.push(c),a=!0;else{if(c.issues.length===0)return c;s.push(c)}}return a?Promise.all(s).then(u=>jm(u,i,t,o)):jm(s,i,t,o)}}),bh=h("$ZodDiscriminatedUnion",(t,e)=>{oc.init(t,e);let r=t._zod.parse;re(t._zod,"propValues",()=>{let i={};for(let o of e.options){let a=o._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let[s,u]of Object.entries(a)){i[s]||(i[s]=new Set);for(let c of u)i[s].add(c)}}return i});let n=si(()=>{let i=e.options,o=new Map;for(let a of i){let s=a._zod.propValues?.[e.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(let u of s){if(o.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);o.set(u,a)}}return o});t._zod.parse=(i,o)=>{let a=i.value;if(!Tn(a))return i.issues.push({code:"invalid_type",expected:"object",input:a,inst:t}),i;let s=n.value.get(a?.[e.discriminator]);return s?s._zod.run(i,o):e.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:a,path:[e.discriminator],inst:t}),i)}}),xh=h("$ZodIntersection",(t,e)=>{K.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,o=e.left._zod.run({value:i,issues:[]},n),a=e.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([u,c])=>Nm(r,u,c)):Nm(r,o,a)}});function rc(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(en(t)&&en(e)){let r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(let o of n){let a=rc(t[o],e[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};i[o]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n],a=rc(i,o);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Nm(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),tn(t))return t;let n=rc(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}var ac=h("$ZodTuple",(t,e)=>{K.init(t,e);let r=e.items,n=r.length-[...r].reverse().findIndex(i=>i._zod.optin!=="optional");t._zod.parse=(i,o)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let s=[];if(!e.rest){let c=a.length>r.length,f=a.length<n-1;if(c||f)return i.issues.push({...c?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:t,origin:"array"}),i}let u=-1;for(let c of r){if(u++,u>=a.length&&u>=n)continue;let f=c._zod.run({value:a[u],issues:[]},o);f instanceof Promise?s.push(f.then(d=>Fa(d,i,u))):Fa(f,i,u)}if(e.rest){let c=a.slice(r.length);for(let f of c){u++;let d=e.rest._zod.run({value:f,issues:[]},o);d instanceof Promise?s.push(d.then(l=>Fa(l,i,u))):Fa(d,i,u)}}return s.length?Promise.all(s).then(()=>i):i}});function Fa(t,e,r){t.issues.length&&e.issues.push(...xr(r,t.issues)),e.value[r]=t.value}var $h=h("$ZodRecord",(t,e)=>{K.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!en(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let o=[];if(e.keyType._zod.values){let a=e.keyType._zod.values;r.value={};for(let u of a)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){let c=e.valueType._zod.run({value:i[u],issues:[]},n);c instanceof Promise?o.push(c.then(f=>{f.issues.length&&r.issues.push(...xr(u,f.issues)),r.value[u]=f.value})):(c.issues.length&&r.issues.push(...xr(u,c.issues)),r.value[u]=c.value)}let s;for(let u in i)a.has(u)||(s=s??[],s.push(u));s&&s.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:s})}else{r.value={};for(let a of Reflect.ownKeys(i)){if(a==="__proto__")continue;let s=e.keyType._zod.run({value:a,issues:[]},n);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map(c=>Yt(c,n,br())),input:a,path:[a],inst:t}),r.value[s.value]=s.value;continue}let u=e.valueType._zod.run({value:i[a],issues:[]},n);u instanceof Promise?o.push(u.then(c=>{c.issues.length&&r.issues.push(...xr(a,c.issues)),r.value[s.value]=c.value})):(u.issues.length&&r.issues.push(...xr(a,u.issues)),r.value[s.value]=u.value)}}return o.length?Promise.all(o).then(()=>r):r}});var wh=h("$ZodEnum",(t,e)=>{K.init(t,e);let r=Ma(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(i=>Gu.has(typeof i)).map(i=>typeof i=="string"?Cr(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{let a=i.value;return n.has(a)||i.issues.push({code:"invalid_value",values:r,input:a,inst:t}),i}}),kh=h("$ZodLiteral",(t,e)=>{if(K.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Cr(r):r?Cr(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,n)=>{let i=r.value;return t._zod.values.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}});var Eh=h("$ZodTransform",(t,e)=>{K.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new oi(t.constructor.name);let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(r.value=a,r));if(i instanceof Promise)throw new yr;return r.value=i,r}});function Cm(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var Ih=h("$ZodOptional",(t,e)=>{K.init(t,e),t._zod.optin="optional",t._zod.optout="optional",re(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),re(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${ao(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>Cm(o,r.value)):Cm(i,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),Sh=h("$ZodNullable",(t,e)=>{K.init(t,e),re(t._zod,"optin",()=>e.innerType._zod.optin),re(t._zod,"optout",()=>e.innerType._zod.optout),re(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${ao(r.source)}|null)$`):void 0}),re(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),zh=h("$ZodDefault",(t,e)=>{K.init(t,e),t._zod.optin="optional",re(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>Mm(o,e)):Mm(i,e)}});function Mm(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var Th=h("$ZodPrefault",(t,e)=>{K.init(t,e),t._zod.optin="optional",re(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),Ah=h("$ZodNonOptional",(t,e)=>{K.init(t,e),re(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>Um(o,t)):Um(i,t)}});function Um(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var Ph=h("$ZodCatch",(t,e)=>{K.init(t,e),re(t._zod,"optin",()=>e.innerType._zod.optin),re(t._zod,"optout",()=>e.innerType._zod.optout),re(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(a=>Yt(a,n,br()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(o=>Yt(o,n,br()))},input:r.value}),r.issues=[]),r)}});var Oh=h("$ZodPipe",(t,e)=>{K.init(t,e),re(t._zod,"values",()=>e.in._zod.values),re(t._zod,"optin",()=>e.in._zod.optin),re(t._zod,"optout",()=>e.out._zod.optout),re(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if(n.direction==="backward"){let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(a=>Ba(a,e.in,n)):Ba(o,e.in,n)}let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(o=>Ba(o,e.out,n)):Ba(i,e.out,n)}});function Ba(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}var jh=h("$ZodReadonly",(t,e)=>{K.init(t,e),re(t._zod,"propValues",()=>e.innerType._zod.propValues),re(t._zod,"values",()=>e.innerType._zod.values),re(t._zod,"optin",()=>e.innerType._zod.optin),re(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(Dm):Dm(i)}});function Dm(t){return t.value=Object.freeze(t.value),t}var Nh=h("$ZodFunction",(t,e)=>(K.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let i=t._def.input?Hu(t._def.input,n):n,o=Reflect.apply(r,this,i);return t._def.output?Hu(t._def.output,o):o}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let i=t._def.input?await Ku(t._def.input,n):n,o=await Reflect.apply(r,this,i);return t._def.output?await Ku(t._def.output,o):o}},t._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let n=t.constructor;return Array.isArray(r[0])?new n({type:"function",input:new ac({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new n({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let n=t.constructor;return new n({type:"function",input:t._def.input,output:r})},t));var Ch=h("$ZodCustom",(t,e)=>{Fe.init(t,e),K.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(o=>Rm(o,r,n,t));Rm(i,r,n,t)}});function Rm(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(ui(i))}}var T4=Symbol("ZodOutput"),A4=Symbol("ZodInput"),Ja=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function Ry(){return new Ja}var ci=Ry();function Mh(t,e){return new t({type:"string",...C(e)})}function Uh(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...C(e)})}function sc(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...C(e)})}function Dh(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...C(e)})}function Rh(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...C(e)})}function Lh(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...C(e)})}function Zh(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...C(e)})}function Fh(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...C(e)})}function Bh(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...C(e)})}function Vh(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...C(e)})}function Jh(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...C(e)})}function Wh(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...C(e)})}function Gh(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...C(e)})}function qh(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...C(e)})}function Yh(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...C(e)})}function Hh(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...C(e)})}function Kh(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...C(e)})}function Xh(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...C(e)})}function Qh(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...C(e)})}function ev(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...C(e)})}function tv(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...C(e)})}function rv(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...C(e)})}function nv(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...C(e)})}function iv(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...C(e)})}function ov(t,e){return new t({type:"string",format:"date",check:"string_format",...C(e)})}function av(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...C(e)})}function sv(t,e){return new t({type:"string",format:"duration",check:"string_format",...C(e)})}function uv(t,e){return new t({type:"number",checks:[],...C(e)})}function cv(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...C(e)})}function lv(t,e){return new t({type:"boolean",...C(e)})}function fv(t,e){return new t({type:"undefined",...C(e)})}function dv(t,e){return new t({type:"null",...C(e)})}function pv(t){return new t({type:"any"})}function mv(t){return new t({type:"unknown"})}function hv(t,e){return new t({type:"never",...C(e)})}function Wa(t,e){return new ec({check:"less_than",...C(e),value:t,inclusive:!1})}function vo(t,e){return new ec({check:"less_than",...C(e),value:t,inclusive:!0})}function Ga(t,e){return new tc({check:"greater_than",...C(e),value:t,inclusive:!1})}function go(t,e){return new tc({check:"greater_than",...C(e),value:t,inclusive:!0})}function qa(t,e){return new _m({check:"multiple_of",...C(e),value:t})}function Ya(t,e){return new bm({check:"max_length",...C(e),maximum:t})}function li(t,e){return new xm({check:"min_length",...C(e),minimum:t})}function Ha(t,e){return new $m({check:"length_equals",...C(e),length:t})}function uc(t,e){return new wm({check:"string_format",format:"regex",...C(e),pattern:t})}function cc(t){return new km({check:"string_format",format:"lowercase",...C(t)})}function lc(t){return new Em({check:"string_format",format:"uppercase",...C(t)})}function fc(t,e){return new Im({check:"string_format",format:"includes",...C(e),includes:t})}function dc(t,e){return new Sm({check:"string_format",format:"starts_with",...C(e),prefix:t})}function pc(t,e){return new zm({check:"string_format",format:"ends_with",...C(e),suffix:t})}function An(t){return new Tm({check:"overwrite",tx:t})}function mc(t){return An(e=>e.normalize(t))}function hc(){return An(t=>t.trim())}function vc(){return An(t=>t.toLowerCase())}function gc(){return An(t=>t.toUpperCase())}function vv(t,e,r){return new t({type:"array",element:e,...C(r)})}function gv(t,e,r){let n=C(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function _v(t,e,r){return new t({type:"custom",check:"custom",fn:e,...C(r)})}function yv(t){let e=Zy(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(ui(n,r.value,e._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push(ui(i))}},t(r.value,r)));return e}function Zy(t,e){let r=new Fe({check:"custom",...C(e)});return r._zod.check=t,r}var Gy=h("ZodISODateTime",(t,e)=>{Km.init(t,e),me.init(t,e)});function bv(t){return iv(Gy,t)}var qy=h("ZodISODate",(t,e)=>{Xm.init(t,e),me.init(t,e)});function xv(t){return ov(qy,t)}var Yy=h("ZodISOTime",(t,e)=>{Qm.init(t,e),me.init(t,e)});function $v(t){return av(Yy,t)}var Hy=h("ZodISODuration",(t,e)=>{eh.init(t,e),me.init(t,e)});function wv(t){return sv(Hy,t)}var kv=(t,e)=>{Ra.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Ap(t,r)},flatten:{value:r=>Tp(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,ai,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,ai,2)}},isEmpty:{get(){return t.issues.length===0}}})},oU=h("ZodError",kv),Et=h("ZodError",kv,{Parent:Error});var Ev=co(Et),Iv=lo(Et),Sv=fo(Et),zv=po(Et),Tv=jp(Et),Av=Np(Et),Pv=Cp(Et),Ov=Mp(Et),jv=Up(Et),Nv=Dp(Et),Cv=Rp(Et),Mv=Lp(Et);var ne=h("ZodType",(t,e)=>(K.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(S.mergeDefs(e,{checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),t.clone=(r,n)=>qt(t,r,n),t.brand=()=>t,t.register=((r,n)=>(r.add(t,n),t)),t.parse=(r,n)=>Ev(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>Sv(t,r,n),t.parseAsync=async(r,n)=>Iv(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>zv(t,r,n),t.spa=t.safeParseAsync,t.encode=(r,n)=>Tv(t,r,n),t.decode=(r,n)=>Av(t,r,n),t.encodeAsync=async(r,n)=>Pv(t,r,n),t.decodeAsync=async(r,n)=>Ov(t,r,n),t.safeEncode=(r,n)=>jv(t,r,n),t.safeDecode=(r,n)=>Nv(t,r,n),t.safeEncodeAsync=async(r,n)=>Cv(t,r,n),t.safeDecodeAsync=async(r,n)=>Mv(t,r,n),t.refine=(r,n)=>t.check(Yb(r,n)),t.superRefine=r=>t.check(Hb(r)),t.overwrite=r=>t.check(An(r)),t.optional=()=>Rv(t),t.nullable=()=>Lv(t),t.nullish=()=>Rv(Lv(t)),t.nonoptional=r=>Fb(t,r),t.array=()=>Ht(t),t.or=r=>_o([t,r]),t.and=r=>_c(t,r),t.transform=r=>Zv(t,Mb(r)),t.default=r=>Rb(t,r),t.prefault=r=>Zb(t,r),t.catch=r=>Vb(t,r),t.pipe=r=>Zv(t,r),t.readonly=()=>Gb(t),t.describe=r=>{let n=t.clone();return ci.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return ci.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return ci.get(t);let n=t.clone();return ci.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Fv=h("_ZodString",(t,e)=>{ho.init(t,e),ne.init(t,e);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(uc(...n)),t.includes=(...n)=>t.check(fc(...n)),t.startsWith=(...n)=>t.check(dc(...n)),t.endsWith=(...n)=>t.check(pc(...n)),t.min=(...n)=>t.check(li(...n)),t.max=(...n)=>t.check(Ya(...n)),t.length=(...n)=>t.check(Ha(...n)),t.nonempty=(...n)=>t.check(li(1,...n)),t.lowercase=n=>t.check(cc(n)),t.uppercase=n=>t.check(lc(n)),t.trim=()=>t.check(hc()),t.normalize=(...n)=>t.check(mc(...n)),t.toLowerCase=()=>t.check(vc()),t.toUpperCase=()=>t.check(gc())}),eb=h("ZodString",(t,e)=>{ho.init(t,e),Fv.init(t,e),t.email=r=>t.check(Uh(tb,r)),t.url=r=>t.check(Fh(rb,r)),t.jwt=r=>t.check(nv(gb,r)),t.emoji=r=>t.check(Bh(nb,r)),t.guid=r=>t.check(sc(Uv,r)),t.uuid=r=>t.check(Dh(Xa,r)),t.uuidv4=r=>t.check(Rh(Xa,r)),t.uuidv6=r=>t.check(Lh(Xa,r)),t.uuidv7=r=>t.check(Zh(Xa,r)),t.nanoid=r=>t.check(Vh(ib,r)),t.guid=r=>t.check(sc(Uv,r)),t.cuid=r=>t.check(Jh(ob,r)),t.cuid2=r=>t.check(Wh(ab,r)),t.ulid=r=>t.check(Gh(sb,r)),t.base64=r=>t.check(ev(mb,r)),t.base64url=r=>t.check(tv(hb,r)),t.xid=r=>t.check(qh(ub,r)),t.ksuid=r=>t.check(Yh(cb,r)),t.ipv4=r=>t.check(Hh(lb,r)),t.ipv6=r=>t.check(Kh(fb,r)),t.cidrv4=r=>t.check(Xh(db,r)),t.cidrv6=r=>t.check(Qh(pb,r)),t.e164=r=>t.check(rv(vb,r)),t.datetime=r=>t.check(bv(r)),t.date=r=>t.check(xv(r)),t.time=r=>t.check($v(r)),t.duration=r=>t.check(wv(r))});function $(t){return Mh(eb,t)}var me=h("ZodStringFormat",(t,e)=>{le.init(t,e),Fv.init(t,e)}),tb=h("ZodEmail",(t,e)=>{Fm.init(t,e),me.init(t,e)});var Uv=h("ZodGUID",(t,e)=>{Lm.init(t,e),me.init(t,e)});var Xa=h("ZodUUID",(t,e)=>{Zm.init(t,e),me.init(t,e)});var rb=h("ZodURL",(t,e)=>{Bm.init(t,e),me.init(t,e)});var nb=h("ZodEmoji",(t,e)=>{Vm.init(t,e),me.init(t,e)});var ib=h("ZodNanoID",(t,e)=>{Jm.init(t,e),me.init(t,e)});var ob=h("ZodCUID",(t,e)=>{Wm.init(t,e),me.init(t,e)});var ab=h("ZodCUID2",(t,e)=>{Gm.init(t,e),me.init(t,e)});var sb=h("ZodULID",(t,e)=>{qm.init(t,e),me.init(t,e)});var ub=h("ZodXID",(t,e)=>{Ym.init(t,e),me.init(t,e)});var cb=h("ZodKSUID",(t,e)=>{Hm.init(t,e),me.init(t,e)});var lb=h("ZodIPv4",(t,e)=>{th.init(t,e),me.init(t,e)});var fb=h("ZodIPv6",(t,e)=>{rh.init(t,e),me.init(t,e)});var db=h("ZodCIDRv4",(t,e)=>{nh.init(t,e),me.init(t,e)});var pb=h("ZodCIDRv6",(t,e)=>{ih.init(t,e),me.init(t,e)});var mb=h("ZodBase64",(t,e)=>{ah.init(t,e),me.init(t,e)});var hb=h("ZodBase64URL",(t,e)=>{sh.init(t,e),me.init(t,e)});var vb=h("ZodE164",(t,e)=>{uh.init(t,e),me.init(t,e)});var gb=h("ZodJWT",(t,e)=>{ch.init(t,e),me.init(t,e)});var Bv=h("ZodNumber",(t,e)=>{nc.init(t,e),ne.init(t,e),t.gt=(n,i)=>t.check(Ga(n,i)),t.gte=(n,i)=>t.check(go(n,i)),t.min=(n,i)=>t.check(go(n,i)),t.lt=(n,i)=>t.check(Wa(n,i)),t.lte=(n,i)=>t.check(vo(n,i)),t.max=(n,i)=>t.check(vo(n,i)),t.int=n=>t.check(Dv(n)),t.safe=n=>t.check(Dv(n)),t.positive=n=>t.check(Ga(0,n)),t.nonnegative=n=>t.check(go(0,n)),t.negative=n=>t.check(Wa(0,n)),t.nonpositive=n=>t.check(vo(0,n)),t.multipleOf=(n,i)=>t.check(qa(n,i)),t.step=(n,i)=>t.check(qa(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Mr(t){return uv(Bv,t)}var _b=h("ZodNumberFormat",(t,e)=>{lh.init(t,e),Bv.init(t,e)});function Dv(t){return cv(_b,t)}var yb=h("ZodBoolean",(t,e)=>{ic.init(t,e),ne.init(t,e)});function rn(t){return lv(yb,t)}var bb=h("ZodUndefined",(t,e)=>{fh.init(t,e),ne.init(t,e)});function Vv(t){return fv(bb,t)}var xb=h("ZodNull",(t,e)=>{dh.init(t,e),ne.init(t,e)});function Jv(t){return dv(xb,t)}var $b=h("ZodAny",(t,e)=>{ph.init(t,e),ne.init(t,e)});function Wv(){return pv($b)}var wb=h("ZodUnknown",(t,e)=>{mh.init(t,e),ne.init(t,e)});function gt(){return mv(wb)}var kb=h("ZodNever",(t,e)=>{hh.init(t,e),ne.init(t,e)});function Eb(t){return hv(kb,t)}var Ib=h("ZodArray",(t,e)=>{vh.init(t,e),ne.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(li(r,n)),t.nonempty=r=>t.check(li(1,r)),t.max=(r,n)=>t.check(Ya(r,n)),t.length=(r,n)=>t.check(Ha(r,n)),t.unwrap=()=>t.element});function Ht(t,e){return vv(Ib,t,e)}var Sb=h("ZodObject",(t,e)=>{yh.init(t,e),ne.init(t,e),S.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>jb(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:gt()}),t.loose=()=>t.clone({...t._zod.def,catchall:gt()}),t.strict=()=>t.clone({...t._zod.def,catchall:Eb()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>S.extend(t,r),t.safeExtend=r=>S.safeExtend(t,r),t.merge=r=>S.merge(t,r),t.pick=r=>S.pick(t,r),t.omit=r=>S.omit(t,r),t.partial=(...r)=>S.partial(Yv,t,r[0]),t.required=(...r)=>S.required(Hv,t,r[0])});function w(t,e){let r={type:"object",shape:t??{},...S.normalizeParams(e)};return new Sb(r)}var Gv=h("ZodUnion",(t,e)=>{oc.init(t,e),ne.init(t,e),t.options=e.options});function _o(t,e){return new Gv({type:"union",options:t,...S.normalizeParams(e)})}var zb=h("ZodDiscriminatedUnion",(t,e)=>{Gv.init(t,e),bh.init(t,e)});function qv(t,e,r){return new zb({type:"union",options:e,discriminator:t,...S.normalizeParams(r)})}var Tb=h("ZodIntersection",(t,e)=>{xh.init(t,e),ne.init(t,e)});function _c(t,e){return new Tb({type:"intersection",left:t,right:e})}var Ab=h("ZodTuple",(t,e)=>{ac.init(t,e),ne.init(t,e),t.rest=r=>t.clone({...t._zod.def,rest:r})});function Pb(t,e,r){let n=e instanceof K,i=n?r:e,o=n?e:null;return new Ab({type:"tuple",items:t,rest:o,...S.normalizeParams(i)})}var Ob=h("ZodRecord",(t,e)=>{$h.init(t,e),ne.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function fi(t,e,r){return new Ob({type:"record",keyType:t,valueType:e,...S.normalizeParams(r)})}var Qa=h("ZodEnum",(t,e)=>{wh.init(t,e),ne.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let o={};for(let a of n)if(r.has(a))o[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Qa({...e,checks:[],...S.normalizeParams(i),entries:o})},t.exclude=(n,i)=>{let o={...e.entries};for(let a of n)if(r.has(a))delete o[a];else throw new Error(`Key ${a} not found in enum`);return new Qa({...e,checks:[],...S.normalizeParams(i),entries:o})}});function jb(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new Qa({type:"enum",entries:r,...S.normalizeParams(e)})}function yc(t,e){return new Qa({type:"enum",entries:t,...S.normalizeParams(e)})}var Nb=h("ZodLiteral",(t,e)=>{kh.init(t,e),ne.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function di(t,e){return new Nb({type:"literal",values:Array.isArray(t)?t:[t],...S.normalizeParams(e)})}var Cb=h("ZodTransform",(t,e)=>{Eh.init(t,e),ne.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new oi(t.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(S.issue(o,r.value,e));else{let a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),r.issues.push(S.issue(a))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function Mb(t){return new Cb({type:"transform",transform:t})}var Yv=h("ZodOptional",(t,e)=>{Ih.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Rv(t){return new Yv({type:"optional",innerType:t})}var Ub=h("ZodNullable",(t,e)=>{Sh.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Lv(t){return new Ub({type:"nullable",innerType:t})}var Db=h("ZodDefault",(t,e)=>{zh.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Rb(t,e){return new Db({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():S.shallowClone(e)}})}var Lb=h("ZodPrefault",(t,e)=>{Th.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Zb(t,e){return new Lb({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():S.shallowClone(e)}})}var Hv=h("ZodNonOptional",(t,e)=>{Ah.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Fb(t,e){return new Hv({type:"nonoptional",innerType:t,...S.normalizeParams(e)})}var Bb=h("ZodCatch",(t,e)=>{Ph.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Vb(t,e){return new Bb({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var Jb=h("ZodPipe",(t,e)=>{Oh.init(t,e),ne.init(t,e),t.in=e.in,t.out=e.out});function Zv(t,e){return new Jb({type:"pipe",in:t,out:e})}var Wb=h("ZodReadonly",(t,e)=>{jh.init(t,e),ne.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Gb(t){return new Wb({type:"readonly",innerType:t})}var qb=h("ZodFunction",(t,e)=>{Nh.init(t,e),ne.init(t,e)});function Kv(t){return new qb({type:"function",input:Array.isArray(t?.input)?Pb(t?.input):t?.input??Ht(gt()),output:t?.output??gt()})}var bc=h("ZodCustom",(t,e)=>{Ch.init(t,e),ne.init(t,e)});function Xv(t,e){return gv(bc,t??(()=>!0),e)}function Yb(t,e={}){return _v(bc,t,e)}function Hb(t){return yv(t)}function Pn(t,e={error:`Input not instance of ${t.name}`}){let r=new bc({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...S.normalizeParams(e)});return r._zod.bag.Class=t,r}function Q(){return function(t){return t}}function O(t,e){let r=t.safeParse(e);if(!r.success)throw new Na({errorLevel:"CRITICAL",effect:"Failed to run function due to invalid arguments. Check that the arguments that you are passing to the function match the type definition of the function.",cause:r.error})}function rs(){return Xv(t=>typeof t=="function")}var es=class{htmlElement;voidFunction;component;tFile;cachedMetadata;block;tableElementType;tableElementBody;markdownCodeBlockExecutionContext;markdownCallingJSFileExecutionContext;markdownOtherExecutionContext;jsFileExecutionContext;unknownExecutionContext;executionContext;engineExecutionParams;engineExecutionParamsFile;engineExecutionParamsFileSimple;jsExecutionGlobalsConstructionOptions;abstractMarkdownElement;messageType;buttonStyleType;buttonPromptButtonOptions;buttonModalPromptOptions;confirmPromptOptions;yesNoPromptOptions;suggesterOption;suggesterPromptOptions;inputPromptOptions;numberInputPromptOptions;constructor(){this.htmlElement=Q()(Wv()),this.voidFunction=Q()(rs()),this.component=Q()(Pn(ts.Component)),this.tFile=Q()(Pn(ts.TFile)),this.cachedMetadata=Q()(fi($(),gt())),this.block=Q()(w({from:Mr(),to:Mr()})),this.tableElementType=Q()(_o([$(),Mr(),rn(),Jv(),Vv()])),this.tableElementBody=Q()(Ht(Ht(this.tableElementType))),this.markdownCodeBlockExecutionContext=Q()(w({executionSource:di("markdown-code-block"),file:this.tFile.optional(),metadata:this.cachedMetadata.optional(),block:this.block.optional()})),this.markdownCallingJSFileExecutionContext=Q()(w({executionSource:di("markdown-calling-js-file"),file:this.tFile.optional(),metadata:this.cachedMetadata.optional(),jsFile:this.tFile})),this.markdownOtherExecutionContext=Q()(w({executionSource:di("markdown-other"),file:this.tFile.optional(),metadata:this.cachedMetadata.optional()})),this.jsFileExecutionContext=Q()(w({executionSource:di("js-file"),jsFile:this.tFile})),this.unknownExecutionContext=Q()(w({executionSource:di("unknown"),file:this.tFile.optional()})),this.executionContext=Q()(qv("executionSource",[this.markdownCodeBlockExecutionContext,this.markdownCallingJSFileExecutionContext,this.markdownOtherExecutionContext,this.jsFileExecutionContext,this.unknownExecutionContext])),this.engineExecutionParams=Q()(w({code:$(),component:this.component,container:this.htmlElement.optional(),context:this.executionContext,contextOverrides:fi($(),gt()).optional()})),this.engineExecutionParamsFile=Q()(w({component:this.component,container:this.htmlElement.optional(),context:_o([this.markdownCallingJSFileExecutionContext,this.jsFileExecutionContext]).optional(),contextOverrides:fi($(),gt()).optional()})),this.engineExecutionParamsFileSimple=Q()(w({container:this.htmlElement.optional(),context:_o([this.markdownCallingJSFileExecutionContext,this.jsFileExecutionContext]).optional(),contextOverrides:fi($(),gt()).optional()})),this.jsExecutionGlobalsConstructionOptions=Q()(w({engine:Pn(Kr).optional(),component:this.component,context:_c(this.executionContext,fi($(),gt())),container:this.htmlElement.optional()})),this.abstractMarkdownElement=Q()(Pn(on)),this.messageType=Q()(yc(no)),this.buttonStyleType=Q()(yc(Nr)),this.buttonPromptButtonOptions=Q()(w({label:$(),value:gt(),variant:this.buttonStyleType.optional()})),this.buttonModalPromptOptions=Q()(w({title:$(),classes:$().array().optional(),content:$().optional(),buttons:this.buttonPromptButtonOptions.array()})),this.confirmPromptOptions=Q()(w({title:$(),classes:$().array().optional(),content:$().optional()})),this.yesNoPromptOptions=Q()(w({title:$(),classes:$().array().optional(),content:$().optional()})),this.suggesterOption=Q()(w({value:gt(),label:$()})),this.suggesterPromptOptions=Q()(w({placeholder:$().optional(),options:this.suggesterOption.array()})),this.inputPromptOptions=Q()(w({title:$(),classes:$().array().optional(),content:$().optional(),placeholder:$().optional(),initialValue:$().optional()})),this.numberInputPromptOptions=Q()(w({title:$(),classes:$().array().optional(),content:$().optional(),placeholder:$().optional(),initialValue:Mr().optional()}))}};var eg=require("obsidian"),tg=require("obsidian");var Ur=class{content;apiInstance;constructor(e,r){this.apiInstance=e,this.content=r}async render(e,r,n,i){O(w({app:Pn(eg.App),element:this.apiInstance.validators.htmlElement,sourcePath:$(),component:this.apiInstance.validators.component}),{app:e,element:r,sourcePath:n,component:i}),await tg.MarkdownRenderer.render(e,this.content,r,n,i)}};var on=class{apiInstance;constructor(e){this.apiInstance=e}toMarkdown(){return new Ur(this.apiInstance,this.toString())}};var pi=class extends on{getType(){return"LITERAL"}};var $r=class extends on{markdownElements;constructor(e){super(e),this.markdownElements=[]}getType(){return"NON_LITERAL"}addElement(e){if(O(w({element:this.apiInstance.validators.abstractMarkdownElement}),{element:e}),this.allowElement(e))this.markdownElements.push(e);else throw new Error("Element not allowed in container.")}addText(e){O(w({text:$()}),{text:e});let r=new It(this.apiInstance,e,!1,!1,!1,!1);return this.addElement(r),this}addBoldText(e){O(w({text:$()}),{text:e});let r=new It(this.apiInstance,e,!0,!1,!1,!1);return this.addElement(r),this}addCursiveText(e){O(w({text:$()}),{text:e});let r=new It(this.apiInstance,e,!1,!0,!1,!1);return this.addElement(r),this}addUnderlinedText(e){O(w({text:$()}),{text:e});let r=new It(this.apiInstance,e,!1,!1,!0,!1);return this.addElement(r),this}addHighlightedText(e){O(w({text:$()}),{text:e});let r=new It(this.apiInstance,e,!1,!1,!1,!0);return this.addElement(r),this}addCode(e){O(w({text:$()}),{text:e});let r=new yo(this.apiInstance,e);return this.addElement(r),this}createParagraph(e){O(w({content:$()}),{content:e});let r=new $o(this.apiInstance,e);return this.addElement(r),r}createHeading(e,r){O(w({level:Mr(),content:$()}),{level:e,content:r});let n=new xo(this.apiInstance,e,r);return this.addElement(n),n}createBlockQuote(){let e=new ko(this.apiInstance);return this.addElement(e),e}createCallout(e,r,n=""){O(w({title:$(),type:$(),args:$()}),{title:e,type:r,args:n});let i=new On(this.apiInstance,e,r,n,!1,!1);return this.addElement(i),i}createCollapsibleCallout(e,r,n="",i=!1){O(w({title:$(),type:$(),args:$(),collapsed:rn()}),{title:e,type:r,args:n,collapsed:i});let o=new On(this.apiInstance,e,r,n,!0,i);return this.addElement(o),o}createCodeBlock(e,r){O(w({language:$(),content:$()}),{language:e,content:r});let n=new wo(this.apiInstance,e,r);return this.addElement(n),n}createTable(e,r){O(w({header:Ht($()),body:this.apiInstance.validators.tableElementBody}),{header:e,body:r});let n=new bo(this.apiInstance,e,r);return this.addElement(n),n}createList(e=!1){O(w({ordered:rn()}),{ordered:e});let r=new jn(this.apiInstance,e);return this.addElement(r),r}createOrderedList(){let e=new jn(this.apiInstance,!0);return this.addElement(e),e}},It=class extends pi{content;bold;cursive;underline;highlight;constructor(e,r,n,i,o,a){super(e),this.content=r,this.bold=n,this.cursive=i,this.underline=o,this.highlight=a}toString(){let e="",r="";return this.underline&&(e+="<u>",r="</u>"+r),this.bold&&(e+="**",r="**"+r),this.cursive&&(e+="*",r="*"+r),this.highlight&&(e+="==",r="=="+r),e+this.content+r}},yo=class extends pi{content;constructor(e,r){super(e),this.content=r}toString(){return`\`${this.content}\``}},bo=class extends pi{header;body;constructor(e,r,n){super(e),this.header=r,this.body=n.map(i=>i.map(o=>o==null?"":o.toString()))}toString(){let e=this.body.length;if(e===0)return"";let r=this.header.length;if(r===0)return"";for(let o of this.body)if(o.length!==r)throw new Error("Table rows are do not contain the same number of columns.");let n=[];for(let o=0;o<r;o++){let a=0;this.header[o].length>a&&(a=this.header[o].length);for(let s of this.body)s[o].length>a&&(a=s[o].length);n.push(a)}let i="";i+="|";for(let o=0;o<r;o++){let a=this.header[o];a+=" ".repeat(n[o]-a.length),i+=" "+a+" |"}i+=`
`,i+="|";for(let o=0;o<r;o++)i+=" "+"-".repeat(n[o])+" |";i+=`
`;for(let o=0;o<e;o++){i+="|";for(let a=0;a<r;a++){let s=this.body[o][a];s+=" ".repeat(n[a]-s.length),i+=" "+s+" |"}i+=`
`}return i}},xo=class extends $r{level;constructor(e,r,n){super(e),this.level=r,this.addText(n)}toString(){return`${"#".repeat(this.level)} ${this.markdownElements.map(e=>e.toString()).join("")}`}allowElement(e){return e.getType()==="LITERAL"}},$o=class extends $r{constructor(e,r){super(e),this.addText(r)}toString(){return this.markdownElements.map(e=>e.toString()).join("")}allowElement(e){return e.getType()==="LITERAL"}},wo=class extends $r{language;constructor(e,r,n){super(e),this.language=r,this.addText(n)}toString(){return`\`\`\`${this.language}
${this.markdownElements.map(e=>e.toString()).join("")}
\`\`\``}allowElement(e){return e.getType()==="LITERAL"}},ko=class extends $r{toString(){return"> "+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}allowElement(e){return!0}},On=class extends $r{title;type;args;collapsible;collapsed;constructor(e,r,n,i,o=!1,a=!1){super(e),this.title=r,this.type=n,this.args=i,this.collapsible=o,this.collapsed=a}toString(){return`> [!${this.type}|${this.args}]${this.collapseChar()} ${this.title}
> `+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}collapseChar(){return this.collapsible?this.collapsed?"-":"+":""}allowElement(e){return!0}},jn=class t extends $r{ordered;constructor(e,r){super(e),this.ordered=r}getPrefix(e){return this.ordered?`${e+1}. `:"- "}toString(){return this.markdownElements.map((e,r)=>e instanceof t?`	${e.toString().replaceAll(`
`,`
	`)}`:`${this.getPrefix(r)}${e.toString().replaceAll(`
`,`
	`)}`).join(`
`)}allowElement(e){return!0}};var Nn=class extends $r{constructor(e){super(e)}toString(){return this.markdownElements.map(e=>e.toString()).join(`

`)}allowElement(e){return!0}};var mi=class{apiInstance;_render;initialArgs;renderer;constructor(e,r,n){this.apiInstance=e,this._render=r,this.initialArgs=n}async refresh(...e){let r;try{r=await this._render(...e)}catch(n){console.warn("failed to execute JS",n),n instanceof Error&&(r=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during reactive execution in execution "${this.apiInstance.instanceId.id}"`,n.stack))}this.renderer?.render(r)}initialRender(){this.refresh(...this.initialArgs)}setRenderer(e){this.renderer=e}};var hi=class{plugin;container;sourcePath;component;constructor(e,r,n,i){this.plugin=e,this.container=r,this.sourcePath=n,this.component=i}async render(e){if(e!=null){if(this.container.empty(),typeof e=="string"){this.container.innerText=e;return}if(e instanceof Nn&&(e=e.toMarkdown()),e instanceof Ur){await e.render(this.plugin.app,this.container,this.sourcePath,this.component);return}if(e instanceof HTMLElement){this.container.append(e);return}if(e instanceof ii){let r=Ze(zn,{target:this.container,props:{messageWrapper:e,messageManager:this.plugin.messageManager,showDeleteButton:!1,showMessageSource:!1}});this.component.register(()=>{it(r)});return}if(e instanceof mi){e.setRenderer(this),e.initialRender();return}this.container.innerText=JSON.stringify(e)}}convertToSimpleObject(e){return e instanceof Nn?e.toMarkdown().content:e instanceof Ur?e.content:e instanceof HTMLElement?e.outerHTML:e instanceof ii?e.message:e}};var an=require("obsidian"),Xb=jf(require("obsidian"));var ns=class{apiInstance;constructor(e){this.apiInstance=e}async execute(e){return O(w({params:this.apiInstance.validators.engineExecutionParams}),{params:e}),await this.apiInstance.plugin.jsEngine.execute(e)}createRenderer(e,r,n){return O(w({container:this.apiInstance.validators.htmlElement,sourcePath:$(),component:this.apiInstance.validators.component}),{container:e,sourcePath:r,component:n}),new hi(this.apiInstance.plugin,e,r,n)}async executeFile(e,r){O(w({path:$(),params:this.apiInstance.validators.engineExecutionParamsFile}),{path:e,params:r});let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof an.TFile))throw new Error(`File ${e} not found.`);return await this.execute({context:{executionSource:"js-file",file:void 0,jsFile:n},...r,code:await this.apiInstance.app.vault.read(n)})}async executeFileSimple(e,r){O(w({path:$(),params:this.apiInstance.validators.engineExecutionParamsFileSimple.optional()}),{path:e,params:r});let n=new an.Component;n.load();try{return await this.executeFile(e,{component:n,...r})}finally{n.unload()}}async getContextForFile(e){O(w({path:$()}),{path:e});let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof an.TFile))throw new Error(`File ${e} not found.`);let n=this.apiInstance.app.metadataCache.getFileCache(r);return{executionSource:"markdown-code-block",file:r,metadata:n??void 0,block:void 0}}async getContextForMarkdownCodeBlock(e){O(w({path:$()}),{path:e});let r=this.tryGetFileWithExtension(e,"md"),n=r?this.apiInstance.app.metadataCache.getFileCache(r):void 0;return{executionSource:"markdown-code-block",file:r,metadata:n??void 0,block:void 0}}async getContextForMarkdownCallingJSFile(e,r){O(w({markdownPath:$(),jsPath:$()}),{markdownPath:e,jsPath:r});let n=this.tryGetFileWithExtension(e,"md"),i=n?this.apiInstance.app.metadataCache.getFileCache(n):void 0,o=this.getFileWithExtension(r,"js");return{executionSource:"markdown-calling-js-file",file:n,metadata:i??void 0,jsFile:o}}async getContextForMarkdownOther(e){O(w({path:$()}),{path:e});let r=this.tryGetFileWithExtension(e,"md"),n=r?this.apiInstance.app.metadataCache.getFileCache(r):void 0;return{executionSource:"markdown-other",file:r,metadata:n??void 0}}async getContextForJSFile(e){O(w({path:$()}),{path:e});let r=this.getFileWithExtension(e,"js");return{executionSource:"js-file",file:void 0,jsFile:r}}async getContextForUnknown(e){if(O(w({path:$().optional()}),{path:e}),e){let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof an.TFile))throw new Error(`File ${e} not found.`);return{executionSource:"unknown",file:r}}else return{executionSource:"unknown"}}createExecutionGlobals(e){return O(w({options:this.apiInstance.validators.jsExecutionGlobalsConstructionOptions}),{options:e}),{app:this.apiInstance.app,engine:e.engine??this.apiInstance,component:e.component,context:e.context,container:e.container,obsidian:Xb}}async executeStartupScripts(){for(let e of this.apiInstance.plugin.settings.startupScripts??[])await this.executeFileSimple(e)}getFileWithExtension(e,r){let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof an.TFile))throw new Error(`File ${e} not found.`);if(n.extension!==r&&n.extension!==`.${r}`)throw new Error(`File ${e} is not of the expected file type. Expected file extension to be ".${r}".`);return n}tryGetFileWithExtension(e,r){let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!(!n||!(n instanceof an.TFile))&&!(n.extension!==r&&n.extension!==`.${r}`))return n}};function $c(t,e){if(t===void 0&&e===void 0)return;if(t===void 0)return e;if(e===void 0)return t;let r=[...t];for(let n of e)r.includes(n)||r.push(n);return r}function rg(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}function ng(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}var xc=class{followedBy(e){return new Y(function(n){let i=n.position,o=e.p(n);return n.position=i,o})}notFollowedBy(e){return new Y(function(n){let i=n.position,o=e.p(n),a=n.input.slice(i,n.position);return n.position=i,o.success?n.fail(`not '${a}'`):n.succeed(void 0)})}test(e,r){return new Y(function(i){let o=i.input[i.position];return!i.atEOF()&&e(o)?i.succeedOffset(1,o):i.fail(r)})}testCharCode(e,r){return new Y(function(i){let o=i.input.charCodeAt(i.position);return!i.atEOF()&&e(o)?i.succeedOffset(1,i.input[i.position]):i.fail(r)})}testCharCodes(e,r){return new Y(function(i){let o=i.position;for(;o<i.input.length;o++){let a=i.input.charCodeAt(o);if(!e(a))break}if(o>i.position){let a=i.input.slice(i.position,o);return i.succeedAt(o,a)}else return i.fail(r)})}},Ut=new xc;var vi=class{input;position;latestError;constructor(e,r){this.input=e,this.position=r}atEOF(){return this.position>=this.input.length}advanceTo(e){this.position=e}sliceTo(e){return this.input.slice(this.position,e)}succeedOffset(e,r){return this.succeedAt(this.position+e,r)}failOffset(e,r){return this.failAt(this.position+e,r)}succeed(e){return this.succeedAt(this.position,e)}fail(e){return this.failAt(this.position,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r}}failAt(e,r){return this.advanceTo(e),this.addError(Array.isArray(r)?r:[r]),{success:!1,value:void 0}}addError(e){this.latestError===void 0||this.latestError.position<this.position?this.latestError={position:this.position,expected:e}:this.latestError.position===this.position&&(this.latestError.expected=$c(this.latestError.expected,e)??e)}getAndClearLatestError(){let e=this.latestError;return this.latestError=void 0,e}mergeLatestError(e){e!==void 0&&(this.latestError===void 0||this.latestError.position<e.position?this.latestError=e:this.latestError.position===e.position&&(this.latestError.expected=$c(this.latestError.expected,e.expected)??e.expected))}};function wc(t,e,r){let{line:n,column:i}=Qb(t,e.furthest),o=`Expected ${e.expected.sort().join(" or ")}`,a=`Parse Failure: ${o} at index ${e.furthest}, line ${n}, column ${i}.`;if(r){let u=t.split(`
`)[n-1],c=`${n} |   `;a+=`

${c}${u}`,a+=`
${" ".repeat(i-1+c.length)}^ (${o})`}return a}var gi=class extends Error{constructor(e,r){super(wc(e,r,!0))}};function Qb(t,e){let r=1,n=1;for(let i=0;i<e&&i<t.length;i++)t[i]===`
`?(r++,n=1):n++;return{line:r,column:n}}var D=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Y(function(n){let i=new Array(e.length);for(let o=0;o<e.length;o++){let s=e[o].p(n);if(!s.success)return s;i[o]=s.value}return{success:!0,value:i}})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Y(function(i){let o=new Array(r.length);for(let a=0;a<r.length;a++){let u=r[a].p(i);if(!u.success)return u;o[a]=u.value}return{success:!0,value:e(...o)}})}static createLanguage(e){let r={},n={},i={};for(let o in e)i[o]=t.reference(()=>e[o](r,i)),Object.defineProperty(n,o,{get:()=>{if(r[o]!==void 0)return r[o];throw new Error(`Can not access rule '${o}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let o in e)r[o]=e[o](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Y(function(n){let i=n.position;for(let o of e){let a=o;n.position=i;let s=a.p(n);if(s.success)return s}return{success:!1,value:void 0}})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,o){return o.unshift(i),o},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new Y(function(i){for(let o=0;o<e.length;o++)if(i.input[i.position+o]!==e[o])return i.fail(r);return i.succeedOffset(e.length,e)})}static regexp(e,r){ng(e.flags);let n=e.source;return r!==void 0?new Y(function(o){let a=o.input.slice(o.position),s=e.exec(a);if(s!==null){let u=r??0;if(u>=0&&u<=s.length){let f=s[0],d=s[u];return o.succeedOffset(f.length,d)}let c="expected valid match group (0 to "+s.length+") in "+n;return o.fail(c)}else return o.fail(n)}):new Y(function(o){let a=o.input.slice(o.position),s=e.exec(a);if(s!==null){let u=s[0];return o.succeedOffset(u.length,u)}else return o.fail(n)})}static succeed(e){return new Y(function(n){return n.succeed(e)})}static fail(e){return new Y(function(n){return n.fail(e)})}static oneOf(e){return Ut.test(function(n){return e.includes(n)},`one character of '${e}'`)}static noneOf(e){return Ut.test(function(n){return!e.includes(n)},`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new Y(function(n){let i=n.position;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Y(function(n){let i=n.position;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Y(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return Ut.testCharCode(function(a){return n<=a&&a<=i},`${e}-${r}`)}static takeWhile(e){return new Y(function(n){let i=n.position;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position,i))})}static reference(e){return new Y(function(n){return e().p(n)})}};var ig=48,og=57,ag=97,sg=122,ug=65,cg=90,Kt=class t{static position(){return new Y(e=>e.succeed(e.position))}static any(){return new Y(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position]))}static remaining(){return new Y(e=>e.succeedAt(e.input.length,e.input.slice(e.position)))}static eof(){return new Y(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Ut.testCharCode(e=>e>=ig&&e<=og,"a digit")}static digits(){return Ut.testCharCodes(e=>e>=ig&&e<=og,"multiple digits")}static letter(){return Ut.testCharCode(e=>e>=ag&&e<=sg||e>=ug&&e<=cg,"a letter")}static letters(){return Ut.testCharCodes(e=>e>=ag&&e<=sg||e>=ug&&e<=cg,"multiple letters")}static unicodeLetter(){return D.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return D.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return D.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return D.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return new Y(function(r){let n=r.position;for(;n<r.input.length;n++){let i=r.input[n];if(i!==" "&&i!=="	"&&i!==`
`&&i!=="\r")break}return r.succeedAt(n,void 0)})}static whitespace(){return new Y(function(r){let n=r.position;for(;n<r.input.length;n++){let i=r.input[n];if(i!==" "&&i!=="	"&&i!==`
`&&i!=="\r")break}return n===r.position?r.fail("whitespace"):r.succeedAt(n,void 0)})}static cr(){return new Y(function(r){let n=r.input[r.position];return!r.atEOF()&&n==="\r"?r.succeedOffset(1,void 0):r.fail("\\r")})}static lf(){return new Y(function(r){let n=r.input[r.position];return!r.atEOF()&&n===`
`?r.succeedOffset(1,void 0):r.fail("\\n")})}static crlf(){return new Y(function(r){if(r.position+1>=r.input.length)return r.fail("\\r\\n");let n=r.input[r.position],i=r.input[r.position+1];return n==="\r"&&i===`
`?r.succeedOffset(2,void 0):r.fail("\\r\\n")})}static newline(){let e="newline";return new Y(function(n){if(n.position>=n.input.length)return n.fail(e);let i=n.input[n.position];return i===`
`?n.succeedOffset(1,void 0):i==="\r"?n.position+1<n.input.length&&n.input[n.position+1]===`
`?n.succeedOffset(2,void 0):n.succeedOffset(1,void 0):n.fail(e)})}static prefix(e,r,n){return D.sequenceMap((i,o)=>i.reduce((a,s)=>n(s,a),o),e.many(),r)}static postfix(e,r,n){return D.sequenceMap((i,o)=>o.reduce((a,s)=>n(s,a),i),r,e.many())}static binaryRight(e,r,n){return D.sequenceMap((i,o)=>i.reverse().reduce((a,s)=>{let[u,c]=s;return n(u,c,a)},o),D.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return D.sequenceMap((i,o)=>o.reduce((a,s)=>{let[u,c]=s;return n(a,u,c)},i),r,D.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return D.sequenceMap((i,o,a)=>i.reverse().reduce((s,u)=>{let[c,f,d]=u;return n({from:c,to:a},f,d,s)},o),D.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return D.sequenceMap((i,o,a)=>a.reduce((s,u)=>{let[c,f,d]=u;return n({from:i,to:d},s,c,f)},o),t.position(),r,D.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?D.string(e):e;return D.sequenceMap((o,a,s,u,c,f)=>n(o,u),i,D.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),D.string(")"))}};var Y=class t{p;constructor(e){this.p=e}tryParse(e){let r=new vi(e,0),n=this.p(r);return n.success?n:{success:!1,value:void 0,furthest:r.latestError.position,expected:r.latestError.expected}}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new gi(e,r)}or(e){return D.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(D.string(e))}wrap(e,r){let n=this;return new t(function(o){let a=e.p(o);if(!a.success)return a;let s=n.p(o);if(!s.success)return s;let u=r.p(o);return u.success?s:u})}wrapString(e,r){return this.wrap(D.string(e),D.string(r))}then(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let a=e.p(i);return a.success,a})}skip(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let a=e.p(i);return a.success?o:a})}and(e){return D.sequence(this,e)}many(){let e=this;return new t(function(n){let i=[];for(;;){let o=n.position,a=e.p(n);if(a.success){if(n.position===o)throw new Error("infinite loop in many() parser detected");i.push(a.value)}else return n.position=o,{success:!0,value:i}}})}repeat(e,r){rg(e,r);let n=this;return new t(function(o){let a=[],s=0;for(;s<r;){let u=o.position,c=n.p(o);if(c.success){if(o.position===u)throw new Error("infinite loop in many() parser detected");a.push(c.value),s++}else return o.position=u,s>=e?{success:!0,value:a}:{success:!1,value:void 0}}return{success:!0,value:a}})}atMost(e){return this.repeat(0,e)}atLeast(e){return D.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return D.separateBy(this,e)}separateByNotEmpty(e){return D.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let o=r.p(i);return o.success?{success:!0,value:e(o.value)}:o})}marker(){return D.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},Kt.position(),this,Kt.position())}namedMarker(e){return D.sequenceMap(function(n,i,o){return{value:i,name:e,range:{from:n,to:o}}},Kt.position(),this,Kt.position())}node(e){return D.sequenceMap(function(n,i,o){return e(i,{from:n,to:o})},Kt.position(),this,Kt.position())}followedBy(e){return this.skip(Ut.followedBy(e))}notFollowedBy(e){return this.skip(Ut.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let o=i.getAndClearLatestError(),a=r.p(i);return i.latestError!==void 0&&(i.latestError.expected=e),i.mergeLatestError(o),a})}box(e){let r=this;return new t(function(i){let o=i.getAndClearLatestError(),a=r.p(i);return i.latestError!==void 0&&(i.latestError.expected=[`(${i.latestError.expected.join(" or ")} as part of ${e})`]),i.mergeLatestError(o),a})}optional(e){return this.or(D.succeed(e))}chain(e){let r=this;return new t(function(i){let o=r.p(i);return o.success?e(o.value).p(i):o})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.fail("eof"):i})}};var wf={};At(wf,{AsyncStream:()=>_s,InvalidArgumentError:()=>ee,LengthError:()=>_t,Stream:()=>sn,combinatorics:()=>ki,createPipe:()=>$f,infinite:()=>zt,math:()=>hf,multi:()=>Oc,reduce:()=>_i,set:()=>Al,single:()=>ln,summary:()=>hl,transform:()=>$l});var ln={};At(ln,{chunkwise:()=>Zl,chunkwiseAsync:()=>Fl,chunkwiseOverlap:()=>Uo,chunkwiseOverlapAsync:()=>Do,compress:()=>Pl,compressAsync:()=>Ol,dropWhile:()=>jl,dropWhileAsync:()=>Nl,enumerate:()=>pn,enumerateAsync:()=>Jl,filter:()=>Rl,filterAsync:()=>Ll,flatMap:()=>Ul,flatMapAsync:()=>Dl,flatten:()=>ds,flattenAsync:()=>ps,groupBy:()=>ef,groupByAsync:()=>tf,keys:()=>ql,keysAsync:()=>Yl,limit:()=>Bl,limitAsync:()=>Vl,map:()=>Un,mapAsync:()=>Rr,pairwise:()=>dn,pairwiseAsync:()=>bi,repeat:()=>ix,repeatAsync:()=>ox,skip:()=>Hl,skipAsync:()=>Kl,slice:()=>Wl,sliceAsync:()=>Gl,sort:()=>rf,sortAsync:()=>nf,takeWhile:()=>Cl,takeWhileAsync:()=>Ml,values:()=>Xl,valuesAsync:()=>Ql});var $l={};At($l,{tee:()=>Oo,teeAsync:()=>jo,toArray:()=>Er,toArrayAsync:()=>Lt,toAsyncIterable:()=>N,toAsyncIterator:()=>ss,toIterable:()=>M,toIterator:()=>as,toMap:()=>_l,toMapAsync:()=>yl,toSet:()=>bl,toSetAsync:()=>xl});var ee=class extends Error{},_t=class extends Error{};var hl={};At(hl,{allMatch:()=>Kc,allMatchAsync:()=>Xc,allUnique:()=>Qc,allUniqueAsync:()=>el,anyMatch:()=>tl,anyMatchAsync:()=>rl,exactlyN:()=>nl,exactlyNAsync:()=>il,isAsyncIterable:()=>fn,isEmpty:()=>ex,isEmptyAsync:()=>tx,isIterable:()=>St,isIterator:()=>Qt,isReversed:()=>ol,isReversedAsync:()=>al,isSorted:()=>sl,isSortedAsync:()=>ul,isString:()=>Dr,noneMatch:()=>cl,noneMatchAsync:()=>ll,same:()=>fl,sameAsync:()=>dl,sameCount:()=>pl,sameCountAsync:()=>ml});var Oc={};At(Oc,{chain:()=>Ac,chainAsync:()=>Pc,zip:()=>So,zipAsync:()=>zo,zipEqual:()=>To,zipEqualAsync:()=>Ao,zipFilled:()=>Ic,zipFilledAsync:()=>Sc,zipLongest:()=>zc,zipLongestAsync:()=>Tc});var Cn=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(d){a(d)}}function u(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?o(f.value):i(f.value).then(s,u)}c((n=n.apply(t,e||[])).next())})},wr=function(t){return this instanceof wr?(this.v=t,this):new wr(t)},lg=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof wr?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}},Ee;(function(t){t[t.SHORTEST=0]="SHORTEST",t[t.LONGEST=1]="LONGEST",t[t.STRICT_EQUAL=2]="STRICT_EQUAL"})(Ee||(Ee={}));function*un(t,e,...r){if(r.length===0)return;let n=[];for(let i of r)n.push(as(i));e:for(;;){let i=ln.map(n,u=>u.next()),o=[],a=!0,s=!1;for(let u of i){let c;u.done?(a=!1,c=e):(s=!0,c=u.value),o.push(c)}if(!a&&s)switch(t){case Ee.SHORTEST:break e;case Ee.STRICT_EQUAL:throw new _t("Iterators must have equal lengths")}if(!s)break;yield o}}function cn(t,e,...r){return lg(this,arguments,function*(){if(r.length===0)return yield wr(void 0);let i=[];for(let o of r)i.push(ss(o));e:for(;;){let o=[];for(let c of i){let f=yield wr(c.next());o.push(f)}let a=[],s=!0,u=!1;for(let c of o){let f;c.done?(s=!1,f=e):(u=!0,f=c.value),a.push(f)}if(!s&&u)switch(t){case Ee.SHORTEST:break e;case Ee.STRICT_EQUAL:throw new _t("Iterators must have equal lengths")}if(!u)break;yield yield wr(a)}})}var Mn=class{constructor(){this.addedMap=new Map,this.deletedMap=new Map}addUsage(e,r){this.addedMap.has(e)||this.addedMap.set(e,new Map);let n=this.addedMap.get(e);n.has(r)||n.set(r,0),n.set(r,n.get(r)+1)}deleteUsage(e){this.deletedMap.has(e)?this.deletedMap.set(e,this.deletedMap.get(e)+1):this.deletedMap.set(e,1)}getOwnersCount(e){var r,n;let i=(r=this.deletedMap.get(e))!==null&&r!==void 0?r:0;return sn.of((n=this.addedMap.get(e))!==null&&n!==void 0?n:new Map).map(o=>o[1]).filter(o=>o>i).toValue(o=>o+1,0)}getUsagesCount(e,r=1){var n,i;let o=(n=this.deletedMap.get(e))!==null&&n!==void 0?n:0,a=sn.of((i=this.addedMap.get(e))!==null&&i!==void 0?i:new Map).map(s=>s[1]).map(s=>s-o).filter(s=>s>0).toArray();for(;a.length>r;){let s=_i.toMin(a);a=sn.of(a).map(u=>u-s).filter(u=>u>0).toArray()}return _i.toSum(a)}},Ie=class{},is=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new kc(this,n)),this.positions.push(0);this.cacheNextValue()}current(e){let r=this.getPosition(e);return this.cache.get(r)}next(e){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&this.cacheNextValue(),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)}valid(e){return this.getPosition(e)<this.lastCacheIndex||this.isValid}getRelatedIterables(){return this.related}cacheNextValue(){let e=this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isValid=!e.done}getPosition(e){return this.positions[e.getId()]}},kc=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return this.parent.valid(this)}next(){let e={value:this.current(),done:!this.valid()};return e.done||this.parent.next(this),e}current(){return this.parent.valid(this)?this.parent.current(this):void 0}*[Symbol.iterator](){for(;this.parent.valid(this);)yield this.parent.current(this),this.parent.next(this)}},os=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.isFirstIteration=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new Ec(this,n)),this.positions.push(0)}current(e){return Cn(this,void 0,void 0,function*(){this.isFirstIteration&&(yield this.cacheNextValue());let r=this.getPosition(e);return this.cache.get(r)})}next(e){return Cn(this,void 0,void 0,function*(){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&(yield this.cacheNextValue()),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)})}valid(e){return Cn(this,void 0,void 0,function*(){return this.isFirstIteration&&(yield this.cacheNextValue()),this.getPosition(e)<this.lastCacheIndex||this.isValid})}getRelatedIterables(){return this.related}cacheNextValue(){return Cn(this,void 0,void 0,function*(){let e=yield this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isFirstIteration=!1,this.isValid=!e.done})}getPosition(e){return this.positions[e.getId()]}},Ec=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return Cn(this,void 0,void 0,function*(){return yield this.parent.valid(this)})}next(){return Cn(this,void 0,void 0,function*(){let e={value:yield this.current(),done:!(yield this.valid())};return e.done||(yield this.parent.next(this)),e})}current(){return Cn(this,void 0,void 0,function*(){return(yield this.parent.valid(this))?yield this.parent.current(this):void 0})}[Symbol.asyncIterator](){return lg(this,arguments,function*(){for(;yield wr(this.parent.valid(this));)yield yield wr(yield wr(this.parent.current(this))),yield wr(this.parent.next(this))})}};var Eo=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},Re=function(t){return this instanceof Re?(this.v=t,this):new Re(t)},Io=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof Re?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}};function*So(...t){for(let e of un(Ee.SHORTEST,void 0,...t))yield e}function zo(...t){return Io(this,arguments,function*(){var r,n,i,o;try{for(var a=!0,s=Eo(cn(Ee.SHORTEST,void 0,...t)),u;u=yield Re(s.next()),r=u.done,!r;){o=u.value,a=!1;try{yield yield Re(o)}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield Re(i.call(s)))}finally{if(n)throw n.error}}})}function*Ic(t,...e){for(let r of un(Ee.LONGEST,t,...e))yield r}function Sc(t,...e){return Io(this,arguments,function*(){var n,i,o,a;try{for(var s=!0,u=Eo(cn(Ee.LONGEST,t,...e)),c;c=yield Re(u.next()),n=c.done,!n;){a=c.value,s=!1;try{yield yield Re(a)}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(o=u.return)&&(yield Re(o.call(u)))}finally{if(i)throw i.error}}})}function*zc(...t){for(let e of un(Ee.LONGEST,void 0,...t))yield e}function Tc(...t){return Io(this,arguments,function*(){var r,n,i,o;try{for(var a=!0,s=Eo(cn(Ee.LONGEST,void 0,...t)),u;u=yield Re(s.next()),r=u.done,!r;){o=u.value,a=!1;try{yield yield Re(o)}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield Re(i.call(s)))}finally{if(n)throw n.error}}})}function*To(...t){for(let e of un(Ee.STRICT_EQUAL,void 0,...t))yield e}function Ao(...t){return Io(this,arguments,function*(){var r,n,i,o;try{for(var a=!0,s=Eo(cn(Ee.STRICT_EQUAL,void 0,...t)),u;u=yield Re(s.next()),r=u.done,!r;){o=u.value,a=!1;try{yield yield Re(o)}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield Re(i.call(s)))}finally{if(n)throw n.error}}})}function*Ac(...t){for(let e of t)for(let r of M(e))yield r}function Pc(...t){return Io(this,arguments,function*(){var r,n,i,o;for(let c of t)try{for(var a=!0,s=(n=void 0,Eo(N(c))),u;u=yield Re(s.next()),r=u.done,!r;){o=u.value,a=!1;try{yield yield Re(o)}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=s.return)&&(yield Re(i.call(s)))}finally{if(n)throw n.error}}})}var _i={};At(_i,{toAverage:()=>jc,toAverageAsync:()=>Nc,toCount:()=>yi,toCountAsync:()=>Po,toFirst:()=>Jc,toFirstAndLast:()=>Yc,toFirstAndLastAsync:()=>Hc,toFirstAsync:()=>Wc,toLast:()=>Gc,toLastAsync:()=>qc,toMax:()=>Cc,toMaxAsync:()=>Mc,toMin:()=>Uc,toMinAsync:()=>Dc,toMinMax:()=>cs,toMinMaxAsync:()=>ls,toProduct:()=>Bc,toProductAsync:()=>Vc,toRange:()=>Rc,toRangeAsync:()=>Lc,toSum:()=>Zc,toSumAsync:()=>Fc,toValue:()=>Dt,toValueAsync:()=>Rt});var at=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(d){a(d)}}function u(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?o(f.value):i(f.value).then(s,u)}c((n=n.apply(t,e||[])).next())})},us=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}};function Dt(t,e,r){let n=r;for(let i of M(t))n=e(n,i);return n}function Rt(t,e,r){var n,i,o,a;return at(this,void 0,void 0,function*(){let s=r;try{for(var u=!0,c=us(N(t)),f;f=yield c.next(),n=f.done,!n;){a=f.value,u=!1;try{s=yield e(s,a)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield o.call(c))}finally{if(i)throw i.error}}return s})}function jc(t){let[e,r]=Dt(t,(n,i)=>{let[o,a]=n;return[o+1,a+Number(i)]},[0,0]);return e?r/e:void 0}function Nc(t){return at(this,void 0,void 0,function*(){let[e,r]=yield Rt(t,(n,i)=>{let[o,a]=n;return[o+1,a+Number(i)]},[0,0]);return e?r/e:void 0})}function Cc(t,e){return e!==void 0?Dt(t,(r,n)=>e(n)>e(r??n)?n:r??n):Dt(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})}function Mc(t,e){return at(this,void 0,void 0,function*(){return e!==void 0?yield Rt(t,(r,n)=>at(this,void 0,void 0,function*(){return(yield e(n))>(yield e(r??n))?n:r??n})):yield Rt(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})})}function Uc(t,e){return e!==void 0?Dt(t,(r,n)=>e(n)<e(r??n)?n:r??n):Dt(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})}function Dc(t,e){return at(this,void 0,void 0,function*(){return e!==void 0?yield Rt(t,(r,n)=>at(this,void 0,void 0,function*(){return(yield e(n))<(yield e(r??n))?n:r??n})):yield Rt(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})})}function cs(t,e){let r=e!==void 0?e:n=>n;return Dt(t,(n,i)=>{var o,a,s,u;return n=n,[r(i)<=r((o=n[0])!==null&&o!==void 0?o:i)?i:(a=n[0])!==null&&a!==void 0?a:i,r(i)>=r((s=n[1])!==null&&s!==void 0?s:i)?i:(u=n[1])!==null&&u!==void 0?u:i]},[void 0,void 0])}function ls(t,e){return at(this,void 0,void 0,function*(){let r=e!==void 0?e:n=>n;return yield Rt(t,(n,i)=>at(this,void 0,void 0,function*(){var o,a,s,u;return n=n,[(yield r(i))<=(yield r((o=n[0])!==null&&o!==void 0?o:i))?i:(a=n[0])!==null&&a!==void 0?a:i,(yield r(i))>=(yield r((s=n[1])!==null&&s!==void 0?s:i))?i:(u=n[1])!==null&&u!==void 0?u:i]}),[void 0,void 0])})}function Rc(t){let[e,r]=cs(Un(t,n=>Number(n)));return(r??0)-(e??0)}function Lc(t){return at(this,void 0,void 0,function*(){let[e,r]=yield ls(Rr(t,n=>Number(n)));return(r??0)-(e??0)})}function Zc(t){return Dt(t,(e,r)=>e+Number(r),0)}function Fc(t){return at(this,void 0,void 0,function*(){return yield Rt(t,(e,r)=>e+Number(r),0)})}function Bc(t){return Dt(t,(e,r)=>(e??1)*r)}function Vc(t){return at(this,void 0,void 0,function*(){return yield Rt(t,(e,r)=>(e??1)*r)})}function yi(t){switch(!0){case t instanceof Array:return t.length;case Dr(t):return t.length;case t instanceof Set:return t.size;case t instanceof Map:return t.size}return Dt(t,e=>e+1,0)}function Po(t){return at(this,void 0,void 0,function*(){switch(!0){case t instanceof Array:case Dr(t):case t instanceof Set:case t instanceof Map:return yi(t)}return yield Rt(t,e=>e+1,0)})}function Jc(t){for(let e of M(t))return e;throw new _t("Collection is empty")}function Wc(t){var e,r,n,i;return at(this,void 0,void 0,function*(){try{for(var o=!0,a=us(N(t)),s;s=yield a.next(),e=s.done,!e;){i=s.value,o=!1;try{return i}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}throw new _t("Collection is empty")})}function Gc(t){let e=!0,r;for(let n of M(t))r=n,e=!1;if(e)throw new _t("Collection is empty");return r}function qc(t){var e,r,n,i;return at(this,void 0,void 0,function*(){let o=!0,a;try{for(var s=!0,u=us(N(t)),c;c=yield u.next(),e=c.done,!e;){i=c.value,s=!1;try{a=i,o=!1}finally{s=!0}}}catch(f){r={error:f}}finally{try{!s&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o)throw new _t("Collection is empty");return a})}function Yc(t){let e=Ie,r=Ie;for(let n of M(t))e===Ie&&(e=n),r=n;if(e===Ie)throw new _t("Collection is empty");return[e,r]}function Hc(t){var e,r,n,i;return at(this,void 0,void 0,function*(){let o=Ie,a=Ie;try{for(var s=!0,u=us(N(t)),c;c=yield u.next(),e=c.done,!e;){i=c.value,s=!1;try{let f=i;o===Ie&&(o=f),a=f}finally{s=!0}}}catch(f){r={error:f}}finally{try{!s&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o===Ie)throw new _t("Collection is empty");return[o,a]})}var Xt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(d){a(d)}}function u(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?o(f.value):i(f.value).then(s,u)}c((n=n.apply(t,e||[])).next())})},Lr=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}};function Kc(t,e){for(let r of M(t))if(!e(r))return!1;return!0}function Xc(t,e){var r,n,i,o;return Xt(this,void 0,void 0,function*(){try{for(var a=!0,s=Lr(N(t)),u;u=yield s.next(),r=u.done,!r;){o=u.value,a=!1;try{if(!(yield e(o)))return!1}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return!0})}function Qc(t){let e=new Set;for(let r of M(t)){if(e.has(r))return!1;e.add(r)}return!0}function el(t){var e,r,n,i;return Xt(this,void 0,void 0,function*(){let o=new Set;try{for(var a=!0,s=Lr(N(t)),u;u=yield s.next(),e=u.done,!e;){i=u.value,a=!1;try{let c=i;if(o.has(c))return!1;o.add(c)}finally{a=!0}}}catch(c){r={error:c}}finally{try{!a&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function tl(t,e){for(let r of M(t))if(e(r))return!0;return!1}function rl(t,e){var r,n,i,o;return Xt(this,void 0,void 0,function*(){try{for(var a=!0,s=Lr(N(t)),u;u=yield s.next(),r=u.done,!r;){o=u.value,a=!1;try{if(yield e(o))return!0}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return!1})}function nl(t,e,r){if(e<0)return!1;r===void 0&&(r=i=>!!i);let n=0;for(let i of M(t))if(r(i)&&(n++,n>e))return!1;return n===e}function il(t,e,r){var n,i,o,a;return Xt(this,void 0,void 0,function*(){if(e<0)return!1;r===void 0&&(r=d=>!!d);let s=0;try{for(var u=!0,c=Lr(N(t)),f;f=yield c.next(),n=f.done,!n;){a=f.value,u=!1;try{if((yield r(a))&&(s++,s>e))return!1}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield o.call(c))}finally{if(i)throw i.error}}return s===e})}function ex(t){for(let e of M(t))return!1;return!0}function tx(t){var e,r,n,i;return Xt(this,void 0,void 0,function*(){try{for(var o=!0,a=Lr(N(t)),s;s=yield a.next(),e=s.done,!e;){i=s.value,o=!1;try{let u=i;return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return!0})}function St(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}function fn(t){return t==null?!1:typeof t[Symbol.asyncIterator]=="function"}function Qt(t){return t==null?!1:t.next!==void 0&&typeof t.next=="function"}function ol(t){for(let[e,r]of dn(M(t)))if(e<r)return!1;return!0}function al(t){var e,r,n,i;return Xt(this,void 0,void 0,function*(){try{for(var o=!0,a=Lr(bi(N(t))),s;s=yield a.next(),e=s.done,!e;){i=s.value,o=!1;try{let[u,c]=i;if(u<c)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return!0})}function sl(t){for(let[e,r]of dn(M(t)))if(e>r)return!1;return!0}function ul(t){var e,r,n,i;return Xt(this,void 0,void 0,function*(){try{for(var o=!0,a=Lr(bi(N(t))),s;s=yield a.next(),e=s.done,!e;){i=s.value,o=!1;try{let[u,c]=i;if(u>c)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return!0})}function Dr(t){return typeof t=="string"||t instanceof String}function cl(t,e){for(let r of M(t))if(e(r))return!1;return!0}function ll(t,e){var r,n,i,o;return Xt(this,void 0,void 0,function*(){try{for(var a=!0,s=Lr(N(t)),u;u=yield s.next(),r=u.done,!r;){o=u.value,a=!1;try{if(yield e(o))return!1}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return!0})}function fl(...t){try{for(let e of To(...t))for(let[r,n]of dn(e))if(r!==n)return!1}catch{return!1}return!0}function dl(...t){var e,r,n,i;return Xt(this,void 0,void 0,function*(){try{try{for(var o=!0,a=Lr(Ao(...t)),s;s=yield a.next(),e=s.done,!e;){i=s.value,o=!1;try{let u=i;for(let[c,f]of dn(u))if(c!==f)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}}catch{return!1}return!0})}function pl(...t){if(t.length<=1)return!0;let e=t.map(r=>yi(r));return new Set(e).size===1}function ml(...t){return Xt(this,void 0,void 0,function*(){if(t.length<=1)return!0;let e=yield Rr(t,r=>Xt(this,void 0,void 0,function*(){return yield Po(r)}));return new Set(yield Lt(e)).size===1})}var gl=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(d){a(d)}}function u(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?o(f.value):i(f.value).then(s,u)}c((n=n.apply(t,e||[])).next())})},kr=function(t){return this instanceof kr?(this.v=t,this):new kr(t)},vl=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof kr?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}},fs=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}};function M(t){if(St(t))return t;if(Qt(t))return{[Symbol.iterator](){return t}};if(typeof t=="object"&&t!==null)return(function*(){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(yield[e,t[e]])})();throw new ee("Given collection is not iterable or iterator.")}function N(t){if(fn(t))return t;if(Qt(t))return{[Symbol.asyncIterator](){return vl(this,arguments,function*(){for(;;){let r=yield kr(t.next());if(r.done)return yield kr(void 0);yield yield kr(r.value)}})}};if(typeof t=="object"&&t!==null&&(t=M(t)),St(t))return{[Symbol.asyncIterator](){return vl(this,arguments,function*(){for(let r of t)yield yield kr(r)})}};throw new ee("Given collection is not async iterable or iterator.")}function as(t){if(Qt(t))return t;if(St(t))return(function*(){for(let e of t)yield e})();throw new ee("Given collection is not iterable or iterator.")}function ss(t){if((Qt(t)||St(t))&&(t=N(t)),fn(t))return(function(){return vl(this,arguments,function*(){var e,r,n,i;try{for(var o=!0,a=fs(t),s;s=yield kr(a.next()),e=s.done,!e;){i=s.value,o=!1;try{yield yield kr(i)}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=a.return)&&(yield kr(n.call(a)))}finally{if(r)throw r.error}}})})();throw new ee("Given collection is not iterable or iterator.")}function Er(t){if(Array.isArray(t))return t;let e=[];for(let r of M(t))e.push(r);return e}function Lt(t){var e,r,n,i;return gl(this,void 0,void 0,function*(){if(Array.isArray(t))return t;let o=[];try{for(var a=!0,s=fs(N(t)),u;u=yield s.next(),e=u.done,!e;){i=u.value,a=!1;try{let c=i;o.push(c)}finally{a=!0}}}catch(c){r={error:c}}finally{try{!a&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return o})}function _l(t){let e=new Map;for(let[r,n]of M(t))e.set(r,n);return e}function yl(t){var e,r,n,i;return gl(this,void 0,void 0,function*(){let o=new Map;try{for(var a=!0,s=fs(N(t)),u;u=yield s.next(),e=u.done,!e;){i=u.value,a=!1;try{let[c,f]=i;o.set(c,f)}finally{a=!0}}}catch(c){r={error:c}}finally{try{!a&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return o})}function bl(t){let e=new Set;for(let r of M(t))e.add(r);return e}function xl(t){var e,r,n,i;return gl(this,void 0,void 0,function*(){let o=new Set;try{for(var a=!0,s=fs(N(t)),u;u=yield s.next(),e=u.done,!e;){i=u.value,a=!1;try{let c=i;o.add(c)}finally{a=!0}}}catch(c){r={error:c}}finally{try{!a&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return o})}function Oo(t,e){return new is(as(t),e).getRelatedIterables()}function jo(t,e){return new os(ss(t),e).getRelatedIterables()}var Al={};At(Al,{cartesianProduct:()=>rx,cartesianProductAsync:()=>nx,distinct:()=>wi,distinctAsync:()=>No,intersection:()=>kl,intersectionAsync:()=>El,partialIntersection:()=>Co,partialIntersectionAsync:()=>Mo,symmetricDifference:()=>Il,symmetricDifferenceAsync:()=>Sl,union:()=>zl,unionAsync:()=>Tl});var Le=function(t){return this instanceof Le?(this.v=t,this):new Le(t)},xi=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},$i=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof Le?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}},wl=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:Le(t[i](a)),done:i==="return"}:o?o(a):a}:o}};function*wi(t,e){let r=new Set;if(t instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of t){let i=e(n);r.has(i)||(yield n,r.add(i))}}else{e===void 0&&(e=n=>n);for(let n of M(t)){let i=e(n);r.has(i)||(yield n,r.add(i))}}}function No(t,e){return $i(this,arguments,function*(){var n,i,o,a;let s=new Set;if(t instanceof Map)for(let d of wi(t,e))yield yield Le(yield Le(d));else{e===void 0&&(e=d=>d);try{for(var u=!0,c=xi(N(t)),f;f=yield Le(c.next()),n=f.done,!n;){a=f.value,u=!1;try{let d=a,l=e(d);s.has(l)||(yield yield Le(d),s.add(l))}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield Le(o.call(c)))}finally{if(i)throw i.error}}}})}function*kl(...t){yield*Co(t.length,...t)}function El(...t){return $i(this,arguments,function*(){yield Le(yield*wl(xi(Mo(t.length,...t))))})}function*Co(t,...e){let r=new Mn,n=un(Ee.LONGEST,Ie,...e);for(let i of n)for(let[o,a]of pn(i))a!==Ie&&(r.addUsage(a,`${o}`),r.getOwnersCount(a)===t&&(yield a,r.deleteUsage(a)))}function Mo(t,...e){return $i(this,arguments,function*(){var n,i,o,a;let s=new Mn,u=cn(Ee.LONGEST,Ie,...e);try{for(var c=!0,f=xi(u),d;d=yield Le(f.next()),n=d.done,!n;){a=d.value,c=!1;try{let l=a;for(let[p,m]of pn(l))m!==Ie&&(s.addUsage(m,`${p}`),s.getOwnersCount(m)===t&&(yield yield Le(m),s.deleteUsage(m)))}finally{c=!0}}}catch(l){i={error:l}}finally{try{!c&&!n&&(o=f.return)&&(yield Le(o.call(f)))}finally{if(i)throw i.error}}})}function*Il(...t){let e=new Mn,r=new Set,n=un(Ee.LONGEST,Ie,...t);for(let i of n)for(let[o,a]of pn(i))a!==Ie&&(e.addUsage(a,`${o}`),r.add(a),e.getOwnersCount(a)===t.length&&e.deleteUsage(a));for(let i of r)for(let o of ln.repeat(i,e.getUsagesCount(i)))yield o}function Sl(...t){return $i(this,arguments,function*(){var r,n,i,o;let a=new Mn,s=new Set,u=cn(Ee.LONGEST,Ie,...t);try{for(var c=!0,f=xi(u),d;d=yield Le(f.next()),r=d.done,!r;){o=d.value,c=!1;try{let l=o;for(let[p,m]of pn(l))m!==Ie&&(a.addUsage(m,`${p}`),s.add(m),a.getOwnersCount(m)===t.length&&a.deleteUsage(m))}finally{c=!0}}}catch(l){n={error:l}}finally{try{!c&&!r&&(i=f.return)&&(yield Le(i.call(f)))}finally{if(n)throw n.error}}for(let l of s)for(let p of ln.repeat(l,a.getUsagesCount(l)))yield yield Le(p)})}function*zl(...t){yield*Co(1,...t)}function Tl(...t){return $i(this,arguments,function*(){yield Le(yield*wl(xi(Mo(1,...t))))})}function*rx(...t){yield*ki.cartesianProduct(...t)}function nx(...t){return $i(this,arguments,function*(){yield Le(yield*wl(xi(ki.cartesianProductAsync(...t))))})}var be=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},I=function(t){return this instanceof I?(this.v=t,this):new I(t)},Oe=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof I?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}};function*Un(t,e){for(let r of M(t))yield e(r)}function Rr(t,e){return Oe(this,arguments,function*(){var n,i,o,a;try{for(var s=!0,u=be(N(t)),c;c=yield I(u.next()),n=c.done,!n;){a=c.value,s=!1;try{yield yield I(yield I(e(a)))}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Pl(t,e){for(let[r,n]of So(t,e))n&&(yield r)}function Ol(t,e){return Oe(this,arguments,function*(){var n,i,o,a;try{for(var s=!0,u=be(zo(t,e)),c;c=yield I(u.next()),n=c.done,!n;){a=c.value,s=!1;try{let[f,d]=a;d&&(yield yield I(f))}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*jl(t,e){let r=!0;for(let n of M(t)){if(r){if(!e(n)){r=!1,yield n;continue}continue}yield n}}function Nl(t,e){return Oe(this,arguments,function*(){var n,i,o,a;let s=!0;try{for(var u=!0,c=be(N(t)),f;f=yield I(c.next()),n=f.done,!n;){a=f.value,u=!1;try{let d=a;if(s){if(!(yield I(e(d)))){s=!1,yield yield I(d);continue}continue}yield yield I(d)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield I(o.call(c)))}finally{if(i)throw i.error}}})}function*Cl(t,e){for(let r of M(t))if(e(r))yield r;else break}function Ml(t,e){return Oe(this,arguments,function*(){var n,i,o,a;try{for(var s=!0,u=be(N(t)),c;c=yield I(u.next()),n=c.done,!n;){a=c.value,s=!1;try{let f=a;if(yield I(e(f)))yield yield I(f);else break}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*ix(t,e){if(e<0)throw new ee(`Number of repetitions cannot be negative: ${e}`);for(let r=e;r>0;--r)yield t}function ox(t,e){return Oe(this,arguments,function*(){if(e<0)throw new ee(`Number of repetitions cannot be negative: ${e}`);let n=yield I(t);for(let i=e;i>0;--i)yield yield I(n)})}function*Ul(t,e){for(let r of M(t)){let n=e(r,e);if(St(n))for(let i of M(n))yield i;else yield n}}function Dl(t,e){return Oe(this,arguments,function*(){var n,i,o,a,s,u,c,f;try{for(var d=!0,l=be(N(t)),p;p=yield I(l.next()),n=p.done,!n;){a=p.value,d=!1;try{let x=yield I(e(a,e));if(St(x)||fn(x))try{for(var m=!0,v=(u=void 0,be(N(x))),b;b=yield I(v.next()),s=b.done,!s;){f=b.value,m=!1;try{yield yield I(f)}finally{m=!0}}}catch(E){u={error:E}}finally{try{!m&&!s&&(c=v.return)&&(yield I(c.call(v)))}finally{if(u)throw u.error}}else yield yield I(x)}finally{d=!0}}}catch(_){i={error:_}}finally{try{!d&&!n&&(o=l.return)&&(yield I(o.call(l)))}finally{if(i)throw i.error}}})}function*ds(t,e=1/0){if(e<1){for(let r of M(t))t instanceof Map&&(r=r[1]),yield r;return}for(let r of M(t))if(t instanceof Map&&(r=r[1]),(St(r)||Qt(r))&&!Dr(r))for(let n of ds(r,e-1))yield n;else yield r}function ps(t,e=1/0){return Oe(this,arguments,function*(){var n,i,o,a,s,u,c,f,d,l,p,m;if(e<1){try{for(var v=!0,b=be(N(t)),_;_=yield I(b.next()),n=_.done,!n;){a=_.value,v=!1;try{let T=a;t instanceof Map&&(T=T[1]),yield yield I(T)}finally{v=!0}}}catch(T){i={error:T}}finally{try{!v&&!n&&(o=b.return)&&(yield I(o.call(b)))}finally{if(i)throw i.error}}return yield I(void 0)}try{for(var x=!0,E=be(N(t)),z;z=yield I(E.next()),s=z.done,!s;){f=z.value,x=!1;try{let T=f;if(t instanceof Map&&(T=T[1]),(fn(T)||St(T)||Qt(T))&&!Dr(T))try{for(var R=!0,y=(l=void 0,be(ps(T,e-1))),k;k=yield I(y.next()),d=k.done,!d;){m=k.value,R=!1;try{yield yield I(m)}finally{R=!0}}}catch(ie){l={error:ie}}finally{try{!R&&!d&&(p=y.return)&&(yield I(p.call(y)))}finally{if(l)throw l.error}}else yield yield I(T)}finally{x=!0}}}catch(T){u={error:T}}finally{try{!x&&!s&&(c=E.return)&&(yield I(c.call(E)))}finally{if(u)throw u.error}}})}function*Rl(t,e){for(let r of M(t))e(r)&&(yield r)}function Ll(t,e){return Oe(this,arguments,function*(){var n,i,o,a;try{for(var s=!0,u=be(N(t)),c;c=yield I(u.next()),n=c.done,!n;){a=c.value,s=!1;try{let f=a;(yield I(e(f)))&&(yield yield I(f))}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Uo(t,e,r,n=!0){if(e<1)throw new ee(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new ee("Overlap size must be less than chunk size");let i=[],o=!1;for(let a of M(t))o=!1,i.push(a),i.length===e&&(yield i,i=i.slice(e-r),o=!0);!o&&i.length>0&&n&&(yield i)}function Do(t,e,r,n=!0){return Oe(this,arguments,function*(){var o,a,s,u;if(e<1)throw new ee(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new ee("Overlap size must be less than chunk size");let c=[],f=!1;try{for(var d=!0,l=be(N(t)),p;p=yield I(l.next()),o=p.done,!o;){u=p.value,d=!1;try{let m=u;f=!1,c.push(m),c.length===e&&(yield yield I(c),c=c.slice(e-r),f=!0)}finally{d=!0}}}catch(m){a={error:m}}finally{try{!d&&!o&&(s=l.return)&&(yield I(s.call(l)))}finally{if(a)throw a.error}}!f&&c.length>0&&n&&(yield yield I(c))})}function*Zl(t,e){for(let r of Uo(t,e,0))yield r}function Fl(t,e){return Oe(this,arguments,function*(){var n,i,o,a;try{for(var s=!0,u=be(Do(t,e,0)),c;c=yield I(u.next()),n=c.done,!n;){a=c.value,s=!1;try{yield yield I(a)}finally{s=!0}}}catch(f){i={error:f}}finally{try{!s&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*dn(t){let e=Uo(t,2,1,!1);for(let r of e)yield r}function bi(t){return Oe(this,arguments,function*(){var r,n,i,o;let a=Do(t,2,1,!1);try{for(var s=!0,u=be(a),c;c=yield I(u.next()),r=c.done,!r;){o=c.value,s=!1;try{yield yield I(o)}finally{s=!0}}}catch(f){n={error:f}}finally{try{!s&&!r&&(i=u.return)&&(yield I(i.call(u)))}finally{if(n)throw n.error}}})}function*Bl(t,e){if(e<0)throw new ee(`Limit must be \u2265 0. Got ${e}`);let r=0;for(let n of M(t)){if(r>=e)return;yield n,++r}}function Vl(t,e){return Oe(this,arguments,function*(){var n,i,o,a;if(e<0)throw new ee(`Limit must be \u2265 0. Got ${e}`);let s=0;try{for(var u=!0,c=be(N(t)),f;f=yield I(c.next()),n=f.done,!n;){a=f.value,u=!1;try{let d=a;if(s>=e)return yield I(void 0);yield yield I(d),++s}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield I(o.call(c)))}finally{if(i)throw i.error}}})}function*pn(t){let e=0;for(let r of M(t))yield[e++,r]}function Jl(t){return Oe(this,arguments,function*(){var r,n,i,o;let a=0;try{for(var s=!0,u=be(N(t)),c;c=yield I(u.next()),r=c.done,!r;){o=c.value,s=!1;try{let f=o;yield yield I([a++,f])}finally{s=!0}}}catch(f){n={error:f}}finally{try{!s&&!r&&(i=u.return)&&(yield I(i.call(u)))}finally{if(n)throw n.error}}})}function*Wl(t,e=0,r,n=1){if(e<0)throw new ee("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new ee("Parameter 'count' cannot be negative");if(n<=0)throw new ee("Parameter 'step' must be positive");let i=0,o=0;for(let a of M(t))if(!(i++<e||(i-e-1)%n!==0)){if(o++===r&&r!==void 0)break;yield a}}function Gl(t,e=0,r,n=1){return Oe(this,arguments,function*(){var o,a,s,u;if(e<0)throw new ee("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new ee("Parameter 'count' cannot be negative");if(n<=0)throw new ee("Parameter 'step' must be positive");let c=0,f=0;try{for(var d=!0,l=be(N(t)),p;p=yield I(l.next()),o=p.done,!o;){u=p.value,d=!1;try{let m=u;if(c++<e||(c-e-1)%n!==0)continue;if(f++===r&&r!==void 0)break;yield yield I(m)}finally{d=!0}}}catch(m){a={error:m}}finally{try{!d&&!o&&(s=l.return)&&(yield I(s.call(l)))}finally{if(a)throw a.error}}})}function*ql(t){for(let[e]of M(t))yield e}function Yl(t){return Oe(this,arguments,function*(){var r,n,i,o;try{for(var a=!0,s=be(N(t)),u;u=yield I(s.next()),r=u.done,!r;){o=u.value,a=!1;try{let[c]=o;yield yield I(c)}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield I(i.call(s)))}finally{if(n)throw n.error}}})}function*Hl(t,e,r=0){if(e<0||r<0)throw new ee;let n=-r;for(let i of M(t))(n<0||n>=e)&&(yield i),++n}function Kl(t,e,r=0){return Oe(this,arguments,function*(){var i,o,a,s;if(e<0||r<0)throw new ee;let u=-r;try{for(var c=!0,f=be(N(t)),d;d=yield I(f.next()),i=d.done,!i;){s=d.value,c=!1;try{let l=s;(u<0||u>=e)&&(yield yield I(l)),++u}finally{c=!0}}}catch(l){o={error:l}}finally{try{!c&&!i&&(a=f.return)&&(yield I(a.call(f)))}finally{if(o)throw o.error}}})}function*Xl(t){for(let[,e]of M(t))yield e}function Ql(t){return Oe(this,arguments,function*(){var r,n,i,o;try{for(var a=!0,s=be(N(t)),u;u=yield I(s.next()),r=u.done,!r;){o=u.value,a=!1;try{let[,c]=o;yield yield I(c)}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield I(i.call(s)))}finally{if(n)throw n.error}}})}function*ef(t,e,r){let n=new Map,i=o=>{n.has(o)||(r!==void 0?n.set(o,{}):n.set(o,[]))};for(let o of M(t)){let a=e(o),s=r!==void 0?r(o):void 0,u=(St(a)||Qt(a))&&!Dr(a)?a:[a];for(let c of wi(u))i(c),s===void 0?n.get(c).push(o):n.get(c)[s]=o}for(let o of n)yield o}function tf(t,e,r){return Oe(this,arguments,function*(){var i,o,a,s,u,c,f,d;let l=new Map,p=z=>{l.has(z)||(r!==void 0?l.set(z,{}):l.set(z,[]))};try{for(var m=!0,v=be(N(t)),b;b=yield I(v.next()),i=b.done,!i;){s=b.value,m=!1;try{let z=s,R=yield I(e(z)),y=r!==void 0?yield I(r(z)):void 0,k=(fn(R)||St(R)||Qt(R))&&!Dr(R)?R:[R];try{for(var _=!0,x=(c=void 0,be(No(k))),E;E=yield I(x.next()),u=E.done,!u;){d=E.value,_=!1;try{let T=d;p(T),y===void 0?l.get(T).push(z):l.get(T)[y]=z}finally{_=!0}}}catch(T){c={error:T}}finally{try{!_&&!u&&(f=x.return)&&(yield I(f.call(x)))}finally{if(c)throw c.error}}}finally{m=!0}}}catch(z){o={error:z}}finally{try{!m&&!i&&(a=v.return)&&(yield I(a.call(v)))}finally{if(o)throw o.error}}for(let z of l)yield yield I(z)})}function*rf(t,e){let r=Er(t);e!==void 0?r.sort(e):r.sort();for(let n of r)yield n}function nf(t,e){return Oe(this,arguments,function*(){let n=yield I(Lt(t));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield I(i)})}var hf={};At(hf,{runningAverage:()=>of,runningAverageAsync:()=>af,runningDifference:()=>sf,runningDifferenceAsync:()=>uf,runningMax:()=>cf,runningMaxAsync:()=>lf,runningMin:()=>ff,runningMinAsync:()=>df,runningProduct:()=>pf,runningProductAsync:()=>mf,runningTotal:()=>ms,runningTotalAsync:()=>hs});var Ei=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},se=function(t){return this instanceof se?(this.v=t,this):new se(t)},Ii=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof se?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}};function*of(t,e){let r=0;for(let n of ms(M(t),e))r++,yield n/r}function af(t,e){return Ii(this,arguments,function*(){var n,i,o,a;let s=0;try{for(var u=!0,c=Ei(hs(N(t),e)),f;f=yield se(c.next()),n=f.done,!n;){a=f.value,u=!1;try{let d=a;s++,yield yield se(d/s)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield se(o.call(c)))}finally{if(i)throw i.error}}})}function*sf(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of M(t))r-=Number(n),yield r}function uf(t,e){return Ii(this,arguments,function*(){var n,i,o,a;e!==void 0&&(yield yield se(e));let s=e??0;try{for(var u=!0,c=Ei(N(t)),f;f=yield se(c.next()),n=f.done,!n;){a=f.value,u=!1;try{s-=Number(a),yield yield se(s)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield se(o.call(c)))}finally{if(i)throw i.error}}})}function*cf(t,e){e!==void 0&&(yield e);let r=e??-1/0;for(let n of M(t))r=Math.max(r,n),yield r}function lf(t,e){return Ii(this,arguments,function*(){var n,i,o,a;e!==void 0&&(yield yield se(e));let s=e??-1/0;try{for(var u=!0,c=Ei(N(t)),f;f=yield se(c.next()),n=f.done,!n;){a=f.value,u=!1;try{s=Math.max(s,a),yield yield se(s)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield se(o.call(c)))}finally{if(i)throw i.error}}})}function*ff(t,e){e!==void 0&&(yield e);let r=e??1/0;for(let n of M(t))r=Math.min(r,n),yield r}function df(t,e){return Ii(this,arguments,function*(){var n,i,o,a;e!==void 0&&(yield yield se(e));let s=e??1/0;try{for(var u=!0,c=Ei(N(t)),f;f=yield se(c.next()),n=f.done,!n;){a=f.value,u=!1;try{s=Math.min(s,a),yield yield se(s)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield se(o.call(c)))}finally{if(i)throw i.error}}})}function*pf(t,e){e!==void 0&&(yield e);let r=e??1;for(let n of M(t))r*=Number(n),yield r}function mf(t,e){return Ii(this,arguments,function*(){var n,i,o,a;e!==void 0&&(yield yield se(e));let s=e??1;try{for(var u=!0,c=Ei(N(t)),f;f=yield se(c.next()),n=f.done,!n;){a=f.value,u=!1;try{s*=Number(a),yield yield se(s)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield se(o.call(c)))}finally{if(i)throw i.error}}})}function*ms(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of M(t))r+=Number(n),yield r}function hs(t,e){return Ii(this,arguments,function*(){var n,i,o,a;e!==void 0&&(yield yield se(e));let s=e??0;try{for(var u=!0,c=Ei(N(t)),f;f=yield se(c.next()),n=f.done,!n;){a=f.value,u=!1;try{s+=Number(a),yield yield se(s)}finally{u=!0}}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield se(o.call(c)))}finally{if(i)throw i.error}}})}var ki={};At(ki,{cartesianProduct:()=>_f,cartesianProductAsync:()=>yf,combinations:()=>gs,combinationsAsync:()=>xf,permutations:()=>vs,permutationsAsync:()=>bf});var ax=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(d){a(d)}}function u(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?o(f.value):i(f.value).then(s,u)}c((n=n.apply(t,e||[])).next())})},st=function(t){return this instanceof st?(this.v=t,this):new st(t)},vf=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},gf=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof st?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}},fg=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:st(t[i](a)),done:i==="return"}:o?o(a):a}:o}};function*_f(...t){if(t.length===0)return;if(t.length===1){for(let n of M(t[0]))yield[n];return}let r=Er(Un(t,n=>Er(n))).reduce((n,i)=>n.flatMap(o=>i.map(a=>[...o,a])),[[]]);for(let n of r)yield n}function yf(...t){return gf(this,arguments,function*(){var r,n,i,o;if(t.length===0)return yield st(void 0);if(t.length===1){try{for(var a=!0,s=vf(N(t[0])),u;u=yield st(s.next()),r=u.done,!r;){o=u.value,a=!1;try{yield yield st([o])}finally{a=!0}}}catch(d){n={error:d}}finally{try{!a&&!r&&(i=s.return)&&(yield st(i.call(s)))}finally{if(n)throw n.error}}return yield st(void 0)}let f=(yield st(Lt(Rr(t,d=>ax(this,void 0,void 0,function*(){return yield Lt(d)}))))).reduce((d,l)=>d.flatMap(p=>l.map(m=>[...p,m])),[[]]);for(let d of f)yield yield st(d)})}function*vs(t,e){if(e<0)throw new ee("Parameter 'length' cannot be negative");let r=Er(t);function*n(i,o){if(i.length===e)yield i.slice();else for(let a=0;a<o.length;a++){let s=[...i,o[a]],u=o.slice(0,a).concat(o.slice(a+1));yield*n(s,u)}}yield*n([],r)}function bf(t,e){return gf(this,arguments,function*(){yield st(yield*fg(vf(vs(yield st(Lt(t)),e))))})}function*gs(t,e){if(e<0)throw new ee("Parameter 'length' cannot be negative");let r=Er(t),n=r.length;if(e===0){yield[];return}if(e>n||e<0)return;let i=Array.from({length:e},(o,a)=>a);for(yield i.map(o=>r[o]);;){let o=e-1;for(;o>=0&&i[o]===o+n-e;)o--;if(o<0)break;i[o]++;for(let a=o+1;a<e;a++)i[a]=i[a-1]+1;yield i.map(a=>r[a])}}function xf(t,e){return gf(this,arguments,function*(){yield st(yield*fg(vf(gs(yield st(Lt(t)),e))))})}var zt={};At(zt,{booleans:()=>fx,booleansAsync:()=>dx,count:()=>ux,cycle:()=>mg,cycleAsync:()=>cx,repeat:()=>lx});var dg=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},Zr=function(t){return this instanceof Zr?(this.v=t,this):new Zr(t)},sx=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:Zr(t[i](a)),done:i==="return"}:o?o(a):a}:o}},pg=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof Zr?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}};function*ux(t=1,e=1){for(let r=t;;r+=e)yield r}function*mg(t){let e=[...M(t)];if(e.length!==0)for(;;)for(let r of e)yield r}function cx(t){return pg(this,arguments,function*(){var r,n,i,o;let a=[];try{for(var s=!0,u=dg(N(t)),c;c=yield Zr(u.next()),r=c.done,!r;){o=c.value,s=!1;try{let f=o;a.push(f),yield yield Zr(f)}finally{s=!0}}}catch(f){n={error:f}}finally{try{!s&&!r&&(i=u.return)&&(yield Zr(i.call(u)))}finally{if(n)throw n.error}}yield Zr(yield*sx(dg(mg(a))))})}function*lx(t){for(;;)yield t}function*fx(t){let e=0;for(;t===void 0||e<t;)yield Math.random()>.5,e++}function dx(t){return pg(this,arguments,function*(){let r=0;for(;t===void 0||r<t;)yield yield Zr(Math.random()>.5),r++})}var sn=class t{static of(e){return new t(M(e))}static ofEmpty(){return new t([])}static ofCount(e=1,r=1){return new t(zt.count(e,r))}static ofCycle(e){return new t(zt.cycle(e))}static ofRepeat(e){return new t(zt.repeat(e))}static ofBooleans(e){return new t(zt.booleans(e))}zipWith(...e){return this.data=So(this.data,...e),this}zipFilledWith(e,...r){return this.data=Ic(e,this.data,...r),this}zipLongestWith(...e){return this.data=zc(this.data,...e),this}zipEqualWith(...e){return this.data=To(this.data,...e),this}chainWith(...e){return this.data=Ac(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=Uo(this.data,e,r,n),this}chunkwise(e){return this.data=Zl(this.data,e),this}compress(e){return this.data=Pl(this.data,e),this}dropWhile(e){return this.data=jl(this.data,e),this}filter(e){return this.data=Rl(this.data,e),this}enumerate(){return this.data=pn(this.data),this}keys(){return this.data=ql(this.data),this}limit(e){return this.data=Bl(this.data,e),this}map(e){return this.data=Un(this.data,e),this}flatMap(e){return this.data=Ul(this.data,e),this}flatten(e=1/0){return this.data=ds(this.data,e),this}groupBy(e,r){return this.data=ef(this.data,e,r),this}pairwise(){return this.data=dn(this.data),this}runningAverage(e){return this.data=of(this.data,e),this}runningDifference(e){return this.data=sf(this.data,e),this}runningMax(e){return this.data=cf(this.data,e),this}runningMin(e){return this.data=ff(this.data,e),this}runningProduct(e){return this.data=pf(this.data,e),this}runningTotal(e){return this.data=ms(this.data,e),this}skip(e,r=0){return this.data=Hl(this.data,e,r),this}slice(e=0,r,n=1){return this.data=Wl(this.data,e,r,n),this}takeWhile(e){return this.data=Cl(this.data,e),this}values(){return this.data=Xl(this.data),this}sort(e){return this.data=rf(this.data,e),this}distinct(e){return this.data=wi(this.data,e),this}intersectionWith(...e){return this.data=kl(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=Co(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=Il(this.data,...e),this}unionWith(...e){return this.data=zl(this.data,...e),this}cartesianProductWith(...e){return this.data=_f(this.data,...e),this}permutations(e){return this.data=vs(this.data,e),this}combinations(e){return this.data=gs(this.data,e),this}peek(e){let[r,n]=Oo(this.data,2);this.data=r;for(let i of n)e(i);return this}peekStream(e){let[r,n]=Oo(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return Dt(this,e,r)}toAverage(){return jc(this)}toCount(){return yi(this)}toMax(e){return Cc(this,e)}toMin(e){return Uc(this,e)}toMinMax(e){return cs(this,e)}toFirst(){return Jc(this)}toFirstAndLast(){return Yc(this)}toLast(){return Gc(this)}toSum(){return Zc(this)}toProduct(){return Bc(this)}toRange(){return Rc(this)}allMatch(e){return Kc(this,e)}allUnique(){return Qc(this)}anyMatch(e){return tl(this,e)}exactlyN(e,r){return nl(this,e,r)}isSorted(){return sl(this)}isReversed(){return ol(this)}noneMatch(e){return cl(this,e)}sameWith(...e){return fl(this.data,...e)}sameCountWith(...e){return pl(this.data,...e)}tee(e){return Oo(this.data,e).map(r=>new t(r))}toArray(){return Er(this)}toMap(){return _l(this)}toSet(){return bl(this)}*[Symbol.iterator](){for(let e of this.data)yield e}constructor(e){this.data=e}};var fe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(d){a(d)}}function u(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?o(f.value):i(f.value).then(s,u)}c((n=n.apply(t,e||[])).next())})},hg=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}},Si=function(t){return this instanceof Si?(this.v=t,this):new Si(t)},px=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(l){n[l]&&(i[l]=function(p){return new Promise(function(m,v){o.push([l,p,m,v])>1||s(l,p)})})}function s(l,p){try{u(n[l](p))}catch(m){d(o[0][3],m)}}function u(l){l.value instanceof Si?Promise.resolve(l.value.v).then(c,f):d(o[0][2],l)}function c(l){s("next",l)}function f(l){s("throw",l)}function d(l,p){l(p),o.shift(),o.length&&s(o[0][0],o[0][1])}},_s=class t{static of(e){return new t(N(e))}static ofEmpty(){return new t(N([]))}static ofCount(e=1,r=1){return new t(N(zt.count(e,r)))}static ofCycle(e){return new t(zt.cycleAsync(e))}static ofRepeat(e){return new t(N(zt.repeat(e)))}static ofBooleans(e){return new t(zt.booleansAsync(e))}zipWith(...e){return this.data=zo(this.data,...e),this}zipFilledWith(e,...r){return this.data=Sc(e,this.data,...r),this}zipLongestWith(...e){return this.data=Tc(this.data,...e),this}zipEqualWith(...e){return this.data=Ao(this.data,...e),this}chainWith(...e){return this.data=Pc(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=Do(this.data,e,r,n),this}chunkwise(e){return this.data=Fl(this.data,e),this}compress(e){return this.data=Ol(this.data,e),this}dropWhile(e){return this.data=Nl(this.data,e),this}filter(e){return this.data=Ll(this.data,e),this}enumerate(){return this.data=Jl(this.data),this}keys(){return this.data=Yl(this.data),this}limit(e){return this.data=Vl(this.data,e),this}map(e){return this.data=Rr(this.data,e),this}flatMap(e){return this.data=Dl(this.data,e),this}flatten(e=1/0){return this.data=ps(this.data,e),this}groupBy(e,r){return this.data=tf(this.data,e,r),this}pairwise(){return this.data=bi(this.data),this}runningAverage(e){return this.data=af(this.data,e),this}runningDifference(e){return this.data=uf(this.data,e),this}runningMax(e){return this.data=lf(this.data,e),this}runningMin(e){return this.data=df(this.data,e),this}runningProduct(e){return this.data=mf(this.data,e),this}runningTotal(e){return this.data=hs(this.data,e),this}skip(e,r=0){return this.data=Kl(this.data,e,r),this}slice(e=0,r,n=1){return this.data=Gl(this.data,e,r,n),this}takeWhile(e){return this.data=Ml(this.data,e),this}values(){return this.data=Ql(this.data),this}sort(e){return this.data=nf(this.data,e),this}distinct(e){return this.data=No(this.data,e),this}intersectionWith(...e){return this.data=El(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=Mo(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=Sl(this.data,...e),this}unionWith(...e){return this.data=Tl(this.data,...e),this}cartesianProductWith(...e){return this.data=yf(this.data,...e),this}permutations(e){return this.data=bf(this.data,e),this}combinations(e){return this.data=xf(this.data,e),this}peek(e){let[r,n]=jo(this.data,2);return this.data=r,fe(this,void 0,void 0,function*(){var i,o,a,s;try{for(var u=!0,c=hg(n),f;f=yield c.next(),i=f.done,!i;){s=f.value,u=!1;try{e(s)}finally{u=!0}}}catch(d){o={error:d}}finally{try{!u&&!i&&(a=c.return)&&(yield a.call(c))}finally{if(o)throw o.error}}}),this}peekStream(e){let[r,n]=jo(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return fe(this,void 0,void 0,function*(){return yield Rt(this,e,r)})}toAverage(){return fe(this,void 0,void 0,function*(){return yield Nc(this)})}toCount(){return fe(this,void 0,void 0,function*(){return yield Po(this)})}toMax(e){return fe(this,void 0,void 0,function*(){return yield Mc(this,e)})}toMin(e){return fe(this,void 0,void 0,function*(){return yield Dc(this,e)})}toMinMax(e){return fe(this,void 0,void 0,function*(){return yield ls(this,e)})}toFirst(){return fe(this,void 0,void 0,function*(){return yield Wc(this)})}toFirstAndLast(){return fe(this,void 0,void 0,function*(){return yield Hc(this)})}toLast(){return fe(this,void 0,void 0,function*(){return yield qc(this)})}toSum(){return fe(this,void 0,void 0,function*(){return yield Fc(this)})}toProduct(){return fe(this,void 0,void 0,function*(){return yield Vc(this)})}toRange(){return fe(this,void 0,void 0,function*(){return yield Lc(this)})}allMatch(e){return fe(this,void 0,void 0,function*(){return yield Xc(this,e)})}allUnique(){return fe(this,void 0,void 0,function*(){return yield el(this)})}anyMatch(e){return fe(this,void 0,void 0,function*(){return yield rl(this,e)})}exactlyN(e,r){return fe(this,void 0,void 0,function*(){return il(this,e,r)})}isSorted(){return fe(this,void 0,void 0,function*(){return yield ul(this)})}isReversed(){return fe(this,void 0,void 0,function*(){return yield al(this)})}noneMatch(e){return fe(this,void 0,void 0,function*(){return yield ll(this,e)})}sameWith(...e){return fe(this,void 0,void 0,function*(){return yield dl(this.data,...e)})}sameCountWith(...e){return fe(this,void 0,void 0,function*(){return yield ml(this.data,...e)})}tee(e){return jo(this.data,e).map(r=>new t(r))}toArray(){return fe(this,void 0,void 0,function*(){return yield Lt(this)})}toMap(){return fe(this,void 0,void 0,function*(){return yield yl(this)})}toSet(){return fe(this,void 0,void 0,function*(){return yield xl(this)})}[Symbol.asyncIterator](){return px(this,arguments,function*(){var r,n,i,o;try{for(var a=!0,s=hg(this.data),u;u=yield Si(s.next()),r=u.done,!r;){o=u.value,a=!1;try{yield yield Si(o)}finally{a=!0}}}catch(c){n={error:c}}finally{try{!a&&!r&&(i=s.return)&&(yield Si(i.call(s)))}finally{if(n)throw n.error}}})}constructor(e){this.data=e}};function $f(...t){let e=r=>t.reduce((n,i)=>i(n),r);return e.add=r=>$f(e,r),e}var ys=class{apiInstance;constructor(e){this.apiInstance=e}parsinom(){return{P:D,P_UTILS:Kt,Parser:Y,createParsingErrorMessage:wc,ParsingError:gi,ParserContext:vi}}itertools(){return wf}};var bs=class{apiInstance;constructor(e){this.apiInstance=e}createBuilder(){return new Nn(this.apiInstance)}create(e){return O(w({markdown:$()}),{markdown:e}),new Ur(this.apiInstance,e)}createText(e){return O(w({text:$()}),{text:e}),new It(this.apiInstance,e,!1,!1,!1,!1)}createBoldText(e){return O(w({text:$()}),{text:e}),new It(this.apiInstance,e,!0,!1,!1,!1)}createCursiveText(e){return O(w({text:$()}),{text:e}),new It(this.apiInstance,e,!1,!0,!1,!1)}createUnderlinedText(e){return O(w({text:$()}),{text:e}),new It(this.apiInstance,e,!1,!1,!0,!1)}createHighlightedText(e){return O(w({text:$()}),{text:e}),new It(this.apiInstance,e,!1,!1,!1,!0)}createCode(e){return O(w({text:$()}),{text:e}),new yo(this.apiInstance,e)}createParagraph(e){return O(w({content:$()}),{content:e}),new $o(this.apiInstance,e)}createHeading(e,r){return O(w({level:Mr(),content:$()}),{level:e,content:r}),new xo(this.apiInstance,e,r)}createBlockQuote(){return new ko(this.apiInstance)}createCallout(e,r,n=""){return O(w({title:$(),type:$(),args:$()}),{title:e,type:r,args:n}),new On(this.apiInstance,e,r,n)}createCollapsibleCallout(e,r,n="",i=!1){return O(w({title:$(),type:$(),args:$(),collapsed:rn()}),{title:e,type:r,args:n,collapsed:i}),new On(this.apiInstance,e,r,n,!0,i)}createCodeBlock(e,r){return O(w({language:$(),content:$()}),{language:e,content:r}),new wo(this.apiInstance,e,r)}createTable(e,r){return O(w({header:Ht($()),body:this.apiInstance.validators.tableElementBody}),{header:e,body:r}),new bo(this.apiInstance,e,r)}createList(e=!1){return O(w({ordered:rn()}),{ordered:e}),new jn(this.apiInstance,e)}createOrderedList(){return new jn(this.apiInstance,!0)}};var xs=class{apiInstance;messageManager;constructor(e){this.apiInstance=e,this.messageManager=e.plugin.messageManager}createMessage(e,r,n,i=""){return O(w({type:this.apiInstance.validators.messageType,title:$(),content:$(),code:$()}),{type:e,title:r,content:n,code:i}),this.messageManager.addMessage(new Aa(e,r,n,i),this.apiInstance.instanceId)}getMessageById(e){return O(w({id:$()}),{id:e}),this.messageManager.messages.get().find(r=>r.uuid===e)}getMessagesForInstance(){return this.messageManager.getMessagesFromSource(this.apiInstance.instanceId)}};var mx=q('<p> </p> <div class="modal-button-container"></div>',1);function kf(t,e){Te(e,!0);let r;function n(c){let f=r.querySelector("button:focus");if(f){let d=parseInt(f.getAttribute("data-index")??"0",10),l=yp(d+(c?1:-1),e.options.buttons.length),p=r.querySelector(`button[data-index="${l}"]`);p&&p instanceof HTMLElement&&p.focus()}}function i(c){c.key==="ArrowRight"&&(c.preventDefault(),n(!0)),c.key==="ArrowLeft"&&(c.preventDefault(),n(!0))}var o=mx(),a=rt(o),s=J(a,!0);U(a);var u=W(a,2);_r(u,21,()=>e.options.buttons,Sn,(c,f,d)=>{{let l=Zi(()=>A(f).variant??"default");kt(c,{get variant(){return A(l)},onclick:()=>e.modal.submit(A(f).value),other:{"data-index":d,onkeydown:p=>i(p)},children:(p,m)=>{dt();var v=Nt();ue(()=>ce(v,A(f).label)),Z(p,v)},$$slots:{default:!0}})}}),U(u),ro(u,c=>r=c,()=>r),ue(()=>ce(s,e.options.content)),Z(t,o),Ae()}var hx=q('<textarea style="width: 100%; resize: vertical; height: 200px"></textarea>'),vx=q('<input style="width: 100%;" type="text"/>'),gx=q('<input style="width: 100%;" type="number"/>'),_x=q('<p> </p> <!> <div class="modal-button-container"><!> <!></div>',1);function Ro(t,e){Te(e,!0);let r=De(tt(e.options.initialValue));function n(p){p.key==="Enter"&&e.inputType!=="textarea"&&(p.stopPropagation(),p.preventDefault(),e.modal.submit(A(r))),p.key==="Enter"&&p.ctrlKey&&e.inputType==="textarea"&&(p.stopPropagation(),p.preventDefault(),e.modal.submit(A(r))),p.key==="Escape"&&(p.stopPropagation(),p.preventDefault(),e.modal.submit(void 0))}var i=_x(),o=rt(i),a=J(o,!0);U(o);var s=W(o,2);{var u=p=>{var m=hx();au(m),m.__keydown=n,ue(()=>Ct(m,"placeholder",e.options.placeholder??"Text here...")),to(m,()=>A(r),v=>ae(r,v)),Z(p,m)},c=p=>{var m=qi(),v=rt(m);{var b=x=>{var E=vx();eo(E),E.__keydown=n,ue(()=>Ct(E,"placeholder",e.options.placeholder??"Text here...")),to(E,()=>A(r),z=>ae(r,z)),Z(x,E)},_=x=>{var E=gx();eo(E),E.__keydown=n,ue(()=>Ct(E,"placeholder",e.options.placeholder??"Number here...")),to(E,()=>A(r),z=>ae(r,z)),Z(x,E)};ot(v,x=>{e.inputType==="text"?x(b):x(_,!1)},!0)}Z(p,m)};ot(s,p=>{e.inputType==="textarea"?p(u):p(c,!1)})}var f=W(s,2),d=J(f);kt(d,{get variant(){return"primary"},onclick:()=>e.modal.submit(A(r)),children:(p,m)=>{dt();var v=Nt("Submit");Z(p,v)},$$slots:{default:!0}});var l=W(d,2);kt(l,{get variant(){return"default"},onclick:()=>e.modal.submit(void 0),children:(p,m)=>{dt();var v=Nt("Cancel");Z(p,v)},$$slots:{default:!0}}),U(f),ue(()=>ce(a,e.options.content)),Z(t,i),Ae()}In(["keydown"]);var vg=require("obsidian"),$s=class extends vg.FuzzySuggestModal{options;onSubmit;selectedValue;constructor(e,r,n){super(e),this.options=r,this.onSubmit=n,r.placeholder&&this.setPlaceholder(r.placeholder)}getItems(){return this.options.options}getItemText(e){return e.label}onChooseItem(e,r){this.selectedValue=e.value}async onOpen(){await super.onOpen(),this.selectedValue=void 0}onClose(){super.onClose(),queueMicrotask(()=>{this.onSubmit(this.selectedValue)})}};var gg=require("obsidian");var Dn=class extends gg.Modal{component;options;createComponent;onSubmit;submitted;constructor(e,r,n,i){super(e),this.options=r,this.createComponent=n,this.onSubmit=i,this.submitted=!1}onOpen(){this.submitted=!1,this.setTitle(this.options.title),this.containerEl.addClasses(this.options.classes??[]),this.createComponent(this,this.contentEl)}onClose(){this.submitted||(this.submitted=!0,this.onSubmit(void 0)),this.component&&it(this.component),this.contentEl.empty()}submit(e){this.submitted=!0,this.onSubmit(e),this.close()}};var ws=class{apiInstance;constructor(e){this.apiInstance=e}button(e){return O(w({options:this.apiInstance.validators.buttonModalPromptOptions}),{options:e}),new Promise((r,n)=>{try{new Dn(this.apiInstance.app,e,(i,o)=>Ze(kf,{target:o,props:{options:e,modal:i}}),r).open()}catch(i){n(i)}})}async confirm(e){return O(w({options:this.apiInstance.validators.confirmPromptOptions}),{options:e}),await this.button({...e,buttons:[{label:"Confirm",value:!0,variant:"primary"},{label:"Cancel",value:!1,variant:"default"}]})??!1}async yesNo(e){return O(w({options:this.apiInstance.validators.yesNoPromptOptions}),{options:e}),await this.button({...e,buttons:[{label:"Yes",value:!0,variant:"primary"},{label:"No",value:!1,variant:"default"}]})}suggester(e){return O(w({options:this.apiInstance.validators.suggesterPromptOptions}),{options:e}),new Promise((r,n)=>{try{new $s(this.apiInstance.app,e,r).open()}catch(i){n(i)}})}text(e){return O(w({options:this.apiInstance.validators.inputPromptOptions}),{options:e}),e.initialValue=e.initialValue??"",new Promise((r,n)=>{try{new Dn(this.apiInstance.app,e,(i,o)=>Ze(Ro,{target:o,props:{options:e,modal:i,inputType:"text"}}),r).open()}catch(i){n(i)}})}textarea(e){return O(w({options:this.apiInstance.validators.inputPromptOptions}),{options:e}),e.initialValue=e.initialValue??"",new Promise((r,n)=>{try{new Dn(this.apiInstance.app,e,(i,o)=>Ze(Ro,{target:o,props:{options:e,modal:i,inputType:"textarea"}}),r).open()}catch(i){n(i)}})}number(e){return O(w({options:this.apiInstance.validators.numberInputPromptOptions}),{options:e}),e.initialValue=e.initialValue??0,new Promise((r,n)=>{try{new Dn(this.apiInstance.app,e,(i,o)=>Ze(Ro,{target:o,props:{options:e,modal:i,inputType:"number"}}),r).open()}catch(i){n(i)}})}};var ks=require("obsidian");var Es=class{apiInstance;constructor(e){this.apiInstance=e}files(e){return O(w({query:rs()}),{query:e}),this.apiInstance.app.vault.getMarkdownFiles().map(r=>e(r)).filter(r=>r!==void 0)}filesWithMetadata(e){return O(w({query:rs()}),{query:e}),this.apiInstance.app.vault.getMarkdownFiles().map(r=>{let n=this.apiInstance.app.metadataCache.getFileCache(r),i=n?(0,ks.getAllTags)(n)??[]:[],o=n?.frontmatter?.tags??[];return e(r,n??void 0,i,o)}).filter(r=>r!==void 0)}outgoingLinks(e){O(w({file:this.apiInstance.validators.tFile}),{file:e});let r=this.apiInstance.app.metadataCache.getFileCache(e);if(!r)return[];let i=(r.links??[]).map(a=>this.apiInstance.app.metadataCache.getFirstLinkpathDest(a.link,e.path)).filter(a=>a!=null);return Array.from(new Set(i)).map(a=>{let s=this.apiInstance.app.metadataCache.getFileCache(a);return{file:a,metadata:s??void 0,tags:s?(0,ks.getAllTags)(s)??[]:[],frontmatterTags:s?.frontmatter?.tags??[]}})}incomingLinks(e){return O(w({file:this.apiInstance.validators.tFile}),{file:e}),this.apiInstance.app.vault.getMarkdownFiles().map(n=>{let i=this.apiInstance.app.metadataCache.getFileCache(n);if(!i)return;if((i.links??[]).some(a=>this.apiInstance.app.metadataCache.getFirstLinkpathDest(a.link,n.path)?.path===e.path))return{file:n,metadata:i,tags:(0,ks.getAllTags)(i)??[],frontmatterTags:i?.frontmatter?.tags??[]}}).filter(n=>n!==void 0)}};var yx=D.manyNotOf("{}[]#^|:?").box("file path"),bx=D.sequence(yx,D.string("#").then(D.manyNotOf("[]#|^:")).optional(),D.string("|").then(D.manyNotOf("[]")).optional()),xx=D.or(D.sequenceMap((t,e)=>new Rn(t!==void 0,e[0],e[1],e[2],!0),D.string("!").optional(),bx.wrapString("[[","]]")),D.sequenceMap((t,e,r)=>{let n=!$x(r);return new Rn(t!==void 0,r,void 0,e,n)},D.string("!").optional(),D.manyNotOf("[]").wrapString("[","]"),D.manyNotOf("()").wrapString("(",")")));function $x(t){try{return new URL(t),!0}catch{return!1}}var Rn=class t{isEmbed;target;block;alias;internal;constructor(e,r,n,i,o){this.isEmbed=e,this.target=r,this.block=n,this.alias=i,this.internal=o??!0}static fromUrl(e){return new t(!1,e.href,void 0,e.hostname,!1)}static fromString(e){return xx.thenEof().tryParse(e).value}fullTarget(){return this.block?`${this.target}#${this.block}`:this.target}toTFile(e,r){if(this.internal)return e.metadataCache.getFirstLinkpathDest(this.target,r)??void 0}toString(){let e=this.isEmbed?"!":"";if(this.internal){let r=this.alias?`|${this.alias}`:"";return`${e}[[${this.fullTarget()}${r}]]`}else{let r=this.alias??this.fullTarget();return`${e}[${r}](${this.fullTarget()})`}}};var wx=jf(require("obsidian"));var Kr=class{app;plugin;instanceId;validators;markdown;message;lib;query;prompt;internal;constructor(e,r,n){this.app=e,this.plugin=r,this.instanceId=n,this.validators=r.validators,this.markdown=new bs(this),this.message=new xs(this),this.lib=new ys(this),this.query=new Es(this),this.prompt=new ws(this),this.internal=new ns(this)}async importJs(e){O(w({path:$()}),{path:e});let r=this.app.vault.adapter.getResourcePath(e);return r=r.split("?")[0],import(r)}getPlugin(e){return O(w({pluginId:$()}),{pluginId:e}),this.app.plugins.getPlugin(e)??void 0}getObsidianModule(){return wx}reactive(e,...r){return O(w({fn:Kv(),initialArgs:Ht(gt())}),{fn:e,initialArgs:r}),new mi(this,e,r)}resolveLinkToTFile(e,r){return O(w({link:$()}),{link:e}),Rn.fromString(e)?.toTFile(this.app,r)}parseLink(e){return O(w({link:$()}),{link:e}),Rn.fromString(e)}};var kx=q("<tr><td> </td><td> </td></tr>"),Ex=q("<tr><td>none</td><td>-</td></tr>"),Ix=q("<p>None</p>"),Sx=q('<div><h2>JS Execution Stats</h2> <p> </p> <h3>Code</h3> <pre class="language-js"><code class="language-js"><!></code></pre> <h3>Time</h3> <p> </p> <p> </p> <h3>Arguments</h3> <div class="markdown-rendered"><table><thead><tr><th>Argument Name</th><th>Value Type</th></tr></thead><tbody></tbody></table></div> <h3>Messages</h3> <div></div></div>');function Ef(t,e){Te(e,!0);function r(_){let x=window.Prism;try{return x.highlight(_,x.languages.javascript,"javascript")}catch(E){return console.warn("js-engine | failed to highlight code",E),_}}var n=Sx(),i=W(J(n),2),o=J(i);U(i);var a=W(i,4),s=J(a),u=J(s);xu(u,()=>r(e.execution.code)),U(s),U(a);var c=W(a,4),f=J(c);U(c);var d=W(c,2),l=J(d);U(d);var p=W(d,4),m=J(p),v=W(J(m));_r(v,21,()=>Object.entries(e.execution.globals),_=>_[0],(_,x)=>{var E=kx(),z=J(E),R=J(z,!0);U(z);var y=W(z),k=J(y,!0);U(y),U(E),ue(()=>{ce(R,A(x)[0]),ce(k,typeof A(x)[1])}),Z(_,E)},_=>{var x=Ex();Z(_,x)}),U(v),U(m),U(p);var b=W(p,4);_r(b,21,()=>e.execution.getMessages(),Sn,(_,x)=>{zn(_,{get messageWrapper(){return A(x)},get messageManager(){return e.execution.plugin.messageManager},showDeleteButton:!1,showMessageSource:!1})},_=>{var x=Ix();Z(_,x)}),U(b),U(n),ue((_,x)=>{ce(o,`Execution ID: ${e.execution.uuid??""}`),ce(f,`Build Time: ${_??""} ms`),ce(l,`Execution Time: ${x??""} ms`)},[()=>Math.round(e.execution.functionBuildTime??0),()=>Math.round(e.execution.functionRunTime??0)]),Z(t,n),Ae()}var _g=require("obsidian");var Is=class extends _g.Modal{plugin;component;execution;constructor(e,r){super(e),this.plugin=r}setExecution(e){this.execution=e}onOpen(){if(this.contentEl.empty(),this.component&&it(this.component),this.contentEl.hasClass("js-engine-execution-stats-modal")||this.contentEl.addClass("js-engine-execution-stats-modal"),this.execution===void 0){this.contentEl.createEl("p",{cls:"mod-warning",text:"No execution data available."});return}this.component=Ze(Ef,{target:this.contentEl,props:{execution:this.execution}})}onClose(){this.contentEl.empty(),this.component&&it(this.component)}};var Ss=class{app;plugin;executionStatsModal;activeExecutions;constructor(e,r){this.app=e,this.plugin=r,this.executionStatsModal=new Is(this.app,this.plugin),this.activeExecutions=new Map}async execute(e){let r=new ja({app:this.app,plugin:this.plugin,...e});return this.activeExecutions.set(r.uuid,r),r.buildFunction(),r.functionBuildError||await r.runFunction(),this.activeExecutions.delete(r.uuid),r}openExecutionStatsModal(e){this.executionStatsModal.setExecution(e),this.executionStatsModal.open()}};var zs=require("obsidian"),zi=class extends zs.FuzzySuggestModal{plugin;selectCallback;constructor(e,r){super(e.app),this.plugin=e,this.selectCallback=r}getItems(){return this.app.vault.getAllLoadedFiles().filter(r=>r instanceof zs.TFile).filter(r=>r.extension==="js")}getItemText(e){return e.path}onChooseItem(e,r){this.selectCallback(e)}};var mn=require("obsidian"),Lo=class extends mn.MarkdownRenderChild{plugin;content;ctx;jsExecution;debugMode;constructor(e,r,n,i,o){super(e),this.plugin=r,this.content=n,this.debugMode=i,this.ctx=o}getExecutionFile(){if(!this.ctx.sourcePath)return;let e=this.plugin.app.vault.getAbstractFileByPath(this.ctx.sourcePath);if(e&&e instanceof mn.TFile)return e}buildExecutionContext(){let e=this.getExecutionFile(),r=e?this.plugin.app.metadataCache.getFileCache(e)??void 0:void 0;return{executionSource:"markdown-code-block",file:e,metadata:r,block:void 0}}async tryRun(e){return this.plugin.jsEngine.execute({code:this.content,context:e,contextOverrides:{},component:this,container:this.containerEl})}async renderResults(e){let r=this.buildExecutionContext();this.jsExecution=await this.tryRun(r);let n=this.jsExecution.result;await new hi(this.plugin,e,this.ctx.sourcePath,this).render(n)}renderExecutionStats(e){if(!this.debugMode)return;let r=new mn.Menu;r.addItem(i=>{i.setTitle("Info"),i.setIcon("info"),i.onClick(()=>{this.jsExecution?.openStatsModal()})}),r.addItem(i=>{i.setTitle("Rerun"),i.setIcon("rotate-ccw"),i.onClick(()=>{this.render()})});let n=e.createDiv();n.addClass("js-engine-execution-stats-button"),n.addEventListener("click",i=>{r.showAtMouseEvent(i)}),(0,mn.setIcon)(n,"info")}async render(){this.containerEl.empty(),this.containerEl.hasClass("js-engine-execution-render-child")||this.containerEl.addClass("js-engine-execution-render-child");try{await this.renderResults(this.containerEl),this.renderExecutionStats(this.containerEl)}catch(e){this.containerEl.innerText=e instanceof Error?e.stack?.toString()??"":e,this.containerEl.addClass("mod-warning")}}onload(){this.render()}onunload(){}};var zx=q('<div class="modal-button-container"><!></div>');function If(t,e){var r=zx(),n=J(r);Yi(n,()=>e.children),U(r),Z(t,r)}var bg=require("obsidian");var yg=require("obsidian"),Tx=q('<div class="js-engine-icon-wrapper"></div>');function Sf(t,e){Te(e,!0);let r=Mt(e,"iconName",3,""),n=De(void 0);ei(()=>A(n)?(0,yg.setIcon)(A(n),r()):void 0);var i=qi(),o=rt(i);{var a=s=>{var u=Tx();ro(u,c=>ae(n,c),()=>A(n)),Z(s,u)};ot(o,s=>{r().length>0&&s(a)})}Z(t,i),Ae()}var Ax=q('<div class="js-engine-list-item"><span> </span> <!></div>'),Px=q("<!> <!>",1),Ox=q('<div><div class="js-engine-list"></div> <!> <!></div>');function zf(t,e){Te(e,!0);let r=tt(e.startupScripts);function n(){new zi(e.modal.plugin,async d=>{r.push(d.path)}).open()}function i(){e.modal.save(Jn(r)),e.modal.close()}function o(){e.modal.close()}function a(d,l){let p=new bg.Menu;l>0&&p.addItem(m=>{m.setTitle("Move up"),m.setIcon("arrow-up"),m.onClick(()=>{let v=r[l-1];r[l-1]=r[l],r[l]=v})}),l<r.length-1&&p.addItem(m=>{m.setTitle("Move down"),m.setIcon("arrow-down"),m.onClick(()=>{let v=r[l+1];r[l+1]=r[l],r[l]=v})}),p.addItem(m=>{m.setTitle("Remove"),m.setIcon("x"),m.setWarning(!0),m.onClick(()=>{r.splice(l,1)})}),p.showAtMouseEvent(d)}var s=Ox(),u=J(s);_r(u,21,()=>r,Sn,(d,l,p)=>{var m=Ax(),v=J(m),b=J(v,!0);U(v);var _=W(v,2);kt(_,{onclick:x=>a(x,p),get variant(){return"plain"},tooltip:"Edit",children:(x,E)=>{Sf(x,{iconName:"ellipsis-vertical"})},$$slots:{default:!0}}),U(m),ue(()=>ce(b,A(l))),Z(d,m)}),U(u);var c=W(u,2);kt(c,{onclick:()=>n(),children:(d,l)=>{dt();var p=Nt("Add startup script");Z(d,p)},$$slots:{default:!0}});var f=W(c,2);If(f,{children:(d,l)=>{var p=Px(),m=rt(p);kt(m,{onclick:()=>i(),get variant(){return"primary"},tooltip:"Save changes",children:(b,_)=>{dt();var x=Nt("Save");Z(b,x)},$$slots:{default:!0}});var v=W(m,2);kt(v,{onclick:()=>o(),tooltip:"Revert changes",children:(b,_)=>{dt();var x=Nt("Cancel");Z(b,x)},$$slots:{default:!0}}),Z(d,p)},$$slots:{default:!0}}),U(s),Z(t,s),Ae()}var xg=require("obsidian");var Ts=class extends xg.Modal{plugin;component;constructor(e){super(e.app),this.plugin=e}onOpen(){this.contentEl.empty(),this.component=Ze(zf,{target:this.contentEl,props:{modal:this,startupScripts:this.plugin.settings.startupScripts??[]}})}onClose(){this.component&&it(this.component)}save(e){this.plugin.settings.startupScripts=e,this.plugin.saveSettings()}};var Zo=require("obsidian"),Tf={startupScripts:[],disableStatusbar:!1},As=class extends Zo.PluginSettingTab{plugin;constructor(e,r){super(e,r),this.plugin=r}display(){this.containerEl.empty(),this.plugin.settings&&(new Zo.Setting(this.containerEl).setName("Startup scripts").addButton(e=>{e.setButtonText("Manage").onClick(()=>{new Ts(this.plugin).open()})}),new Zo.Setting(this.containerEl).setName("Disable Status Bar Item").setDesc("Disable the status bar item for messages.").addToggle(e=>{e.setValue(this.plugin.settings.disableStatusbar??Tf.disableStatusbar),e.onChange(async r=>{this.plugin.settings.disableStatusbar=r,await this.plugin.saveSettings(),this.plugin.settings.disableStatusbar?this.plugin.messageManager.removeStatusBarItem():this.plugin.messageManager.initStatusBarItem()})}))}};var $g=require("obsidian"),Ps=class extends $g.Plugin{settings;messageManager;jsEngine;api;validators;constructor(e,r){super(e,r),this.validators=new es,this.messageManager=new Pa(this.app,this),this.jsEngine=new Ss(this.app,this),this.api=new Kr(this.app,this,Fn.create("PLUGIN"))}async onload(){await this.loadSettings(),this.addSettingTab(new As(this.app,this)),this.settings.disableStatusbar||this.messageManager.initStatusBarItem(),this.registerMarkdownCodeBlockProcessor("js-engine",(e,r,n)=>{n.addChild(new Lo(r,this,e,!1,n))}),this.registerMarkdownCodeBlockProcessor("js-engine-debug",(e,r,n)=>{n.addChild(new Lo(r,this,e,!0,n))}),this.addCommand({id:"execute-js-file",name:"Execute JS File",callback:()=>{new zi(this,async e=>{await this.api.internal.executeFileSimple(e.path)}).open()}}),this.app.workspace.onLayoutReady(()=>{this.api.internal.executeStartupScripts()}),await this.registerCodeMirrorMode()}onunload(){this.messageManager.removeStatusBarItem()}async loadSettings(){let e=await this.loadData();this.settings=Object.assign({},Tf,e)}async saveSettings(){await this.saveData(this.settings)}async registerCodeMirrorMode(){window.CodeMirror.defineMode("js-engine",e=>window.CodeMirror.getMode(e,"javascript")),window.CodeMirror.defineMode("js-engine-debug",e=>window.CodeMirror.getMode(e,"javascript"))}};

/* nosourcemap */